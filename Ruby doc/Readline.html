<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Readline
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Readline";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (R)</a> &raquo;
    
    
    <span class="title">Readline</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Readline
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="IRB/HistorySavingAbility.html" title="IRB::HistorySavingAbility (module)">IRB::HistorySavingAbility</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>ext/readline/readline.c</dd>
  </dl>
  
</div>


  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="HISTORY-constant" class="">HISTORY =
        <div class="docstring">
  <div class="discussion">
    
<p>The history buffer. It extends Enumerable module, so it behaves just like
an array. For example, gets the fifth content that the user input by <a
href="4">HISTORY</a>.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='id identifier rubyid_history'>history</span></pre></dd>
    
      <dt id="FILENAME_COMPLETION_PROC-constant" class="">FILENAME_COMPLETION_PROC =
        <div class="docstring">
  <div class="discussion">
    
<p>The Object with the call method that is a completion for filename. This is
sets by Readline.completion_proc= method.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='id identifier rubyid_fcomp'>fcomp</span></pre></dd>
    
      <dt id="USERNAME_COMPLETION_PROC-constant" class="">USERNAME_COMPLETION_PROC =
        <div class="docstring">
  <div class="discussion">
    
<p>The Object with the call method that is a completion for usernames. This is
sets by Readline.completion_proc= method.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='id identifier rubyid_ucomp'>ucomp</span></pre></dd>
    
      <dt id="VERSION-constant" class="">VERSION =
        <div class="docstring">
  <div class="discussion">
    
<p>Version string of GNU Readline or libedit.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='id identifier rubyid_version'>version</span></pre></dd>
    
  </dl>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_quote_characters-class_method" title="basic_quote_characters (class method)">.<strong>basic_quote_characters</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets a list of quote characters which can cause a word break.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_quote_characters=-class_method" title="basic_quote_characters= (class method)">.<strong>basic_quote_characters=</strong>(string)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets a list of quote characters which can cause a word break.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_word_break_characters-class_method" title="basic_word_break_characters (class method)">.<strong>basic_word_break_characters</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the basic list of characters that signal a break between words for the
completer routine.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_word_break_characters=-class_method" title="basic_word_break_characters= (class method)">.<strong>basic_word_break_characters=</strong>(string)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the basic list of characters that signal a break between words for the
completer routine.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_quote_characters-class_method" title="completer_quote_characters (class method)">.<strong>completer_quote_characters</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets a list of characters which can be used to quote a substring of the
line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_quote_characters=-class_method" title="completer_quote_characters= (class method)">.<strong>completer_quote_characters=</strong>(string)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets a list of characters which can be used to quote a substring of the
line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_word_break_characters-class_method" title="completer_word_break_characters (class method)">.<strong>completer_word_break_characters</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the basic list of characters that signal a break between words for
rl_complete_internal().</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completer_word_break_characters=-class_method" title="completer_word_break_characters= (class method)">.<strong>completer_word_break_characters=</strong>(string)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the basic list of characters that signal a break between words for
rl_complete_internal().</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_append_character-class_method" title="completion_append_character (class method)">.<strong>completion_append_character</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a string containing a character to be appended on completion.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_append_character=-class_method" title="completion_append_character= (class method)">.<strong>completion_append_character=</strong>(char)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies a character to be appended on completion.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_case_fold-class_method" title="completion_case_fold (class method)">.<strong>completion_case_fold</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if completion ignores case.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_case_fold=-class_method" title="completion_case_fold= (class method)">.<strong>completion_case_fold=</strong>(bool)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets whether or not to ignore case on completion.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_proc-class_method" title="completion_proc (class method)">.<strong>completion_proc</strong>  &#x21d2; Proc </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the completion Proc object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completion_proc=-class_method" title="completion_proc= (class method)">.<strong>completion_proc=</strong>(proc)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies a Proc object <code>proc</code> to determine completion behavior.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_text-class_method" title="delete_text (class method)">.<strong>delete_text</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Delete text between start and end in the current line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#emacs_editing_mode-class_method" title="emacs_editing_mode (class method)">.<strong>emacs_editing_mode</strong>  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies Emacs editing mode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#emacs_editing_mode%3F-class_method" title="emacs_editing_mode? (class method)">.<strong>emacs_editing_mode?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if emacs mode is active.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filename_quote_characters-class_method" title="filename_quote_characters (class method)">.<strong>filename_quote_characters</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filename_quote_characters=-class_method" title="filename_quote_characters= (class method)">.<strong>filename_quote_characters=</strong>(string)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_screen_size-class_method" title="get_screen_size (class method)">.<strong>get_screen_size</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the terminal&#39;s rows and columns.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#input=-class_method" title="input= (class method)">.<strong>input=</strong>(input)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies a File object <code>input</code> that is input stream for
Readline.readline method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#insert_text-class_method" title="insert_text (class method)">.<strong>insert_text</strong>(string)  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Insert text into the line at the current cursor position.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#line_buffer-class_method" title="line_buffer (class method)">.<strong>line_buffer</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the full line that is being edited.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#output=-class_method" title="output= (class method)">.<strong>output=</strong>(output)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies a File object <code>output</code> that is output stream for
Readline.readline method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#point-class_method" title="point (class method)">.<strong>point</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the index of the current cursor position in
<code>Readline.line_buffer</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#point=-class_method" title="point= (class method)">.<strong>point=</strong>(int)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the index of the current cursor position in
<code>Readline.line_buffer</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pre_input_hook-class_method" title="pre_input_hook (class method)">.<strong>pre_input_hook</strong>  &#x21d2; Proc </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a Proc object <code>proc</code> to call after the first prompt has
been printed and just before readline starts reading input characters.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pre_input_hook=-class_method" title="pre_input_hook= (class method)">.<strong>pre_input_hook=</strong>(proc)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies a Proc object <code>proc</code> to call after the first prompt
has been printed and just before readline starts reading input characters.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#quoting_detection_proc-class_method" title="quoting_detection_proc (class method)">.<strong>quoting_detection_proc</strong>  &#x21d2; Proc </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the quoting detection Proc object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#quoting_detection_proc=-class_method" title="quoting_detection_proc= (class method)">.<strong>quoting_detection_proc=</strong>(proc)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies a Proc object <code>proc</code> to determine if a character in
the user&#39;s input is escaped.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readline-class_method" title="readline (class method)">.<strong>readline</strong>(prompt = &quot;&quot;, add_hist = false)  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Shows the <code>prompt</code> and reads the inputted line with line
editing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#redisplay-class_method" title="redisplay (class method)">.<strong>redisplay</strong>  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Change what&#39;s displayed on the screen to reflect the current contents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refresh_line-class_method" title="refresh_line (class method)">.<strong>refresh_line</strong>  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Clear the current input line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_screen_size-class_method" title="set_screen_size (class method)">.<strong>set_screen_size</strong>(rows, columns)  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set terminal size to <code>rows</code> and <code>columns</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#special_prefixes-class_method" title="special_prefixes (class method)">.<strong>special_prefixes</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the list of characters that are word break characters, but should be
left in text when it is passed to the completion function.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#special_prefixes=-class_method" title="special_prefixes= (class method)">.<strong>special_prefixes=</strong>(string)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the list of characters that are word break characters, but should be
left in text when it is passed to the completion function.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#vi_editing_mode-class_method" title="vi_editing_mode (class method)">.<strong>vi_editing_mode</strong>  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies VI editing mode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#vi_editing_mode%3F-class_method" title="vi_editing_mode? (class method)">.<strong>vi_editing_mode?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns true if vi mode is active.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="basic_quote_characters-class_method">
  
    .<strong>basic_quote_characters</strong>  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets a list of quote characters which can cause a word break.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1520
1521
1522
1523
1524
1525
1526</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1520</span>

static VALUE
readline_s_get_basic_quote_characters(VALUE self, VALUE str)
{
    if (rl_basic_quote_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_basic_quote_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="basic_quote_characters=-class_method">
  
    .<strong>basic_quote_characters=</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets a list of quote characters which can cause a word break.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1487
1488
1489
1490
1491
1492
1493
1494
1495
1496
1497
1498
1499
1500
1501
1502
1503
1504
1505
1506</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1487</span>

static VALUE
readline_s_set_basic_quote_characters(VALUE self, VALUE str)
{
    static char *basic_quote_characters = NULL;

    OutputStringValue(str);
    if (basic_quote_characters == NULL) {
        basic_quote_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(basic_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(basic_quote_characters,
            RSTRING_PTR(str), RSTRING_LEN(str));
    basic_quote_characters[RSTRING_LEN(str)] = &#39;\0&#39;;
    rl_basic_quote_characters = basic_quote_characters;

    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="basic_word_break_characters-class_method">
  
    .<strong>basic_word_break_characters</strong>  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the basic list of characters that signal a break between words for the
completer routine.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1350
1351
1352
1353
1354
1355
1356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1350</span>

static VALUE
readline_s_get_basic_word_break_characters(VALUE self, VALUE str)
{
    if (rl_basic_word_break_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_basic_word_break_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="basic_word_break_characters=-class_method">
  
    .<strong>basic_word_break_characters=</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the basic list of characters that signal a break between words for the
completer routine. The default is the characters which break words for
completion in Bash: “ tn&quot;\&#39;`@$&gt;&lt;=;|&amp;{(”.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1317
1318
1319
1320
1321
1322
1323
1324
1325
1326
1327
1328
1329
1330
1331
1332
1333
1334
1335</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1317</span>

static VALUE
readline_s_set_basic_word_break_characters(VALUE self, VALUE str)
{
    static char *basic_word_break_characters = NULL;

    OutputStringValue(str);
    if (basic_word_break_characters == NULL) {
        basic_word_break_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(basic_word_break_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(basic_word_break_characters,
            RSTRING_PTR(str), RSTRING_LEN(str));
    basic_word_break_characters[RSTRING_LEN(str)] = &#39;\0&#39;;
    rl_basic_word_break_characters = basic_word_break_characters;
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completer_quote_characters-class_method">
  
    .<strong>completer_quote_characters</strong>  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets a list of characters which can be used to quote a substring of the
line.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1576
1577
1578
1579
1580
1581
1582</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1576</span>

static VALUE
readline_s_get_completer_quote_characters(VALUE self, VALUE str)
{
    if (rl_completer_quote_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_completer_quote_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completer_quote_characters=-class_method">
  
    .<strong>completer_quote_characters=</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets a list of characters which can be used to quote a substring of the
line. Completion occurs on the entire substring, and within the substring
Readline.completer_word_break_characters are treated as any other
character, unless they also appear within this list.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1543
1544
1545
1546
1547
1548
1549
1550
1551
1552
1553
1554
1555
1556
1557
1558
1559
1560
1561</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1543</span>

static VALUE
readline_s_set_completer_quote_characters(VALUE self, VALUE str)
{
    static char *completer_quote_characters = NULL;

    OutputStringValue(str);
    if (completer_quote_characters == NULL) {
        completer_quote_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(completer_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(completer_quote_characters, RSTRING_PTR(str), RSTRING_LEN(str));
    completer_quote_characters[RSTRING_LEN(str)] = &#39;\0&#39;;
    rl_completer_quote_characters = completer_quote_characters;

    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completer_word_break_characters-class_method">
  
    .<strong>completer_word_break_characters</strong>  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the basic list of characters that signal a break between words for
rl_complete_internal().</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1405
1406
1407
1408
1409
1410
1411</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1405</span>

static VALUE
readline_s_get_completer_word_break_characters(VALUE self, VALUE str)
{
    if (rl_completer_word_break_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_completer_word_break_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completer_word_break_characters=-class_method">
  
    .<strong>completer_word_break_characters=</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the basic list of characters that signal a break between words for
rl_complete_internal(). The default is the value of
Readline.basic_word_break_characters.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388
1389
1390</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1372</span>

static VALUE
readline_s_set_completer_word_break_characters(VALUE self, VALUE str)
{
    static char *completer_word_break_characters = NULL;

    OutputStringValue(str);
    if (completer_word_break_characters == NULL) {
        completer_word_break_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(completer_word_break_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(completer_word_break_characters,
            RSTRING_PTR(str), RSTRING_LEN(str));
    completer_word_break_characters[RSTRING_LEN(str)] = &#39;\0&#39;;
    rl_completer_word_break_characters = completer_word_break_characters;
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_append_character-class_method">
  
    .<strong>completion_append_character</strong>  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a string containing a character to be appended on completion. The
default is a space (“ ”).</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1291
1292
1293
1294
1295
1296
1297
1298
1299
1300
1301</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1291</span>

static VALUE
readline_s_get_completion_append_character(VALUE self)
{
    char buf[1];

    if (rl_completion_append_character == &#39;\0&#39;)
        return Qnil;

    buf[0] = (char) rl_completion_append_character;
    return rb_locale_str_new(buf, 1);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_append_character=-class_method">
  
    .<strong>completion_append_character=</strong>(char)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies a character to be appended on completion. Nothing will be
appended if an empty string (“”) or nil is specified.</p>

<p>For example:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>readline</span><span class='tstring_end'>&quot;</span></span>

<span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_readline'><span class='object_link'><a href="#readline-class_method" title="Readline.readline (method)">readline</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
<span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_completion_append_character'><span class='object_link'><a href="#completion_append_character-class_method" title="Readline.completion_append_character (method)">completion_append_character</a></span></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p>Result:</p>

<pre class="code"><code class="">&gt;
Input &quot;/var/li&quot;.

&gt; /var/li
Press TAB key.

&gt; /var/lib
Completes &quot;b&quot; and appends &quot; &quot;. So, you can continuously input &quot;/usr&quot;.

&gt; /var/lib /usr</code></pre>

<p>NOTE: Only one character can be specified. When “string” is specified, sets
only “s” that is the first.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>readline</span><span class='tstring_end'>&quot;</span></span>

<span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_completion_append_character'><span class='object_link'><a href="#completion_append_character-class_method" title="Readline.completion_append_character (method)">completion_append_character</a></span></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_completion_append_character'><span class='object_link'><a href="#completion_append_character-class_method" title="Readline.completion_append_character (method)">completion_append_character</a></span></span> <span class='comment'># =&gt; &quot;s&quot;
</span></code></pre>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1261
1262
1263
1264
1265
1266
1267
1268
1269
1270
1271
1272
1273
1274
1275
1276</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1261</span>

static VALUE
readline_s_set_completion_append_character(VALUE self, VALUE str)
{
    if (NIL_P(str)) {
        rl_completion_append_character = &#39;\0&#39;;
    }
    else {
        OutputStringValue(str);
        if (RSTRING_LEN(str) == 0) {
            rl_completion_append_character = &#39;\0&#39;;
        } else {
            rl_completion_append_character = RSTRING_PTR(str)[0];
        }
    }
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_case_fold-class_method">
  
    .<strong>completion_case_fold</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if completion ignores case. If no, returns false.</p>

<p>NOTE: Returns the same object that is specified by
Readline.completion_case_fold= method.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>readline</span><span class='tstring_end'>&quot;</span></span>

<span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_completion_case_fold'>completion_case_fold</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This is a String.</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_completion_case_fold'>completion_case_fold</span> <span class='comment'># =&gt; &quot;This is a String.&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


925
926
927
928
929</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 925</span>

static VALUE
readline_s_get_completion_case_fold(VALUE self)
{
    return rb_attr_get(mReadline, completion_case_fold);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_case_fold=-class_method">
  
    .<strong>completion_case_fold=</strong>(bool)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets whether or not to ignore case on completion.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


905
906
907
908
909</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 905</span>

static VALUE
readline_s_set_completion_case_fold(VALUE self, VALUE val)
{
    return rb_ivar_set(mReadline, completion_case_fold, val);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_proc-class_method">
  
    .<strong>completion_proc</strong>  &#x21d2; <tt>Proc</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the completion Proc object.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


848
849
850
851
852</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 848</span>

static VALUE
readline_s_get_completion_proc(VALUE self)
{
    return rb_attr_get(mReadline, completion_proc);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completion_proc=-class_method">
  
    .<strong>completion_proc=</strong>(proc)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies a Proc object <code>proc</code> to determine completion behavior.
It should take input string and return an array of completion candidates.</p>

<p>The default completion is used if <code>proc</code> is nil.</p>

<p>The String that is passed to the Proc depends on the
Readline.completer_word_break_characters property.  By default the word
under the cursor is passed to the Proc.  For example, if the input is “foo
bar” then only “bar” would be passed to the completion Proc.</p>

<p>Upon successful completion the Readline.completion_append_character will be
appended to the input so the user can start working on their next argument.</p>

<h1 id="label-Examples">Examples</h1>

<h2 id="label-Completion+for+a+Static+List">Completion for a Static List</h2>

<pre class="code"><code class=""><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>readline</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>LIST</span> <span class='op'>=</span> <span class='lbracket'>[</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>search</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>download</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>open</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>help</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>history</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>quit</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>url</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>next</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>clear</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>prev</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>past</span><span class='tstring_end'>&#39;</span></span>
<span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>

<span class='id identifier rubyid_comp'>comp</span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='const'>LIST</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>

<span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_completion_append_character'><span class='object_link'><a href="#completion_append_character-class_method" title="Readline.completion_append_character (method)">completion_append_character</a></span></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
<span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_completion_proc'><span class='object_link'><a href="#completion_proc-class_method" title="Readline.completion_proc (method)">completion_proc</a></span></span> <span class='op'>=</span> <span class='id identifier rubyid_comp'>comp</span>

<span class='kw'>while</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_readline'><span class='object_link'><a href="#readline-class_method" title="Readline.readline (method)">readline</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt; </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_line'>line</span>
<span class='kw'>end</span>
</code></pre>

<h2 id="label-Completion+For+Directory+Contents">Completion For Directory Contents</h2>

<pre class="code"><code class=""><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>readline</span><span class='tstring_end'>&#39;</span></span>

<span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_completion_append_character'><span class='object_link'><a href="#completion_append_character-class_method" title="Readline.completion_append_character (method)">completion_append_character</a></span></span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span>
<span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_completion_proc'><span class='object_link'><a href="#completion_proc-class_method" title="Readline.completion_proc (method)">completion_proc</a></span></span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_str'>str</span><span class='op'>|</span>
  <span class='const'><span class='object_link'><a href="Dir.html" title="Dir (class)">Dir</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_str'>str</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^</span><span class='embexpr_beg'>#{</span><span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>

<span class='kw'>while</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_readline'><span class='object_link'><a href="#readline-class_method" title="Readline.readline (method)">readline</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&gt; </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_line'>line</span>
<span class='kw'>end</span>
</code></pre>

<h1 id="label-Autocomplete+strategies">Autocomplete strategies</h1>

<p>When working with auto-complete there are some strategies that work well.
To get some ideas you can take a look at the <a
href="http://svn.ruby-lang.org/repos/ruby/trunk/lib/irb/completion.rb">completion.rb</a>
file for irb.</p>

<p>The common strategy is to take a list of possible completions and filter it
down to those completions that start with the user input.  In the above
examples Enumerator.grep is used.  The input is escaped to prevent Regexp
special characters from interfering with the matching.</p>

<p>It may also be helpful to use the Abbrev library to generate completions.</p>

<p>Raises ArgumentError if <code>proc</code> does not respond to the call
method.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


835
836
837
838
839
840</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 835</span>

static VALUE
readline_s_set_completion_proc(VALUE self, VALUE proc)
{
    mustbe_callable(proc);
    return rb_ivar_set(mReadline, completion_proc, proc);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_text-class_method">
  
    
      <span class="overload">.<strong>delete_text</strong>([start[, length]])  &#x21d2; <tt>self</tt> </span>
    
      <span class="overload">.<strong>delete_text</strong>(start..end)  &#x21d2; <tt>self</tt> </span>
    
      <span class="overload">.<strong>delete_text</strong>  &#x21d2; <tt>self</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Delete text between start and end in the current line.</p>

<p>See GNU Readline&#39;s rl_delete_text function.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>delete_text</strong>([start[, length]])  &#x21d2; <tt>self</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>delete_text</strong>(start..end)  &#x21d2; <tt>self</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>delete_text</strong>  &#x21d2; <tt>self</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 713</span>

static VALUE
readline_s_delete_text(int argc, VALUE *argv, VALUE self)
{
    rb_check_arity(argc, 0, 2);
    if (rl_line_buffer) {
        const char *p, *ptr = rl_line_buffer;
        long beg = 0, len = strlen(ptr);
        const char *end = ptr + len;
        rb_encoding *enc = rb_locale_encoding();
        if (argc == 2) {
            beg = NUM2LONG(argv[0]);
            len = NUM2LONG(argv[1]);
          num_pos:
            p = str_subpos(ptr, end, beg, &amp;len, enc);
            if (!p) rb_raise(rb_eArgError, &quot;invalid index&quot;);
            beg = p - ptr;
        }
        else if (argc == 1) {
            len = rb_enc_strlen(ptr, ptr + len, enc);
            if (!rb_range_beg_len(argv[0], &amp;beg, &amp;len, len, 1)) {
                beg = NUM2LONG(argv[0]);
                goto num_pos;
            }
        }
        rl_delete_text(rb_long2int(beg), rb_long2int(beg + len));
    }
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="emacs_editing_mode-class_method">
  
    .<strong>emacs_editing_mode</strong>  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies Emacs editing mode. The default is this mode. See the manual of
GNU Readline for details of Emacs editing mode.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1196
1197
1198
1199
1200
1201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1196</span>

static VALUE
readline_s_emacs_editing_mode(VALUE self)
{
    rl_emacs_editing_mode(1,0);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="emacs_editing_mode?-class_method">
  
    .<strong>emacs_editing_mode?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if emacs mode is active. Returns false if not.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1215
1216
1217
1218
1219</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1215</span>

static VALUE
readline_s_emacs_editing_mode_p(VALUE self)
{
    return rl_editing_mode == 1 ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="filename_quote_characters-class_method">
  
    .<strong>filename_quote_characters</strong>  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1630
1631
1632
1633
1634
1635
1636</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1630</span>

static VALUE
readline_s_get_filename_quote_characters(VALUE self, VALUE str)
{
    if (rl_filename_quote_characters == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_filename_quote_characters);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="filename_quote_characters=-class_method">
  
    .<strong>filename_quote_characters=</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets a list of characters that cause a filename to be quoted by the
completer when they appear in a completed filename. The default is nil.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1597
1598
1599
1600
1601
1602
1603
1604
1605
1606
1607
1608
1609
1610
1611
1612
1613
1614
1615</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1597</span>

static VALUE
readline_s_set_filename_quote_characters(VALUE self, VALUE str)
{
    static char *filename_quote_characters = NULL;

    OutputStringValue(str);
    if (filename_quote_characters == NULL) {
        filename_quote_characters =
            ALLOC_N(char, RSTRING_LEN(str) + 1);
    }
    else {
        REALLOC_N(filename_quote_characters, char, RSTRING_LEN(str) + 1);
    }
    strncpy(filename_quote_characters, RSTRING_PTR(str), RSTRING_LEN(str));
    filename_quote_characters[RSTRING_LEN(str)] = &#39;\0&#39;;
    rl_filename_quote_characters = filename_quote_characters;

    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_screen_size-class_method">
  
    .<strong>get_screen_size</strong>  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the terminal&#39;s rows and columns.</p>

<p>See GNU Readline&#39;s rl_get_screen_size function.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1132</span>

static VALUE
readline_s_get_screen_size(VALUE self)
{
    int rows, columns;
    VALUE res;

    rl_get_screen_size(&amp;rows, &amp;columns);
    res = rb_ary_new();
    rb_ary_push(res, INT2NUM(rows));
    rb_ary_push(res, INT2NUM(columns));
    return res;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="input=-class_method">
  
    .<strong>input=</strong>(input)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies a File object <code>input</code> that is input stream for
Readline.readline method.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 550</span>

static VALUE
readline_s_set_input(VALUE self, VALUE input)
{
    rb_io_t *ifp;
    int fd;
    FILE *f;

    if (NIL_P(input)) {
        clear_rl_instream();
    }
    else {
        Check_Type(input, T_FILE);
        GetOpenFile(input, ifp);
        clear_rl_instream();
        fd = rb_cloexec_dup(ifp-&gt;fd);
        if (fd == -1)
            rb_sys_fail(&quot;dup&quot;);
        f = fdopen(fd, &quot;r&quot;);
        if (f == NULL) {
            int save_errno = errno;
            close(fd);
            rb_syserr_fail(save_errno, &quot;fdopen&quot;);
        }
        rl_instream = readline_rl_instream = f;
        readline_instream = input;
    }
    return input;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="insert_text-class_method">
  
    .<strong>insert_text</strong>(string)  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Insert text into the line at the current cursor position.</p>

<p>See GNU Readline&#39;s rl_insert_text function.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


679
680
681
682
683
684
685</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 679</span>

static VALUE
readline_s_insert_text(VALUE self, VALUE str)
{
    OutputStringValue(str);
    rl_insert_text(RSTRING_PTR(str));
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="line_buffer-class_method">
  
    .<strong>line_buffer</strong>  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the full line that is being edited. This is useful from within the
complete_proc for determining the context of the completion request.</p>

<p>The length of <code>Readline.line_buffer</code> and GNU Readline&#39;s
rl_end are same.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


945
946
947
948
949
950
951</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 945</span>

static VALUE
readline_s_get_line_buffer(VALUE self)
{
    if (rl_line_buffer == NULL)
        return Qnil;
    return rb_locale_str_new_cstr(rl_line_buffer);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="output=-class_method">
  
    .<strong>output=</strong>(output)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies a File object <code>output</code> that is output stream for
Readline.readline method.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 586</span>

static VALUE
readline_s_set_output(VALUE self, VALUE output)
{
    rb_io_t *ofp;
    int fd;
    FILE *f;

    if (NIL_P(output)) {
        clear_rl_outstream();
    }
    else {
        Check_Type(output, T_FILE);
        GetOpenFile(output, ofp);
        clear_rl_outstream();
        fd = rb_cloexec_dup(ofp-&gt;fd);
        if (fd == -1)
            rb_sys_fail(&quot;dup&quot;);
        f = fdopen(fd, &quot;w&quot;);
        if (f == NULL) {
            int save_errno = errno;
            close(fd);
            rb_syserr_fail(save_errno, &quot;fdopen&quot;);
        }
        rl_outstream = readline_rl_outstream = f;
        readline_outstream = output;
    }
    return output;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="point-class_method">
  
    .<strong>point</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the index of the current cursor position in
<code>Readline.line_buffer</code>.</p>

<p>The index in <code>Readline.line_buffer</code> which matches the start of
input-string passed to completion_proc is computed by subtracting the
length of input-string from <code>Readline.point</code>.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_start'>start</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_length'>length</span> <span class='id identifier rubyid_of'>of</span> <span class='id identifier rubyid_input'>input</span><span class='op'>-</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_point'>point</span>
</code></pre>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


972
973
974
975
976</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 972</span>

static VALUE
readline_s_get_point(VALUE self)
{
    return INT2NUM(rl_point);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="point=-class_method">
  
    .<strong>point=</strong>(int)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set the index of the current cursor position in
<code>Readline.line_buffer</code>.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>

<p>See <code>Readline.point</code>.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


989
990
991
992
993
994</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 989</span>

static VALUE
readline_s_set_point(VALUE self, VALUE pos)
{
    rl_point = NUM2INT(pos);
    return pos;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pre_input_hook-class_method">
  
    .<strong>pre_input_hook</strong>  &#x21d2; <tt>Proc</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a Proc object <code>proc</code> to call after the first prompt has
been printed and just before readline starts reading input characters. The
default is nil.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


647
648
649
650
651</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 647</span>

static VALUE
readline_s_get_pre_input_hook(VALUE self)
{
    return rb_attr_get(mReadline, id_pre_input_hook);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pre_input_hook=-class_method">
  
    .<strong>pre_input_hook=</strong>(proc)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies a Proc object <code>proc</code> to call after the first prompt
has been printed and just before readline starts reading input characters.</p>

<p>See GNU Readline&#39;s rl_pre_input_hook variable.</p>

<p>Raises ArgumentError if <code>proc</code> does not respond to the call
method.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


630
631
632
633
634
635</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 630</span>

static VALUE
readline_s_set_pre_input_hook(VALUE self, VALUE proc)
{
    mustbe_callable(proc);
    return rb_ivar_set(mReadline, id_pre_input_hook, proc);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="quoting_detection_proc-class_method">
  
    .<strong>quoting_detection_proc</strong>  &#x21d2; <tt>Proc</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the quoting detection Proc object.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


889
890
891
892
893</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 889</span>

static VALUE
readline_s_get_quoting_detection_proc(VALUE self)
{
    return rb_attr_get(mReadline, quoting_detection_proc);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="quoting_detection_proc=-class_method">
  
    .<strong>quoting_detection_proc=</strong>(proc)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies a Proc object <code>proc</code> to determine if a character in
the user&#39;s input is escaped. It should take the user&#39;s input and
the index of the character in question as input, and return a boolean (true
if the specified character is escaped).</p>

<p>Readline will only call this proc with characters specified in
<code>completer_quote_characters</code>, to discover if they indicate the
end of a quoted argument, or characters specified in
<code>completer_word_break_characters</code>, to discover if they indicate
a break between arguments.</p>

<p>If <code>completer_quote_characters</code> is not set, or if the user input
doesn&#39;t contain one of the <code>completer_quote_characters</code> or a
++ character, Readline will not attempt to use this proc at all.</p>

<p>Raises ArgumentError if <code>proc</code> does not respond to the call
method.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


876
877
878
879
880
881</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 876</span>

static VALUE
readline_s_set_quoting_detection_proc(VALUE self, VALUE proc)
{
    mustbe_callable(proc);
    return rb_ivar_set(mReadline, quoting_detection_proc, proc);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="readline-class_method">
  
    .<strong>readline</strong>(prompt = &quot;&quot;, add_hist = false)  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Shows the <code>prompt</code> and reads the inputted line with line
editing. The inputted line is added to the history if <code>add_hist</code>
is true.</p>

<p>Returns nil when the inputted line is empty and user inputs EOF (Presses ^D
on UNIX).</p>

<p>Raises IOError exception if one of below conditions are satisfied.</p>
<ol><li>
<p>stdin was closed.</p>
</li><li>
<p>stdout was closed.</p>
</li></ol>

<p>This method supports thread. Switches the thread context when waits
inputting line.</p>

<p>Supports line edit when inputs line. Provides VI and Emacs editing mode.
Default is Emacs editing mode.</p>

<p>NOTE: Terminates ruby interpreter and does not return the terminal status
after user pressed &#39;^C&#39; when wait inputting line. Give 3 examples
that avoid it.</p>
<ul><li>
<p>Catches the Interrupt exception by pressed ^C after returns terminal
status:</p>

<pre class="code"><code class="">require &quot;readline&quot;

stty_save = `stty -g`.chomp
begin
  while buf = Readline.readline
      p buf
      end
    rescue Interrupt
      system(&quot;stty&quot;, stty_save)
      exit
    end
  end
end</code></pre>
</li><li>
<p>Catches the INT signal by pressed ^C after returns terminal status:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>readline</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_stty_save'>stty_save</span> <span class='op'>=</span> <span class='backtick'>`</span><span class='tstring_content'>stty -g</span><span class='tstring_end'>`</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
<span class='id identifier rubyid_trap'>trap</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INT</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_system'>system</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>stty</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_stty_save'>stty_save</span><span class='semicolon'>;</span> <span class='id identifier rubyid_exit'>exit</span> <span class='rbrace'>}</span>

<span class='kw'>while</span> <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_readline'>readline</span>
  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_buf'>buf</span>
<span class='kw'>end</span>
</code></pre>
</li><li>
<p>Ignores pressing ^C:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>readline</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_trap'>trap</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SIG_IGN</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

<span class='kw'>while</span> <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_readline'>readline</span>
  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_buf'>buf</span>
<span class='kw'>end</span>
</code></pre>
</li></ul>

<p>Can make as follows with Readline::HISTORY constant. It does not record to
the history if the inputted line is empty or the same it as last one.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>readline</span><span class='tstring_end'>&quot;</span></span>

<span class='kw'>while</span> <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='period'>.</span><span class='id identifier rubyid_readline'>readline</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='comment'># p Readline::HISTORY.to_a
</span>  <span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#HISTORY-constant" title="Readline::HISTORY (constant)">HISTORY</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span> <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\s*$</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_buf'>buf</span>

  <span class='kw'>begin</span>
    <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#HISTORY-constant" title="Readline::HISTORY (constant)">HISTORY</a></span></span><span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#HISTORY-constant" title="Readline::HISTORY (constant)">HISTORY</a></span></span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>2</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_buf'>buf</span>
      <span class='const'><span class='object_link'><a href="" title="Readline (module)">Readline</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#HISTORY-constant" title="Readline::HISTORY (constant)">HISTORY</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='const'>IndexError</span>
  <span class='kw'>end</span>

  <span class='comment'># p Readline::HISTORY.to_a
</span>  <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-&gt; </span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_buf'>buf</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 485</span>

static VALUE
readline_readline(int argc, VALUE *argv, VALUE self)
{
    VALUE tmp, add_hist, result;
    char *prompt = NULL;
    char *buff;
    int status;

    if (rb_scan_args(argc, argv, &quot;02&quot;, &amp;tmp, &amp;add_hist) &gt; 0) {
        OutputStringValue(tmp);
#if USE_INSERT_IGNORE_ESCAPE
        tmp = insert_ignore_escape(self, tmp);
        rb_str_locktmp(tmp);
#endif
        prompt = RSTRING_PTR(tmp);
    }

    prepare_readline();

#ifdef _WIN32
    rl_prep_terminal(1);
#endif
    buff = (char*)rb_protect(readline_get, (VALUE)prompt, &amp;status);
#if USE_INSERT_IGNORE_ESCAPE
    if (prompt) {
        rb_str_unlocktmp(tmp);
    }
#endif
    if (status) {
#if defined HAVE_RL_CLEANUP_AFTER_SIGNAL
        /* restore terminal mode and signal handler*/
#if defined HAVE_RL_FREE_LINE_STATE
        rl_free_line_state();
#endif
        rl_cleanup_after_signal();
#elif defined HAVE_RL_DEPREP_TERM_FUNCTION
        /* restore terminal mode */
        if (rl_deprep_term_function != NULL) /* NULL in libedit. [ruby-dev:29116] */
            (*rl_deprep_term_function)();
        else
#else
        rl_deprep_terminal();
#endif
        rb_jump_tag(status);
    }

    if (RTEST(add_hist) &amp;&amp; buff) {
        add_history(buff);
    }
    if (buff) {
        result = rb_locale_str_new_cstr(buff);
    }
    else
        result = Qnil;
    if (buff) free(buff);
    return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="redisplay-class_method">
  
    .<strong>redisplay</strong>  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Change what&#39;s displayed on the screen to reflect the current contents.</p>

<p>See GNU Readline&#39;s rl_redisplay function.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


757
758
759
760
761
762</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 757</span>

static VALUE
readline_s_redisplay(VALUE self)
{
    rl_redisplay();
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="refresh_line-class_method">
  
    .<strong>refresh_line</strong>  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Clear the current input line.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1648
1649
1650
1651
1652
1653
1654</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1648</span>

static VALUE
readline_s_refresh_line(VALUE self)
{
    prepare_readline();
    rl_refresh_line(0, 0);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_screen_size-class_method">
  
    .<strong>set_screen_size</strong>(rows, columns)  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set terminal size to <code>rows</code> and <code>columns</code>.</p>

<p>See GNU Readline&#39;s rl_set_screen_size function.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1111
1112
1113
1114
1115
1116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1111</span>

static VALUE
readline_s_set_screen_size(VALUE self, VALUE rows, VALUE columns)
{
    rl_set_screen_size(NUM2INT(rows), NUM2INT(columns));
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="special_prefixes-class_method">
  
    .<strong>special_prefixes</strong>  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the list of characters that are word break characters, but should be
left in text when it is passed to the completion function.</p>

<p>See GNU Readline&#39;s rl_special_prefixes variable.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1461
1462
1463
1464
1465
1466
1467
1468
1469
1470
1471
1472</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1461</span>

static VALUE
readline_s_get_special_prefixes(VALUE self)
{
    VALUE str;
    if (rl_special_prefixes == NULL) return Qnil;
    str = rb_ivar_get(mReadline, id_special_prefixes);
    if (!NIL_P(str)) {
        str = rb_str_dup_frozen(str);
        rb_obj_reveal(str, rb_cString);
    }
    return str;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="special_prefixes=-class_method">
  
    .<strong>special_prefixes=</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the list of characters that are word break characters, but should be
left in text when it is passed to the completion function. Programs can use
this to help determine what kind of completing to do. For instance, Bash
sets this variable to “$@” so that it can complete shell variables and
hostnames.</p>

<p>See GNU Readline&#39;s rl_special_prefixes variable.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1431
1432
1433
1434
1435
1436
1437
1438
1439
1440
1441
1442
1443
1444
1445
1446
1447</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1431</span>

static VALUE
readline_s_set_special_prefixes(VALUE self, VALUE str)
{
    if (!NIL_P(str)) {
        OutputStringValue(str);
        str = rb_str_dup_frozen(str);
        rb_obj_hide(str);
    }
    rb_ivar_set(mReadline, id_special_prefixes, str);
    if (NIL_P(str)) {
        rl_special_prefixes = NULL;
    }
    else {
        rl_special_prefixes = RSTRING_PTR(str);
    }
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="vi_editing_mode-class_method">
  
    .<strong>vi_editing_mode</strong>  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies VI editing mode. See the manual of GNU Readline for details of VI
editing mode.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1158
1159
1160
1161
1162
1163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1158</span>

static VALUE
readline_s_vi_editing_mode(VALUE self)
{
    rl_vi_editing_mode(1,0);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="vi_editing_mode?-class_method">
  
    .<strong>vi_editing_mode?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns true if vi mode is active. Returns false if not.</p>

<p>Raises NotImplementedError if the using readline library does not support.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1177
1178
1179
1180
1181</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/readline/readline.c', line 1177</span>

static VALUE
readline_s_vi_editing_mode_p(VALUE self)
{
    return rl_editing_mode == 0 ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Feb 26 22:17:43 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.4.2).
</div>

    </div>
  </body>
</html>