<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: GC
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "GC";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (G)</a> &raquo;
    
    
    <span class="title">GC</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: GC
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>gc.c</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The GC module provides an interface to Ruby&#39;s mark and sweep garbage
collection mechanism.</p>

<p>Some of the underlying methods are also available via the ObjectSpace
module.</p>

<p>You may obtain information about the operation of the GC through
GC::Profiler.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="GC/Profiler.html" title="GC::Profiler (module)">Profiler</a></span>
    
  
    
  
</p>

  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="INTERNAL_CONSTANTS-constant" class="">INTERNAL_CONSTANTS =
        <div class="docstring">
  <div class="discussion">
    
<p>internal constants</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='id identifier rubyid_gc_constants'>gc_constants</span></pre></dd>
    
      <dt id="OPTS-constant" class="">OPTS =
        <div class="docstring">
  <div class="discussion">
    
<p>GC build options</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='id identifier rubyid_rb_ary_new'>rb_ary_new</span><span class='lparen'>(</span><span class='rparen'>)</span></pre></dd>
    
  </dl>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_stress_to_class-class_method" title="add_stress_to_class (class method)">.<strong>add_stress_to_class</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Raises NoMemoryError when allocating an instance of the given classes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#count-class_method" title="count (class method)">.<strong>count</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The number of times GC occurred.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disable-class_method" title="disable (class method)">.<strong>disable</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Disables garbage collection, returning <code>true</code> if garbage
collection was already disabled.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enable-class_method" title="enable (class method)">.<strong>enable</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Enables garbage collection, returning <code>true</code> if garbage
collection was previously disabled.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#latest_gc_info-class_method" title="latest_gc_info (class method)">.<strong>latest_gc_info</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns information about the most recent garbage collection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#malloc_allocated_size-class_method" title="malloc_allocated_size (class method)">.<strong>malloc_allocated_size</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the size of memory allocated by malloc().</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#malloc_allocations-class_method" title="malloc_allocations (class method)">.<strong>malloc_allocations</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the number of malloc() allocations.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_stress_to_class-class_method" title="remove_stress_to_class (class method)">.<strong>remove_stress_to_class</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>No longer raises NoMemoryError when allocating an instance of the given
classes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#start-class_method" title="start (class method)">.<strong>start</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initiates garbage collection, unless manually disabled.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stat-class_method" title="stat (class method)">.<strong>stat</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a Hash containing information about the GC.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stress-class_method" title="stress (class method)">.<strong>stress</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns current status of GC stress mode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stress=-class_method" title="stress= (class method)">.<strong>stress=</strong>(flag)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Updates the GC stress mode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#verify_internal_consistency-class_method" title="verify_internal_consistency (class method)">.<strong>verify_internal_consistency</strong>  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Verify internal consistency.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#garbage_collect-instance_method" title="#garbage_collect (instance method)">#<strong>garbage_collect</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initiates garbage collection, unless manually disabled.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_stress_to_class-class_method">
  
    .<strong>add_stress_to_class</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Raises NoMemoryError when allocating an instance of the given classes.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9537
9538
9539
9540
9541
9542
9543
9544
9545
9546
9547</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 9537</span>

static VALUE
rb_gcdebug_add_stress_to_class(int argc, VALUE *argv, VALUE self)
{
    rb_objspace_t *objspace = &amp;rb_objspace;

    if (!stress_to_class) {
	stress_to_class = rb_ary_tmp_new(argc);
    }
    rb_ary_cat(stress_to_class, argv, argc);
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="count-class_method">
  
    .<strong>count</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The number of times GC occurred.</p>

<p>It returns the number of times GC occurred since the process started.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6794
6795
6796
6797
6798</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 6794</span>

static VALUE
gc_count(VALUE self)
{
    return SIZET2NUM(rb_gc_count());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disable-class_method">
  
    .<strong>disable</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Disables garbage collection, returning <code>true</code> if garbage
collection was already disabled.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="GC (module)">GC</a></span></span><span class='period'>.</span><span class='id identifier rubyid_disable'>disable</span>   <span class='comment'>#=&gt; false
</span><span class='const'><span class='object_link'><a href="" title="GC (module)">GC</a></span></span><span class='period'>.</span><span class='id identifier rubyid_disable'>disable</span>   <span class='comment'>#=&gt; true
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7401
7402
7403
7404
7405
7406
7407
7408
7409
7410
7411</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 7401</span>

VALUE
rb_gc_disable(void)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    int old = dont_gc;

    gc_rest(objspace);

    dont_gc = TRUE;
    return old ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="enable-class_method">
  
    .<strong>enable</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Enables garbage collection, returning <code>true</code> if garbage
collection was previously disabled.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="GC (module)">GC</a></span></span><span class='period'>.</span><span class='id identifier rubyid_disable'><span class='object_link'><a href="#disable-class_method" title="GC.disable (method)">disable</a></span></span>   <span class='comment'>#=&gt; false
</span><span class='const'><span class='object_link'><a href="" title="GC (module)">GC</a></span></span><span class='period'>.</span><span class='id identifier rubyid_enable'>enable</span>    <span class='comment'>#=&gt; true
</span><span class='const'><span class='object_link'><a href="" title="GC (module)">GC</a></span></span><span class='period'>.</span><span class='id identifier rubyid_enable'>enable</span>    <span class='comment'>#=&gt; false
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7379
7380
7381
7382
7383
7384
7385
7386
7387</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 7379</span>

VALUE
rb_gc_enable(void)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    int old = dont_gc;

    dont_gc = FALSE;
    return old ? Qtrue : Qfalse;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="latest_gc_info-class_method">
  
    
      <span class="overload">.<strong>latest_gc_info</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">.<strong>latest_gc_info</strong>(hash)  &#x21d2; <tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt> </span>
    
      <span class="overload">.<strong>latest_gc_info</strong>(: major_by)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns information about the most recent garbage collection.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      
      <li class="overload_item">
        <span class="signature">.<strong>latest_gc_info</strong>(hash)  &#x21d2; <tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6909
6910
6911
6912
6913
6914
6915
6916
6917
6918
6919
6920
6921
6922
6923
6924
6925
6926</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 6909</span>

static VALUE
gc_latest_gc_info(int argc, VALUE *argv, VALUE self)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    VALUE arg = Qnil;

    if (rb_scan_args(argc, argv, &quot;01&quot;, &amp;arg) == 1) {
	if (!SYMBOL_P(arg) &amp;&amp; !RB_TYPE_P(arg, T_HASH)) {
	    rb_raise(rb_eTypeError, &quot;non-hash or symbol given&quot;);
	}
    }

    if (arg == Qnil) {
	arg = rb_hash_new();
    }

    return gc_info_decode(objspace, arg, 0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="malloc_allocated_size-class_method">
  
    .<strong>malloc_allocated_size</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the size of memory allocated by malloc().</p>

<p>Only available if ruby was built with <code>CALC_EXACT_MALLOC_SIZE</code>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8179
8180
8181
8182
8183</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 8179</span>

static VALUE
gc_malloc_allocated_size(VALUE self)
{
    return UINT2NUM(rb_objspace.malloc_params.allocated_size);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="malloc_allocations-class_method">
  
    .<strong>malloc_allocations</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the number of malloc() allocations.</p>

<p>Only available if ruby was built with <code>CALC_EXACT_MALLOC_SIZE</code>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8194
8195
8196
8197
8198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 8194</span>

static VALUE
gc_malloc_allocations(VALUE self)
{
    return UINT2NUM(rb_objspace.malloc_params.allocations);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_stress_to_class-class_method">
  
    .<strong>remove_stress_to_class</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>No longer raises NoMemoryError when allocating an instance of the given
classes.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9557
9558
9559
9560
9561
9562
9563
9564
9565
9566
9567
9568
9569
9570
9571
9572</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 9557</span>

static VALUE
rb_gcdebug_remove_stress_to_class(int argc, VALUE *argv, VALUE self)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    int i;

    if (stress_to_class) {
	for (i = 0; i &lt; argc; ++i) {
	    rb_ary_delete_same(stress_to_class, argv[i]);
	}
	if (RARRAY_LEN(stress_to_class) == 0) {
	    stress_to_class = 0;
	}
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="start-class_method">
  
    
      <span class="overload">.<strong>start</strong>  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">.<strong>garbage_collect</strong>  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">.<strong>GC</strong>  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">.<strong>start</strong>(full_mark: true, immediate_sweep: true)  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">.<strong>garbage_collect</strong>(full_mark: true, immediate_sweep: true)  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">.<strong>GC</strong>  &#x21d2; <tt>nil</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initiates garbage collection, unless manually disabled.</p>

<p>This method is defined with keyword arguments that default to true:</p>

<pre class="code"><code class=""><span class='kw'>def</span> <span class='const'><span class='object_link'><a href="" title="GC (module)">GC</a></span></span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='label'>full_mark:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>immediate_sweep:</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span>
</code></pre>

<p>Use full_mark: false to perform a minor GC. Use immediate_sweep: false to
defer sweeping (use lazy sweep).</p>

<p>Note: These keyword arguments are implementation and version dependent.
They are not guaranteed to be future-compatible, and may be ignored if the
underlying implementation does not support them.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>start</strong>  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>garbage_collect</strong>  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>GC</strong>  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>start</strong>(full_mark: true, immediate_sweep: true)  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>garbage_collect</strong>(full_mark: true, immediate_sweep: true)  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>GC</strong>  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6707
6708
6709
6710
6711
6712
6713
6714
6715
6716
6717
6718
6719
6720
6721
6722
6723
6724
6725
6726
6727
6728
6729
6730
6731
6732
6733
6734
6735
6736
6737</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 6707</span>

static VALUE
gc_start_internal(int argc, VALUE *argv, VALUE self)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    int full_mark = TRUE, immediate_mark = TRUE, immediate_sweep = TRUE;
    VALUE opt = Qnil;
    static ID keyword_ids[3];

    rb_scan_args(argc, argv, &quot;0:&quot;, &amp;opt);

    if (!NIL_P(opt)) {
	VALUE kwvals[3];

	if (!keyword_ids[0]) {
	    keyword_ids[0] = rb_intern(&quot;full_mark&quot;);
	    keyword_ids[1] = rb_intern(&quot;immediate_mark&quot;);
	    keyword_ids[2] = rb_intern(&quot;immediate_sweep&quot;);
	}

	rb_get_kwargs(opt, keyword_ids, 0, 3, kwvals);

	if (kwvals[0] != Qundef) full_mark = RTEST(kwvals[0]);
	if (kwvals[1] != Qundef) immediate_mark = RTEST(kwvals[1]);
	if (kwvals[2] != Qundef) immediate_sweep = RTEST(kwvals[2]);
    }

    garbage_collect(objspace, full_mark, immediate_mark, immediate_sweep, GPR_FLAG_METHOD);
    gc_finalize_deferred(objspace);

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stat-class_method">
  
    
      <span class="overload">.<strong>stat</strong>  &#x21d2; <tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt> </span>
    
      <span class="overload">.<strong>stat</strong>(hash)  &#x21d2; <tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt> </span>
    
      <span class="overload">.<strong>stat</strong>(: key)  &#x21d2; <tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a Hash containing information about the GC.</p>

<p>The hash includes information about internal statistics about GC such as:</p>

<pre class="code"><code class=""><span class='lbrace'>{</span>
    <span class='symbol'>:count</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:heap_allocated_pages</span><span class='op'>=&gt;</span><span class='int'>24</span><span class='comma'>,</span>
    <span class='symbol'>:heap_sorted_length</span><span class='op'>=&gt;</span><span class='int'>24</span><span class='comma'>,</span>
    <span class='symbol'>:heap_allocatable_pages</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:heap_available_slots</span><span class='op'>=&gt;</span><span class='int'>9783</span><span class='comma'>,</span>
    <span class='symbol'>:heap_live_slots</span><span class='op'>=&gt;</span><span class='int'>7713</span><span class='comma'>,</span>
    <span class='symbol'>:heap_free_slots</span><span class='op'>=&gt;</span><span class='int'>2070</span><span class='comma'>,</span>
    <span class='symbol'>:heap_final_slots</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:heap_marked_slots</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:heap_eden_pages</span><span class='op'>=&gt;</span><span class='int'>24</span><span class='comma'>,</span>
    <span class='symbol'>:heap_tomb_pages</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:total_allocated_pages</span><span class='op'>=&gt;</span><span class='int'>24</span><span class='comma'>,</span>
    <span class='symbol'>:total_freed_pages</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:total_allocated_objects</span><span class='op'>=&gt;</span><span class='int'>7796</span><span class='comma'>,</span>
    <span class='symbol'>:total_freed_objects</span><span class='op'>=&gt;</span><span class='int'>83</span><span class='comma'>,</span>
    <span class='symbol'>:malloc_increase_bytes</span><span class='op'>=&gt;</span><span class='int'>2389312</span><span class='comma'>,</span>
    <span class='symbol'>:malloc_increase_bytes_limit</span><span class='op'>=&gt;</span><span class='int'>16777216</span><span class='comma'>,</span>
    <span class='symbol'>:minor_gc_count</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:major_gc_count</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:remembered_wb_unprotected_objects</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:remembered_wb_unprotected_objects_limit</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:old_objects</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:old_objects_limit</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:oldmalloc_increase_bytes</span><span class='op'>=&gt;</span><span class='int'>2389760</span><span class='comma'>,</span>
    <span class='symbol'>:oldmalloc_increase_bytes_limit</span><span class='op'>=&gt;</span><span class='int'>16777216</span>
<span class='rbrace'>}</span>
</code></pre>

<p>The contents of the hash are implementation specific and may be changed in
the future.</p>

<p>This method is only expected to work on C Ruby.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>stat</strong>  &#x21d2; <tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>stat</strong>(hash)  &#x21d2; <tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>stat</strong>(: key)  &#x21d2; <tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7285
7286
7287
7288
7289
7290
7291
7292
7293
7294
7295
7296
7297
7298
7299
7300
7301
7302
7303
7304
7305</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 7285</span>

static VALUE
gc_stat(int argc, VALUE *argv, VALUE self)
{
    VALUE arg = Qnil;

    if (rb_scan_args(argc, argv, &quot;01&quot;, &amp;arg) == 1) {
	if (SYMBOL_P(arg)) {
	    size_t value = gc_stat_internal(arg);
	    return SIZET2NUM(value);
	}
	else if (!RB_TYPE_P(arg, T_HASH)) {
	    rb_raise(rb_eTypeError, &quot;non-hash or symbol given&quot;);
	}
    }

    if (arg == Qnil) {
        arg = rb_hash_new();
    }
    gc_stat_internal(arg);
    return arg;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stress-class_method">
  
    .<strong>stress</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns current status of GC stress mode.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7327
7328
7329
7330
7331
7332</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 7327</span>

static VALUE
gc_stress_get(VALUE self)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    return ruby_gc_stress_mode;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stress=-class_method">
  
    .<strong>stress=</strong>(flag)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Updates the GC stress mode.</p>

<p>When stress mode is enabled, the GC is invoked at every GC opportunity: all
memory and object allocations.</p>

<p>Enabling stress mode will degrade performance, it is only for debugging.</p>

<p>flag can be true, false, or an integer bit-ORed following flags.</p>

<pre class="code"><code class=""><span class='int'>0x01</span><span class='op'>::</span> <span class='id identifier rubyid_no'>no</span> <span class='id identifier rubyid_major'>major</span> <span class='const'><span class='object_link'><a href="" title="GC (module)">GC</a></span></span>
<span class='int'>0x02</span><span class='op'>::</span> <span class='id identifier rubyid_no'>no</span> <span class='id identifier rubyid_immediate'>immediate</span> <span class='id identifier rubyid_sweep'>sweep</span>
<span class='int'>0x04</span><span class='op'>::</span> <span class='id identifier rubyid_full'>full</span> <span class='id identifier rubyid_mark'>mark</span> <span class='id identifier rubyid_after'>after</span> <span class='id identifier rubyid_malloc'>malloc</span><span class='op'>/</span><span class='id identifier rubyid_calloc'>calloc</span><span class='op'>/</span><span class='id identifier rubyid_realloc'>realloc</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7358
7359
7360
7361
7362
7363
7364</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 7358</span>

static VALUE
gc_stress_set_m(VALUE self, VALUE flag)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    gc_stress_set(objspace, flag);
    return flag;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="verify_internal_consistency-class_method">
  
    .<strong>verify_internal_consistency</strong>  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Verify internal consistency.</p>

<p>This method is implementation specific. Now this method checks generational
consistency if RGenGC is supported.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5322
5323
5324
5325
5326
5327
5328
5329
5330
5331
5332
5333
5334
5335
5336
5337
5338
5339
5340
5341
5342
5343
5344
5345
5346
5347
5348
5349
5350
5351
5352
5353
5354
5355
5356
5357
5358
5359
5360
5361
5362
5363
5364
5365
5366
5367
5368
5369
5370
5371
5372
5373
5374
5375
5376
5377
5378
5379
5380
5381
5382
5383
5384
5385
5386
5387
5388
5389
5390
5391
5392
5393
5394
5395
5396
5397
5398</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 5322</span>

static VALUE
gc_verify_internal_consistency(VALUE dummy)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    struct verify_internal_consistency_struct data = {0};
    struct each_obj_args eo_args;

    data.objspace = objspace;
    gc_report(5, objspace, &quot;gc_verify_internal_consistency: start\n&quot;);

    /* check relations */

    eo_args.callback = verify_internal_consistency_i;
    eo_args.data = (void *)&amp;data;
    objspace_each_objects((VALUE)&amp;eo_args);

    if (data.err_count != 0) {
#if RGENGC_CHECK_MODE &gt;= 5
	objspace-&gt;rgengc.error_count = data.err_count;
	gc_marks_check(objspace, NULL, NULL);
	allrefs_dump(objspace);
#endif
	rb_bug(&quot;gc_verify_internal_consistency: found internal inconsistency.&quot;);
    }

    /* check heap_page status */
    gc_verify_heap_pages(objspace);

    /* check counters */

    if (!is_lazy_sweeping(heap_eden) &amp;&amp; !finalizing) {
	if (objspace_live_slots(objspace) != data.live_object_count) {
	    fprintf(stderr, &quot;heap_pages_final_slots: %d, objspace-&gt;profile.total_freed_objects: %d\n&quot;,
		    (int)heap_pages_final_slots, (int)objspace-&gt;profile.total_freed_objects);
	    rb_bug(&quot;inconsistent live slot number: expect %&quot;PRIuSIZE&quot;, but %&quot;PRIuSIZE&quot;.&quot;, objspace_live_slots(objspace), data.live_object_count);
	}
    }

#if USE_RGENGC
    if (!is_marking(objspace)) {
	if (objspace-&gt;rgengc.old_objects != data.old_object_count) {
	    rb_bug(&quot;inconsistent old slot number: expect %&quot;PRIuSIZE&quot;, but %&quot;PRIuSIZE&quot;.&quot;, objspace-&gt;rgengc.old_objects, data.old_object_count);
	}
	if (objspace-&gt;rgengc.uncollectible_wb_unprotected_objects != data.remembered_shady_count) {
	    rb_bug(&quot;inconsistent old slot number: expect %&quot;PRIuSIZE&quot;, but %&quot;PRIuSIZE&quot;.&quot;, objspace-&gt;rgengc.uncollectible_wb_unprotected_objects, data.remembered_shady_count);
	}
    }
#endif

    if (!finalizing) {
	size_t list_count = 0;

	{
	    VALUE z = heap_pages_deferred_final;
	    while (z) {
		list_count++;
		z = RZOMBIE(z)-&gt;next;
	    }
	}

	if (heap_pages_final_slots != data.zombie_object_count ||
	    heap_pages_final_slots != list_count) {

	    rb_bug(&quot;inconsistent finalizing object count:\n&quot;
		   &quot;  expect %&quot;PRIuSIZE&quot;\n&quot;
		   &quot;  but    %&quot;PRIuSIZE&quot; zombies\n&quot;
		   &quot;  heap_pages_deferred_final list has %&quot;PRIuSIZE&quot; items.&quot;,
		   heap_pages_final_slots,
		   data.zombie_object_count,
		   list_count);
	}
    }

    gc_report(5, objspace, &quot;gc_verify_internal_consistency: OK\n&quot;);

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="garbage_collect-instance_method">
  
    
      <span class="overload">#<strong>start</strong>  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">#<strong>garbage_collect</strong>  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">#<strong>GC</strong>  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">#<strong>start</strong>(full_mark: true, immediate_sweep: true)  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">#<strong>garbage_collect</strong>(full_mark: true, immediate_sweep: true)  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">#<strong>GC</strong>  &#x21d2; <tt>nil</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initiates garbage collection, unless manually disabled.</p>

<p>This method is defined with keyword arguments that default to true:</p>

<pre class="code"><code class=""><span class='kw'>def</span> <span class='const'><span class='object_link'><a href="" title="GC (module)">GC</a></span></span><span class='period'>.</span><span class='id identifier rubyid_start'><span class='object_link'><a href="#start-class_method" title="GC.start (method)">start</a></span></span><span class='lparen'>(</span><span class='label'>full_mark:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>immediate_sweep:</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='semicolon'>;</span> <span class='kw'>end</span>
</code></pre>

<p>Use full_mark: false to perform a minor GC. Use immediate_sweep: false to
defer sweeping (use lazy sweep).</p>

<p>Note: These keyword arguments are implementation and version dependent.
They are not guaranteed to be future-compatible, and may be ignored if the
underlying implementation does not support them.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>start</strong>  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>garbage_collect</strong>  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>GC</strong>  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>start</strong>(full_mark: true, immediate_sweep: true)  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>garbage_collect</strong>(full_mark: true, immediate_sweep: true)  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>GC</strong>  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6707
6708
6709
6710
6711
6712
6713
6714
6715
6716
6717
6718
6719
6720
6721
6722
6723
6724
6725
6726
6727
6728
6729
6730
6731
6732
6733
6734
6735
6736
6737</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'gc.c', line 6707</span>

static VALUE
gc_start_internal(int argc, VALUE *argv, VALUE self)
{
    rb_objspace_t *objspace = &amp;rb_objspace;
    int full_mark = TRUE, immediate_mark = TRUE, immediate_sweep = TRUE;
    VALUE opt = Qnil;
    static ID keyword_ids[3];

    rb_scan_args(argc, argv, &quot;0:&quot;, &amp;opt);

    if (!NIL_P(opt)) {
	VALUE kwvals[3];

	if (!keyword_ids[0]) {
	    keyword_ids[0] = rb_intern(&quot;full_mark&quot;);
	    keyword_ids[1] = rb_intern(&quot;immediate_mark&quot;);
	    keyword_ids[2] = rb_intern(&quot;immediate_sweep&quot;);
	}

	rb_get_kwargs(opt, keyword_ids, 0, 3, kwvals);

	if (kwvals[0] != Qundef) full_mark = RTEST(kwvals[0]);
	if (kwvals[1] != Qundef) immediate_mark = RTEST(kwvals[1]);
	if (kwvals[2] != Qundef) immediate_sweep = RTEST(kwvals[2]);
    }

    garbage_collect(objspace, full_mark, immediate_mark, immediate_sweep, GPR_FLAG_METHOD);
    gc_finalize_deferred(objspace);

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Feb 26 22:23:15 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.4.2).
</div>

    </div>
  </body>
</html>