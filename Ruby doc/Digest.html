<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Digest
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Digest";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (D)</a> &raquo;
    
    
    <span class="title">Digest</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Digest
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>ext/digest/digest.c<span class="defines">,<br />
  ext/digest/digest.c,<br /> ext/digest/md5/md5init.c,<br /> ext/digest/sha1/sha1init.c,<br /> ext/digest/rmd160/rmd160init.c,<br /> ext/digest/bubblebabble/bubblebabble.c</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This module provides a framework for message digest libraries.</p>

<p>You may want to look at OpenSSL::Digest as it supports more algorithms.</p>

<p>A cryptographic hash function is a procedure that takes data and returns a
fixed bit string: the hash value, also known as <em>digest</em>. Hash
functions are also called one-way functions, it is easy to compute a digest
from a message, but it is infeasible to generate a message from a digest.</p>

<h2 id="label-Examples">Examples</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>digest</span><span class='tstring_end'>&#39;</span></span>

<span class='comment'># Compute a complete digest
</span><span class='const'>Digest</span><span class='op'>::</span><span class='const'>SHA256</span><span class='period'>.</span><span class='id identifier rubyid_digest'>digest</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span>       <span class='comment'>#=&gt; &quot;\xABS\n\x13\xE4Y...&quot;
</span>
<span class='id identifier rubyid_sha256'>sha256</span> <span class='op'>=</span> <span class='const'>Digest</span><span class='op'>::</span><span class='const'>SHA256</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_sha256'>sha256</span><span class='period'>.</span><span class='id identifier rubyid_digest'>digest</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span>               <span class='comment'>#=&gt; &quot;\xABS\n\x13\xE4Y...&quot;
</span>
<span class='comment'># Other encoding formats
</span><span class='const'>Digest</span><span class='op'>::</span><span class='const'>SHA256</span><span class='period'>.</span><span class='id identifier rubyid_hexdigest'>hexdigest</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span>    <span class='comment'>#=&gt; &quot;ab530a13e459...&quot;
</span><span class='const'>Digest</span><span class='op'>::</span><span class='const'>SHA256</span><span class='period'>.</span><span class='id identifier rubyid_base64digest'>base64digest</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span> <span class='comment'>#=&gt; &quot;q1MKE+RZFJgr...&quot;
</span>
<span class='comment'># Compute digest by chunks
</span><span class='id identifier rubyid_md5'>md5</span> <span class='op'>=</span> <span class='const'>Digest</span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Digest/MD5.html" title="Digest::MD5 (class)">MD5</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Digest/Instance.html#new-instance_method" title="Digest::Instance#new (method)">new</a></span></span>
<span class='id identifier rubyid_md5'>md5</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message1</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_md5'>md5</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message2</span><span class='tstring_end'>&#39;</span></span>                     <span class='comment'># &lt;&lt; is an alias for update
</span>
<span class='id identifier rubyid_md5'>md5</span><span class='period'>.</span><span class='id identifier rubyid_hexdigest'>hexdigest</span>                         <span class='comment'>#=&gt; &quot;94af09c09bb9...&quot;
</span>
<span class='comment'># Compute digest for a file
</span><span class='id identifier rubyid_sha256'>sha256</span> <span class='op'>=</span> <span class='const'>Digest</span><span class='op'>::</span><span class='const'>SHA256</span><span class='period'>.</span><span class='id identifier rubyid_file'>file</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>testfile</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_sha256'>sha256</span><span class='period'>.</span><span class='id identifier rubyid_hexdigest'>hexdigest</span>
</code></pre>

<p>Additionally digests can be encoded in “bubble babble” format as a sequence
of consonants and vowels which is more recognizable and comparable than a
hexadecimal digest.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>digest/bubblebabble</span><span class='tstring_end'>&#39;</span></span>

<span class='const'>Digest</span><span class='op'>::</span><span class='const'>SHA256</span><span class='period'>.</span><span class='id identifier rubyid_bubblebabble'>bubblebabble</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>message</span><span class='tstring_end'>&#39;</span></span> <span class='comment'>#=&gt; &quot;xopoh-fedac-fenyh-...&quot;
</span></code></pre>

<p>See the bubble babble specification at <a
href="http://web.mit.edu/kenta/www/one/bubblebabble/spec/jrtrjwzi/draft-huima-01.txt">web.mit.edu/kenta/www/one/bubblebabble/spec/jrtrjwzi/draft-huima-01.txt</a>.</p>

<h2 id="label-Digest+algorithms">Digest algorithms</h2>

<p>Different digest algorithms (or hash functions) are available:</p>
<dl class="rdoc-list note-list"><dt>MD5
<dd>
<p>See RFC 1321 The MD5 Message-Digest Algorithm</p>
</dd><dt>RIPEMD-160
<dd>
<p>As Digest::RMD160. See <a
href="http://homes.esat.kuleuven.be/~bosselae/ripemd160.html">homes.esat.kuleuven.be/~bosselae/ripemd160.html</a>.</p>
</dd><dt>SHA1
<dd>
<p>See FIPS 180 Secure Hash Standard.</p>
</dd><dt>SHA2 family
<dd>
<p>See FIPS 180 Secure Hash Standard which defines the following algorithms:</p>
<ul><li>
<p>SHA512</p>
</li><li>
<p>SHA384</p>
</li><li>
<p>SHA256</p>
</li></ul>
</dd></dl>

<p>The latest versions of the FIPS publications can be found here: <a
href="http://csrc.nist.gov/publications/PubsFIPS.html">csrc.nist.gov/publications/PubsFIPS.html</a>.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Digest/Instance.html" title="Digest::Instance (module)">Instance</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Digest/Base.html" title="Digest::Base (class)">Base</a></span>, <span class='object_link'><a href="Digest/Class.html" title="Digest::Class (class)">Class</a></span>, <span class='object_link'><a href="Digest/DigestError.html" title="Digest::DigestError (class)">DigestError</a></span>, <span class='object_link'><a href="Digest/MD5.html" title="Digest::MD5 (class)">MD5</a></span>, <span class='object_link'><a href="Digest/RMD160.html" title="Digest::RMD160 (class)">RMD160</a></span>, <span class='object_link'><a href="Digest/SHA1.html" title="Digest::SHA1 (class)">SHA1</a></span>
    
  
</p>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bubblebabble-class_method" title="bubblebabble (class method)">.<strong>bubblebabble</strong>(str)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>call-seq:     Digest.bubblebabble(string) -&gt; bubblebabble_string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#hexencode-class_method" title="hexencode (class method)">.<strong>hexencode</strong>(string)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a hex-encoded version of a given <em>string</em>.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#block_length-instance_method" title="#block_length (instance method)">#<strong>block_length</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the block length of the digest algorithm, i.e.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#digest_length-instance_method" title="#digest_length (instance method)">#<strong>digest_length</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the output size of the digest, i.e.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#new (instance method)">#<strong>new</strong>(string[, data])  &#x21d2; Digest </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a Digest instance based on <em>string</em>, which is either the ln
(long name) or sn (short name) of a supported digest algorithm.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">#<strong>initialize_copy</strong>(other)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the sn of this Digest algorithm.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset-instance_method" title="#reset (instance method)">#<strong>reset</strong>  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Resets the Digest in the sense that any Digest#update that has been
performed is abandoned and the Digest is set to its initial state again.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update-instance_method" title="#update (instance method)">#<strong>update</strong>(string)  &#x21d2; aString </a>
    

    
      (also: #&lt;&lt;)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Not every message digest can be computed in one single pass.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="bubblebabble-class_method">
  
    .<strong>bubblebabble</strong>(str)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>call-seq:</p>

<pre class="code"><code class="">Digest.bubblebabble(string) -&gt; bubblebabble_string</code></pre>

<p>Returns a BubbleBabble encoded version of a given <em>string</em>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/digest/bubblebabble/bubblebabble.c', line 88</span>

static VALUE
rb_digest_s_bubblebabble(VALUE klass, VALUE str)
{
    return bubblebabble_str_new(str);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="hexencode-class_method">
  
    .<strong>hexencode</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generates a hex-encoded version of a given <em>string</em>.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/digest/digest.c', line 138</span>

static VALUE
rb_digest_s_hexencode(VALUE klass, VALUE str)
{
    return hexencode_str_new(str);
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="block_length-instance_method">
  
    #<strong>block_length</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the block length of the digest algorithm, i.e. the length in bytes
of an individual block. Most modern algorithms partition a message to be
digested into a sequence of fix-sized blocks that are processed
consecutively.</p>

<h3 id="label-Example">Example</h3>

<pre class="code"><code class=""><span class='id identifier rubyid_digest'>digest</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="OpenSSL/Digest.html" title="OpenSSL::Digest (class)">Digest</a></span></span><span class='op'>::</span><span class='const'>SHA1</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_digest'>digest</span><span class='period'>.</span><span class='id identifier rubyid_block_length'>block_length</span> <span class='comment'># =&gt; 64
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


300
301
302
303
304
305
306
307
308</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/openssl/ossl_digest.c', line 300</span>

static VALUE
ossl_digest_block_length(VALUE self)
{
    EVP_MD_CTX *ctx;

    GetDigest(self, ctx);

    return INT2NUM(EVP_MD_CTX_block_size(ctx));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="digest_length-instance_method">
  
    #<strong>digest_length</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the output size of the digest, i.e. the length in bytes of the
final message digest result.</p>

<h3 id="label-Example">Example</h3>

<pre class="code"><code class=""><span class='id identifier rubyid_digest'>digest</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="OpenSSL/Digest.html" title="OpenSSL::Digest (class)">Digest</a></span></span><span class='op'>::</span><span class='const'>SHA1</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_digest'>digest</span><span class='period'>.</span><span class='id identifier rubyid_digest_length'>digest_length</span> <span class='comment'># =&gt; 20
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


277
278
279
280
281
282
283
284
285</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/openssl/ossl_digest.c', line 277</span>

static VALUE
ossl_digest_size(VALUE self)
{
    EVP_MD_CTX *ctx;

    GetDigest(self, ctx);

    return INT2NUM(EVP_MD_CTX_size(ctx));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="initialize-instance_method">
  
    #<strong>new</strong>(string[, data])  &#x21d2; <tt><span class='object_link'><a href="" title="Digest (module)">Digest</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a Digest instance based on <em>string</em>, which is either the ln
(long name) or sn (short name) of a supported digest algorithm.</p>

<p>If <em>data</em> (a String) is given, it is used as the initial input to
the Digest instance, i.e.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_digest'>digest</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="OpenSSL/Digest.html" title="OpenSSL::Digest (class)">Digest</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sha256</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>digestdata</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>

<p>is equivalent to</p>

<pre class="code"><code class=""><span class='id identifier rubyid_digest'>digest</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="OpenSSL/Digest.html" title="OpenSSL::Digest (class)">Digest</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sha256</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_digest'>digest</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>digestdata</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Digest (module)">Digest</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/openssl/ossl_digest.c', line 118</span>

static VALUE
ossl_digest_initialize(int argc, VALUE *argv, VALUE self)
{
    EVP_MD_CTX *ctx;
    const EVP_MD *md;
    VALUE type, data;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;type, &amp;data);
    md = ossl_evp_get_digestbyname(type);
    if (!NIL_P(data)) StringValue(data);

    TypedData_Get_Struct(self, EVP_MD_CTX, &amp;ossl_digest_type, ctx);
    if (!ctx) {
	RTYPEDDATA_DATA(self) = ctx = EVP_MD_CTX_new();
	if (!ctx)
	    ossl_raise(eDigestError, &quot;EVP_MD_CTX_new&quot;);
    }

    if (!EVP_DigestInit_ex(ctx, md, NULL))
	ossl_raise(eDigestError, &quot;Digest initialization failed&quot;);

    if (!NIL_P(data)) return ossl_digest_update(self, data);
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="initialize_copy-instance_method">
  
    #<strong>initialize_copy</strong>(other)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/openssl/ossl_digest.c', line 143</span>

static VALUE
ossl_digest_copy(VALUE self, VALUE other)
{
    EVP_MD_CTX *ctx1, *ctx2;

    rb_check_frozen(self);
    if (self == other) return self;

    TypedData_Get_Struct(self, EVP_MD_CTX, &amp;ossl_digest_type, ctx1);
    if (!ctx1) {
	RTYPEDDATA_DATA(self) = ctx1 = EVP_MD_CTX_new();
	if (!ctx1)
	    ossl_raise(eDigestError, &quot;EVP_MD_CTX_new&quot;);
    }
    GetDigest(other, ctx2);

    if (!EVP_MD_CTX_copy(ctx1, ctx2)) {
	ossl_raise(eDigestError, NULL);
    }
    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    #<strong>name</strong>  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the sn of this Digest algorithm.</p>

<h3 id="label-Example">Example</h3>

<pre class="code"><code class=""><span class='id identifier rubyid_digest'>digest</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="OpenSSL/Digest.html" title="OpenSSL::Digest (class)">Digest</a></span></span><span class='op'>::</span><span class='const'>SHA512</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_digest'>digest</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='comment'># =&gt; SHA512
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260
261
262
263</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/openssl/ossl_digest.c', line 255</span>

static VALUE
ossl_digest_name(VALUE self)
{
    EVP_MD_CTX *ctx;

    GetDigest(self, ctx);

    return rb_str_new2(EVP_MD_name(EVP_MD_CTX_md(ctx)));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reset-instance_method">
  
    #<strong>reset</strong>  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Resets the Digest in the sense that any Digest#update that has been
performed is abandoned and the Digest is set to its initial state again.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176
177
178
179
180
181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/openssl/ossl_digest.c', line 173</span>

static VALUE
ossl_digest_reset(VALUE self)
{
    EVP_MD_CTX *ctx;

    GetDigest(self, ctx);
    if (EVP_DigestInit_ex(ctx, EVP_MD_CTX_md(ctx), NULL) != 1) {
	ossl_raise(eDigestError, &quot;Digest initialization failed.&quot;);
    }

    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update-instance_method">
  
    #<strong>update</strong>(string)  &#x21d2; <tt>aString</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='<<-instance_method'>&lt;&lt;</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Not every message digest can be computed in one single pass. If a message
digest is to be computed from several subsequent sources, then each may be
passed individually to the Digest instance.</p>

<h3 id="label-Example">Example</h3>

<pre class="code"><code class=""><span class='id identifier rubyid_digest'>digest</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="OpenSSL.html" title="OpenSSL (module)">OpenSSL</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="OpenSSL/Digest.html" title="OpenSSL::Digest (class)">Digest</a></span></span><span class='op'>::</span><span class='const'>SHA256</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='id identifier rubyid_digest'>digest</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>First input</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_digest'>digest</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Second input</span><span class='tstring_end'>&#39;</span></span> <span class='comment'># equivalent to digest.update(&#39;Second input&#39;)
</span><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_digest'>digest</span><span class='period'>.</span><span class='id identifier rubyid_digest'>digest</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>aString</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


201
202
203
204
205
206
207
208
209
210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/openssl/ossl_digest.c', line 201</span>

VALUE
ossl_digest_update(VALUE self, VALUE data)
{
    EVP_MD_CTX *ctx;

    StringValue(data);
    GetDigest(self, ctx);

    if (!EVP_DigestUpdate(ctx, RSTRING_PTR(data), RSTRING_LEN(data)))
	ossl_raise(eDigestError, &quot;EVP_DigestUpdate&quot;);

    return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Feb 26 22:17:42 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.4.2).
</div>

    </div>
  </body>
</html>