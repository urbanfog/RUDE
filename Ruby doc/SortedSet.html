<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: SortedSet
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "SortedSet";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (S)</a> &raquo;
    
    
    <span class="title">SortedSet</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: SortedSet
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Set.html" title="Set (class)">Set</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="Set.html" title="Set (class)">Set</a></span></li>
          
            <li class="next">SortedSet</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/set.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>SortedSet implements a Set that guarantees that its elements are yielded in
sorted order (according to the return values of their #&lt;=&gt; methods)
when iterating over them.</p>

<p>All elements that are added to a SortedSet must respond to the &lt;=&gt;
method for comparison.</p>

<p>Also, all elements must be <em>mutually comparable</em>: <code>el1
&lt;=&gt; el2</code> must not return <code>nil</code> for any elements
<code>el1</code> and <code>el2</code>, else an ArgumentError will be raised
when iterating over the SortedSet.</p>

<h2 id="label-Example">Example</h2>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>set</span><span class='tstring_end'>&quot;</span></span>

<span class='id identifier rubyid_set'>set</span> <span class='op'>=</span> <span class='const'>SortedSet</span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="SortedSet#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>3</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id identifier rubyid_ary'>ary</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

<span class='id identifier rubyid_set'>set</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_obj'>obj</span><span class='op'>|</span>
  <span class='id identifier rubyid_ary'>ary</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_obj'>obj</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_ary'>ary</span> <span class='comment'># =&gt; [1, 2, 3, 4, 5, 6]
</span>
<span class='id identifier rubyid_set2'>set2</span> <span class='op'>=</span> <span class='const'>SortedSet</span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="SortedSet#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>3</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id identifier rubyid_set2'>set2</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_obj'>obj</span><span class='op'>|</span> <span class='rbrace'>}</span> <span class='comment'># =&gt; raises ArgumentError: comparison of Fixnum with String failed
</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="setup-classvariable" class="">@@setup =
        
      </dt>
      <dd><pre class="code"><span class='kw'>false</span></pre></dd>
    
      <dt id="mutex-classvariable" class="">@@mutex =
        
      </dt>
      <dd><pre class="code"><span class='const'>Mutex</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span></pre></dd>
    
  </dl>



  
  
  <h3 class="inherited">Constants inherited
     from <span class='object_link'><a href="Set.html" title="Set (class)">Set</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Set.html#InspectKey-constant" title="Set::InspectKey (constant)">Set::InspectKey</a></span></p>





  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#[]-class_method" title="[] (class method)">.<strong>[]</strong>(*ary)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup-class_method" title="setup (class method)">.<strong>setup</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(*args, &amp;block)  &#x21d2; SortedSet </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Set.html" title="Set (class)">Set</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Set.html#&-instance_method" title="Set#&amp; (method)">#&</a></span>, <span class='object_link'><a href="Set.html#--instance_method" title="Set#- (method)">#-</a></span>, <span class='object_link'><a href="Set.html#==-instance_method" title="Set#== (method)">#==</a></span>, <span class='object_link'><a href="Set.html#%5E-instance_method" title="Set#^ (method)">#^</a></span>, <span class='object_link'><a href="Set.html#add-instance_method" title="Set#add (method)">#add</a></span>, <span class='object_link'><a href="Set.html#add%3F-instance_method" title="Set#add? (method)">#add?</a></span>, <span class='object_link'><a href="Set.html#classify-instance_method" title="Set#classify (method)">#classify</a></span>, <span class='object_link'><a href="Set.html#clear-instance_method" title="Set#clear (method)">#clear</a></span>, <span class='object_link'><a href="Set.html#collect!-instance_method" title="Set#collect! (method)">#collect!</a></span>, <span class='object_link'><a href="Set.html#compare_by_identity-instance_method" title="Set#compare_by_identity (method)">#compare_by_identity</a></span>, <span class='object_link'><a href="Set.html#compare_by_identity%3F-instance_method" title="Set#compare_by_identity? (method)">#compare_by_identity?</a></span>, <span class='object_link'><a href="Set.html#delete-instance_method" title="Set#delete (method)">#delete</a></span>, <span class='object_link'><a href="Set.html#delete%3F-instance_method" title="Set#delete? (method)">#delete?</a></span>, <span class='object_link'><a href="Set.html#delete_if-instance_method" title="Set#delete_if (method)">#delete_if</a></span>, <span class='object_link'><a href="Set.html#disjoint%3F-instance_method" title="Set#disjoint? (method)">#disjoint?</a></span>, <span class='object_link'><a href="Set.html#divide-instance_method" title="Set#divide (method)">#divide</a></span>, <span class='object_link'><a href="Set.html#each-instance_method" title="Set#each (method)">#each</a></span>, <span class='object_link'><a href="Set.html#empty%3F-instance_method" title="Set#empty? (method)">#empty?</a></span>, <span class='object_link'><a href="Set.html#eql%3F-instance_method" title="Set#eql? (method)">#eql?</a></span>, <span class='object_link'><a href="Set.html#flatten-instance_method" title="Set#flatten (method)">#flatten</a></span>, <span class='object_link'><a href="Set.html#flatten!-instance_method" title="Set#flatten! (method)">#flatten!</a></span>, <span class='object_link'><a href="Set.html#freeze-instance_method" title="Set#freeze (method)">#freeze</a></span>, <span class='object_link'><a href="Set.html#hash-instance_method" title="Set#hash (method)">#hash</a></span>, <span class='object_link'><a href="Set.html#include%3F-instance_method" title="Set#include? (method)">#include?</a></span>, <span class='object_link'><a href="Set.html#initialize_clone-instance_method" title="Set#initialize_clone (method)">#initialize_clone</a></span>, <span class='object_link'><a href="Set.html#initialize_dup-instance_method" title="Set#initialize_dup (method)">#initialize_dup</a></span>, <span class='object_link'><a href="Set.html#inspect-instance_method" title="Set#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="Set.html#intersect%3F-instance_method" title="Set#intersect? (method)">#intersect?</a></span>, <span class='object_link'><a href="Set.html#keep_if-instance_method" title="Set#keep_if (method)">#keep_if</a></span>, <span class='object_link'><a href="Set.html#merge-instance_method" title="Set#merge (method)">#merge</a></span>, <span class='object_link'><a href="Set.html#pretty_print-instance_method" title="Set#pretty_print (method)">#pretty_print</a></span>, <span class='object_link'><a href="Set.html#pretty_print_cycle-instance_method" title="Set#pretty_print_cycle (method)">#pretty_print_cycle</a></span>, <span class='object_link'><a href="Set.html#proper_subset%3F-instance_method" title="Set#proper_subset? (method)">#proper_subset?</a></span>, <span class='object_link'><a href="Set.html#proper_superset%3F-instance_method" title="Set#proper_superset? (method)">#proper_superset?</a></span>, <span class='object_link'><a href="Set.html#reject!-instance_method" title="Set#reject! (method)">#reject!</a></span>, <span class='object_link'><a href="Set.html#replace-instance_method" title="Set#replace (method)">#replace</a></span>, <span class='object_link'><a href="Set.html#reset-instance_method" title="Set#reset (method)">#reset</a></span>, <span class='object_link'><a href="Set.html#select!-instance_method" title="Set#select! (method)">#select!</a></span>, <span class='object_link'><a href="Set.html#size-instance_method" title="Set#size (method)">#size</a></span>, <span class='object_link'><a href="Set.html#subset%3F-instance_method" title="Set#subset? (method)">#subset?</a></span>, <span class='object_link'><a href="Set.html#subtract-instance_method" title="Set#subtract (method)">#subtract</a></span>, <span class='object_link'><a href="Set.html#superset%3F-instance_method" title="Set#superset? (method)">#superset?</a></span>, <span class='object_link'><a href="Set.html#taint-instance_method" title="Set#taint (method)">#taint</a></span>, <span class='object_link'><a href="Set.html#to_a-instance_method" title="Set#to_a (method)">#to_a</a></span>, <span class='object_link'><a href="Set.html#to_set-instance_method" title="Set#to_set (method)">#to_set</a></span>, <span class='object_link'><a href="Set.html#untaint-instance_method" title="Set#untaint (method)">#untaint</a></span>, <span class='object_link'><a href="Set.html#%7C-instance_method" title="Set#| (method)">#|</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Enumerable.html#to_set-instance_method" title="Enumerable#to_set (method)">#to_set</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(*args, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="" title="SortedSet (class)">SortedSet</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


805
806
807
808</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/set.rb', line 805</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'><span class='object_link'><a href="OptionParser/Arguable.html#initialize-instance_method" title="OptionParser::Arguable#initialize (method)">initialize</a></span></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='const'><span class='object_link'><a href="" title="SortedSet (class)">SortedSet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_setup'><span class='object_link'><a href="#setup-class_method" title="SortedSet.setup (method)">setup</a></span></span>
  <span class='id identifier rubyid_initialize'><span class='object_link'><a href="OptionParser/Arguable.html#initialize-instance_method" title="OptionParser::Arguable#initialize (method)">initialize</a></span></span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="[]-class_method">
  
    .<strong>[]</strong>(*ary)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


698
699
700</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/set.rb', line 698</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_ary'>ary</span><span class='rparen'>)</span>        <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_new'><span class='object_link'><a href="OptionParser/Arguable.html#initialize-instance_method" title="OptionParser::Arguable#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_ary'>ary</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setup-class_method">
  
    .<strong>setup</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/set.rb', line 702</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setup'><span class='object_link'><a href="top-level-namespace.html#setup-instance_method" title="#setup (method)">setup</a></span></span>   <span class='comment'># :nodoc:
</span>  <span class='cvar'>@@setup</span> <span class='kw'>and</span> <span class='kw'>return</span>

  <span class='cvar'>@@mutex</span><span class='period'>.</span><span class='id identifier rubyid_synchronize'>synchronize</span> <span class='kw'>do</span>
    <span class='comment'># a hack to shut up warning
</span>    <span class='id identifier rubyid_alias_method'>alias_method</span> <span class='symbol'>:old_init</span><span class='comma'>,</span> <span class='symbol'>:initialize</span>

    <span class='kw'>begin</span>
      <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rbtree</span><span class='tstring_end'>&#39;</span></span>

      <span class='id identifier rubyid_module_eval'>module_eval</span> <span class='heredoc_beg'>&lt;&lt;-END</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span><span class='op'>+</span><span class='int'>1</span>
<span class='tstring_content'>        def initialize(*args)
          @hash = RBTree.new
          super
        end

        def add(o)
          o.respond_to?(:&lt;=&gt;) or raise ArgumentError, &quot;value must respond to &lt;=&gt;&quot;
          super
        end
        alias &lt;&lt; add
</span><span class='heredoc_end'>      END
</span>    <span class='kw'>rescue</span> <span class='const'>LoadError</span>
      <span class='id identifier rubyid_module_eval'>module_eval</span> <span class='heredoc_beg'>&lt;&lt;-END</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span><span class='op'>+</span><span class='int'>1</span>
<span class='tstring_content'>        def initialize(*args)
          @keys = nil
          super
        end

        def clear
          @keys = nil
          super
        end

        def replace(enum)
          @keys = nil
          super
        end

        def add(o)
          o.respond_to?(:&lt;=&gt;) or raise ArgumentError, &quot;value must respond to &lt;=&gt;&quot;
          @keys = nil
          super
        end
        alias &lt;&lt; add

        def delete(o)
          @keys = nil
          @hash.delete(o)
          self
        end

        def delete_if
          block_given? or return enum_for(__method__) { size }
          n = @hash.size
          super
          @keys = nil if @hash.size != n
          self
        end

        def keep_if
          block_given? or return enum_for(__method__) { size }
          n = @hash.size
          super
          @keys = nil if @hash.size != n
          self
        end

        def merge(enum)
          @keys = nil
          super
        end

        def each(&amp;block)
          block or return enum_for(__method__) { size }
          to_a.each(&amp;block)
          self
        end

        def to_a
          (@keys = @hash.keys).sort! unless @keys
          @keys
        end

        def freeze
          to_a
          super
        end

        def rehash
          @keys = nil
          super
        end
</span><span class='heredoc_end'>      END
</span>    <span class='kw'>end</span>
    <span class='comment'># a hack to shut up warning
</span>    <span class='id identifier rubyid_remove_method'>remove_method</span> <span class='symbol'>:old_init</span>

    <span class='cvar'>@@setup</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Feb 26 22:17:46 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.4.2).
</div>

    </div>
  </body>
</html>