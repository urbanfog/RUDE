<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Process
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Process";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (P)</a> &raquo;
    
    
    <span class="title">Process</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Process
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>process.c<span class="defines">,<br />
  process.c</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Module to handle processes.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Process/GID.html" title="Process::GID (class)">GID</a></span>, <span class='object_link'><a href="Process/Status.html" title="Process::Status (class)">Status</a></span>, <span class='object_link'><a href="Process/Sys.html" title="Process::Sys (class)">Sys</a></span>, <span class='object_link'><a href="Process/UID.html" title="Process::UID (class)">UID</a></span>, <span class='object_link'><a href="Process/Waiter.html" title="Process::Waiter (class)">Waiter</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="WNOHANG-constant" class="">WNOHANG =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.wait</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="WUNTRACED-constant" class="">WUNTRACED =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.wait</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="PRIO_PROCESS-constant" class="">PRIO_PROCESS =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.setpriority</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#PRIO_PROCESS-constant" title="Process::PRIO_PROCESS (constant)">PRIO_PROCESS</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="PRIO_PGRP-constant" class="">PRIO_PGRP =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.setpriority</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#PRIO_PGRP-constant" title="Process::PRIO_PGRP (constant)">PRIO_PGRP</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="PRIO_USER-constant" class="">PRIO_USER =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.setpriority</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#PRIO_USER-constant" title="Process::PRIO_USER (constant)">PRIO_USER</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIM_SAVED_MAX-constant" class="">RLIM_SAVED_MAX =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.setrlimit</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='id identifier rubyid_v'>v</span></pre></dd>
    
      <dt id="RLIM_INFINITY-constant" class="">RLIM_INFINITY =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.setrlimit</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='id identifier rubyid_inf'>inf</span></pre></dd>
    
      <dt id="RLIM_SAVED_CUR-constant" class="">RLIM_SAVED_CUR =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.setrlimit</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='id identifier rubyid_v'>v</span></pre></dd>
    
      <dt id="RLIMIT_AS-constant" class="">RLIMIT_AS =
        <div class="docstring">
  <div class="discussion">
    
<p>Maximum size of the process&#39;s virtual memory (address space) in bytes.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_AS-constant" title="Process::RLIMIT_AS (constant)">RLIMIT_AS</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_CORE-constant" class="">RLIMIT_CORE =
        <div class="docstring">
  <div class="discussion">
    
<p>Maximum size of the core file.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_CORE-constant" title="Process::RLIMIT_CORE (constant)">RLIMIT_CORE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_CPU-constant" class="">RLIMIT_CPU =
        <div class="docstring">
  <div class="discussion">
    
<p>CPU time limit in seconds.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_CPU-constant" title="Process::RLIMIT_CPU (constant)">RLIMIT_CPU</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_DATA-constant" class="">RLIMIT_DATA =
        <div class="docstring">
  <div class="discussion">
    
<p>Maximum size of the process&#39;s data segment.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_DATA-constant" title="Process::RLIMIT_DATA (constant)">RLIMIT_DATA</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_FSIZE-constant" class="">RLIMIT_FSIZE =
        <div class="docstring">
  <div class="discussion">
    
<p>Maximum size of files that the process may create.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_FSIZE-constant" title="Process::RLIMIT_FSIZE (constant)">RLIMIT_FSIZE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_MEMLOCK-constant" class="">RLIMIT_MEMLOCK =
        <div class="docstring">
  <div class="discussion">
    
<p>Maximum number of bytes of memory that may be locked into RAM.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_MEMLOCK-constant" title="Process::RLIMIT_MEMLOCK (constant)">RLIMIT_MEMLOCK</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_MSGQUEUE-constant" class="">RLIMIT_MSGQUEUE =
        <div class="docstring">
  <div class="discussion">
    
<p>Specifies the limit on the number of bytes that can be allocated for POSIX
message queues for the real user ID of the calling process.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_MSGQUEUE-constant" title="Process::RLIMIT_MSGQUEUE (constant)">RLIMIT_MSGQUEUE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_NICE-constant" class="">RLIMIT_NICE =
        <div class="docstring">
  <div class="discussion">
    
<p>Specifies a ceiling to which the process&#39;s nice value can be raised.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_NICE-constant" title="Process::RLIMIT_NICE (constant)">RLIMIT_NICE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_NOFILE-constant" class="">RLIMIT_NOFILE =
        <div class="docstring">
  <div class="discussion">
    
<p>Specifies a value one greater than the maximum file descriptor number that
can be opened by this process.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_NOFILE-constant" title="Process::RLIMIT_NOFILE (constant)">RLIMIT_NOFILE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_NPROC-constant" class="">RLIMIT_NPROC =
        <div class="docstring">
  <div class="discussion">
    
<p>The maximum number of processes that can be created for the real user ID of
the calling process.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_NPROC-constant" title="Process::RLIMIT_NPROC (constant)">RLIMIT_NPROC</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_RSS-constant" class="">RLIMIT_RSS =
        <div class="docstring">
  <div class="discussion">
    
<p>Specifies the limit (in pages) of the process&#39;s resident set.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_RSS-constant" title="Process::RLIMIT_RSS (constant)">RLIMIT_RSS</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_RTPRIO-constant" class="">RLIMIT_RTPRIO =
        <div class="docstring">
  <div class="discussion">
    
<p>Specifies a ceiling on the real-time priority that may be set for this
process.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_RTPRIO-constant" title="Process::RLIMIT_RTPRIO (constant)">RLIMIT_RTPRIO</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_RTTIME-constant" class="">RLIMIT_RTTIME =
        <div class="docstring">
  <div class="discussion">
    
<p>Specifies limit on CPU time this process scheduled under a real-time
scheduling policy can consume.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_RTTIME-constant" title="Process::RLIMIT_RTTIME (constant)">RLIMIT_RTTIME</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_SBSIZE-constant" class="">RLIMIT_SBSIZE =
        <div class="docstring">
  <div class="discussion">
    
<p>Maximum size of the socket buffer.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_SBSIZE-constant" title="Process::RLIMIT_SBSIZE (constant)">RLIMIT_SBSIZE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_SIGPENDING-constant" class="">RLIMIT_SIGPENDING =
        <div class="docstring">
  <div class="discussion">
    
<p>Specifies a limit on the number of signals that may be queued for the real
user ID of the calling process.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_SIGPENDING-constant" title="Process::RLIMIT_SIGPENDING (constant)">RLIMIT_SIGPENDING</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RLIMIT_STACK-constant" class="">RLIMIT_STACK =
        <div class="docstring">
  <div class="discussion">
    
<p>Maximum size of the stack, in bytes.</p>

<p>see the system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2FIX</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#RLIMIT_STACK-constant" title="Process::RLIMIT_STACK (constant)">RLIMIT_STACK</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_REALTIME-constant" class="">CLOCK_REALTIME =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>RUBY_GETTIMEOFDAY_BASED_CLOCK_REALTIME</span></pre></dd>
    
      <dt id="CLOCK_MONOTONIC-constant" class="">CLOCK_MONOTONIC =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>RUBY_MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC</span></pre></dd>
    
      <dt id="CLOCK_PROCESS_CPUTIME_ID-constant" class="">CLOCK_PROCESS_CPUTIME_ID =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>RUBY_GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID</span></pre></dd>
    
      <dt id="CLOCK_THREAD_CPUTIME_ID-constant" class="">CLOCK_THREAD_CPUTIME_ID =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_THREAD_CPUTIME_ID-constant" title="Process::CLOCK_THREAD_CPUTIME_ID (constant)">CLOCK_THREAD_CPUTIME_ID</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_VIRTUAL-constant" class="">CLOCK_VIRTUAL =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_VIRTUAL-constant" title="Process::CLOCK_VIRTUAL (constant)">CLOCK_VIRTUAL</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_PROF-constant" class="">CLOCK_PROF =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_PROF-constant" title="Process::CLOCK_PROF (constant)">CLOCK_PROF</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_REALTIME_FAST-constant" class="">CLOCK_REALTIME_FAST =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_REALTIME_FAST-constant" title="Process::CLOCK_REALTIME_FAST (constant)">CLOCK_REALTIME_FAST</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_REALTIME_PRECISE-constant" class="">CLOCK_REALTIME_PRECISE =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_REALTIME_PRECISE-constant" title="Process::CLOCK_REALTIME_PRECISE (constant)">CLOCK_REALTIME_PRECISE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_REALTIME_COARSE-constant" class="">CLOCK_REALTIME_COARSE =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_REALTIME_COARSE-constant" title="Process::CLOCK_REALTIME_COARSE (constant)">CLOCK_REALTIME_COARSE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_REALTIME_ALARM-constant" class="">CLOCK_REALTIME_ALARM =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_REALTIME_ALARM-constant" title="Process::CLOCK_REALTIME_ALARM (constant)">CLOCK_REALTIME_ALARM</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_MONOTONIC_FAST-constant" class="">CLOCK_MONOTONIC_FAST =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_MONOTONIC_FAST-constant" title="Process::CLOCK_MONOTONIC_FAST (constant)">CLOCK_MONOTONIC_FAST</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_MONOTONIC_PRECISE-constant" class="">CLOCK_MONOTONIC_PRECISE =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_MONOTONIC_PRECISE-constant" title="Process::CLOCK_MONOTONIC_PRECISE (constant)">CLOCK_MONOTONIC_PRECISE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_MONOTONIC_RAW-constant" class="">CLOCK_MONOTONIC_RAW =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_MONOTONIC_RAW-constant" title="Process::CLOCK_MONOTONIC_RAW (constant)">CLOCK_MONOTONIC_RAW</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_MONOTONIC_RAW_APPROX-constant" class="">CLOCK_MONOTONIC_RAW_APPROX =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_MONOTONIC_RAW_APPROX-constant" title="Process::CLOCK_MONOTONIC_RAW_APPROX (constant)">CLOCK_MONOTONIC_RAW_APPROX</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_MONOTONIC_COARSE-constant" class="">CLOCK_MONOTONIC_COARSE =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_MONOTONIC_COARSE-constant" title="Process::CLOCK_MONOTONIC_COARSE (constant)">CLOCK_MONOTONIC_COARSE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_BOOTTIME-constant" class="">CLOCK_BOOTTIME =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_BOOTTIME-constant" title="Process::CLOCK_BOOTTIME (constant)">CLOCK_BOOTTIME</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_BOOTTIME_ALARM-constant" class="">CLOCK_BOOTTIME_ALARM =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_BOOTTIME_ALARM-constant" title="Process::CLOCK_BOOTTIME_ALARM (constant)">CLOCK_BOOTTIME_ALARM</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_UPTIME-constant" class="">CLOCK_UPTIME =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_UPTIME-constant" title="Process::CLOCK_UPTIME (constant)">CLOCK_UPTIME</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_UPTIME_FAST-constant" class="">CLOCK_UPTIME_FAST =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_UPTIME_FAST-constant" title="Process::CLOCK_UPTIME_FAST (constant)">CLOCK_UPTIME_FAST</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_UPTIME_PRECISE-constant" class="">CLOCK_UPTIME_PRECISE =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_UPTIME_PRECISE-constant" title="Process::CLOCK_UPTIME_PRECISE (constant)">CLOCK_UPTIME_PRECISE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_UPTIME_RAW-constant" class="">CLOCK_UPTIME_RAW =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_UPTIME_RAW-constant" title="Process::CLOCK_UPTIME_RAW (constant)">CLOCK_UPTIME_RAW</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_UPTIME_RAW_APPROX-constant" class="">CLOCK_UPTIME_RAW_APPROX =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_UPTIME_RAW_APPROX-constant" title="Process::CLOCK_UPTIME_RAW_APPROX (constant)">CLOCK_UPTIME_RAW_APPROX</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="CLOCK_SECOND-constant" class="">CLOCK_SECOND =
        <div class="docstring">
  <div class="discussion">
    
<p>see Process.clock_gettime</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>CLOCKID2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#CLOCK_SECOND-constant" title="Process::CLOCK_SECOND (constant)">CLOCK_SECOND</a></span></span><span class='rparen'>)</span></pre></dd>
    
  </dl>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#abort-class_method" title="abort (class method)">.<strong>abort</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Terminate execution immediately, effectively by calling
<code>Kernel.exit(false)</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#argv0-class_method" title="argv0 (class method)">.<strong>argv0</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the name of the script being executed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clock_getres-class_method" title="clock_getres (class method)">.<strong>clock_getres</strong>(clock_id[, unit])  &#x21d2; Numeric </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the time resolution returned by POSIX clock_getres() function.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clock_gettime-class_method" title="clock_gettime (class method)">.<strong>clock_gettime</strong>(clock_id[, unit])  &#x21d2; Numeric </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a time returned by POSIX clock_gettime() function.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#daemon-class_method" title="daemon (class method)">.<strong>daemon</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Detach the process from controlling terminal and run in the background as
system daemon.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#detach-class_method" title="detach (class method)">.<strong>detach</strong>(pid)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Some operating systems retain the status of terminated child processes
until the parent collects that status (normally using some variant of
<code>wait()</code>).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#egid-class_method" title="egid (class method)">.<strong>egid</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the effective group ID for this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#egid=-class_method" title="egid= (class method)">.<strong>egid=</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#euid-class_method" title="euid (class method)">.<strong>euid</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the effective user ID for this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#euid=-class_method" title="euid= (class method)">.<strong>euid=</strong>(user)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the effective user ID for this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exec-class_method" title="exec (class method)">.<strong>exec</strong>([env,][,options])  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Replaces the current process by running the given external
<em>command</em>, which can take one of the following forms:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exit-class_method" title="exit (class method)">.<strong>exit</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initiates the termination of the Ruby script by raising the
<code>SystemExit</code> exception.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exit!-class_method" title="exit! (class method)">.<strong>exit!</strong>(status = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Exits the process immediately.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fork-class_method" title="fork (class method)">.<strong>fork</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a subprocess.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getpgid-class_method" title="getpgid (class method)">.<strong>getpgid</strong>(pid)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the process group ID for the given process id.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getpgrp-class_method" title="getpgrp (class method)">.<strong>getpgrp</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the process group ID for this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getpriority-class_method" title="getpriority (class method)">.<strong>getpriority</strong>(kind, integer)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the scheduling priority for specified process, process group, or user.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getrlimit-class_method" title="getrlimit (class method)">.<strong>getrlimit</strong>(resource)  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the resource limit of the process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getsid-class_method" title="getsid (class method)">.<strong>getsid</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the session ID for the given process id.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gid-class_method" title="gid (class method)">.<strong>gid</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the (real) group ID for this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gid=-class_method" title="gid= (class method)">.<strong>gid=</strong>(integer)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the group ID for this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#groups-class_method" title="groups (class method)">.<strong>groups</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get an <code>Array</code> of the gids of groups in the supplemental group
access list for this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#groups=-class_method" title="groups= (class method)">.<strong>groups=</strong>(array)  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Set the supplemental group access list to the given <code>Array</code> of
group IDs.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initgroups-class_method" title="initgroups (class method)">.<strong>initgroups</strong>(username, gid)  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initializes the supplemental group access list by reading the system group
database and using all groups of which the given user is a member.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#kill-class_method" title="kill (class method)">.<strong>kill</strong>(signal, pid, ...)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sends the given signal to the specified process id(s) if <em>pid</em> is
positive.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_status-class_method" title="last_status (class method)">.<strong>last_status</strong>  &#x21d2; Process::Status<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the status of the last executed child process in the current
thread.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#maxgroups-class_method" title="maxgroups (class method)">.<strong>maxgroups</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the maximum number of gids allowed in the supplemental group access
list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#maxgroups=-class_method" title="maxgroups= (class method)">.<strong>maxgroups=</strong>(integer)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the maximum number of gids allowed in the supplemental group access
list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pid-class_method" title="pid (class method)">.<strong>pid</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the process id of this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ppid-class_method" title="ppid (class method)">.<strong>ppid</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the process id of the parent of this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setpgid-class_method" title="setpgid (class method)">.<strong>setpgid</strong>(pid, integer)  &#x21d2; 0 </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the process group ID of <em>pid</em> (0 indicates this process) to
<em>integer</em>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setpgrp-class_method" title="setpgrp (class method)">.<strong>setpgrp</strong>  &#x21d2; 0 </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to <code>setpgid(0,0)</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setpriority-class_method" title="setpriority (class method)">.<strong>setpriority</strong>(kind, integer, priority)  &#x21d2; 0 </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>See <code>Process#getpriority</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setproctitle-class_method" title="setproctitle (class method)">.<strong>setproctitle</strong>(string)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the process title that appears on the ps(1) command.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setrlimit-class_method" title="setrlimit (class method)">.<strong>setrlimit</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the resource limit of the process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setsid-class_method" title="setsid (class method)">.<strong>setsid</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Establishes this process as a new session and process group leader, with no
controlling tty.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#spawn-class_method" title="spawn (class method)">.<strong>spawn</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>spawn executes specified command and return its pid.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#times-class_method" title="times (class method)">.<strong>times</strong>  &#x21d2; aProcessTms </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a <code>Tms</code> structure (see <code>Process::Tms</code>) that
contains user and system CPU times for this process, and also for children
processes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uid-class_method" title="uid (class method)">.<strong>uid</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the (real) user ID of this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uid=-class_method" title="uid= (class method)">.<strong>uid=</strong>(user)  &#x21d2; Numeric </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets the (user) user ID for this process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#wait-class_method" title="wait (class method)">.<strong>wait</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Waits for a child process to exit, returns its process id, and sets
<code>$?</code> to a <code>Process::Status</code> object containing
information on that process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#wait2-class_method" title="wait2 (class method)">.<strong>wait2</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Waits for a child process to exit (see Process::waitpid for exact
semantics) and returns an array containing the process id and the exit
status (a <code>Process::Status</code> object) of that child.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#waitall-class_method" title="waitall (class method)">.<strong>waitall</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Waits for all children, returning an array of <em>pid</em>/<em>status</em>
pairs (where <em>status</em> is a <code>Process::Status</code> object).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#waitpid-class_method" title="waitpid (class method)">.<strong>waitpid</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Waits for a child process to exit, returns its process id, and sets
<code>$?</code> to a <code>Process::Status</code> object containing
information on that process.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#waitpid2-class_method" title="waitpid2 (class method)">.<strong>waitpid2</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Waits for a child process to exit (see Process::waitpid for exact
semantics) and returns an array containing the process id and the exit
status (a <code>Process::Status</code> object) of that child.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="abort-class_method">
  
    
      <span class="overload">.<strong>abort</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">.<strong>Kernel::abort</strong>([msg])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">.<strong>abort</strong>([msg])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Terminate execution immediately, effectively by calling
<code>Kernel.exit(false)</code>. If <em>msg</em> is given, it is written to
STDERR prior to terminating.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3880
3881
3882
3883
3884
3885
3886
3887
3888
3889
3890
3891
3892
3893
3894
3895
3896
3897
3898
3899
3900
3901
3902
3903</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 3880</span>

VALUE
rb_f_abort(int argc, const VALUE *argv)
{
    rb_check_arity(argc, 0, 1);
    if (argc == 0) {
	rb_execution_context_t *ec = GET_EC();
	VALUE errinfo = ec-&gt;errinfo;
	if (!NIL_P(errinfo)) {
	    rb_ec_error_print(ec, errinfo);
	}
	rb_exit(EXIT_FAILURE);
    }
    else {
	VALUE args[2];

	args[1] = args[0] = argv[0];
	StringValue(args[0]);
	rb_io_puts(1, args, rb_stderr);
	args[0] = INT2NUM(EXIT_FAILURE);
	rb_exc_raise(rb_class_new_instance(2, args, rb_eSystemExit));
    }

    UNREACHABLE;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="argv0-class_method">
  
    .<strong>argv0</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the name of the script being executed.  The value is not affected
by assigning a new value to $0.</p>

<p>This method first appeared in Ruby 2.1 to serve as a global variable free
means to get the script name.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2102
2103
2104
2105
2106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ruby.c', line 2102</span>

static VALUE
proc_argv0(VALUE process)
{
    return rb_orig_progname;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clock_getres-class_method">
  
    .<strong>clock_getres</strong>(clock_id[, unit])  &#x21d2; <tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the time resolution returned by POSIX clock_getres() function.</p>

<p><code>clock_id</code> specifies a kind of clock. See the document of
<code>Process.clock_gettime</code> for details.</p>

<p><code>clock_id</code> can be a symbol as
<code>Process.clock_gettime</code>. However the result may not be accurate.
For example, <tt>Process.clock_getres(:GETTIMEOFDAY_BASED_CLOCK_REALTIME)</tt>
returns 1.0e-06 which means 1 microsecond, but actual resolution can be
more coarse.</p>

<p>If the given <code>clock_id</code> is not supported, Errno::EINVAL is
raised.</p>

<p><code>unit</code> specifies a type of the return value.
<code>Process.clock_getres</code> accepts <code>unit</code> as
<code>Process.clock_gettime</code>. The default value,
<code>:float_second</code>, is also same as
<code>Process.clock_gettime</code>.</p>

<p><code>Process.clock_getres</code> also accepts <code>:hertz</code> as
<code>unit</code>. <code>:hertz</code> means a the reciprocal of
<code>:float_second</code>.</p>

<p><code>:hertz</code> can be used to obtain the exact value of the clock
ticks per second for times() function and CLOCKS_PER_SEC for clock()
function.</p>

<p><tt>Process.clock_getres(:TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID, :hertz)</tt>
returns the clock ticks per second.</p>

<p><tt>Process.clock_getres(:CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID, :hertz)</tt>
returns CLOCKS_PER_SEC.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_p'>p</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_clock_getres'>clock_getres</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#CLOCK_MONOTONIC-constant" title="Process::CLOCK_MONOTONIC (constant)">CLOCK_MONOTONIC</a></span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; 1.0e-09
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7510
7511
7512
7513
7514
7515
7516
7517
7518
7519
7520
7521
7522
7523
7524
7525
7526
7527
7528
7529
7530
7531
7532
7533
7534
7535
7536
7537
7538
7539
7540
7541
7542
7543
7544
7545
7546
7547
7548
7549
7550
7551
7552
7553
7554
7555
7556
7557
7558
7559
7560
7561
7562
7563
7564
7565
7566
7567
7568
7569
7570
7571
7572
7573
7574
7575
7576
7577
7578
7579
7580
7581
7582
7583
7584
7585
7586
7587
7588
7589
7590
7591
7592
7593
7594
7595
7596
7597
7598
7599
7600
7601
7602
7603
7604
7605
7606
7607
7608
7609
7610
7611
7612</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 7510</span>

VALUE
rb_clock_getres(int argc, VALUE *argv)
{
    struct timetick tt;
    timetick_int_t numerators[2];
    timetick_int_t denominators[2];
    int num_numerators = 0;
    int num_denominators = 0;

    VALUE unit = (rb_check_arity(argc, 1, 2) == 2) ? argv[1] : Qnil;
    VALUE clk_id = argv[0];

    if (SYMBOL_P(clk_id)) {
#ifdef RUBY_GETTIMEOFDAY_BASED_CLOCK_REALTIME
        if (clk_id == RUBY_GETTIMEOFDAY_BASED_CLOCK_REALTIME) {
            tt.giga_count = 0;
            tt.count = 1000;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif

#ifdef RUBY_TIME_BASED_CLOCK_REALTIME
        if (clk_id == RUBY_TIME_BASED_CLOCK_REALTIME) {
            tt.giga_count = 1;
            tt.count = 0;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif

#ifdef RUBY_TIMES_BASED_CLOCK_MONOTONIC
        if (clk_id == RUBY_TIMES_BASED_CLOCK_MONOTONIC) {
            tt.count = 1;
            tt.giga_count = 0;
            denominators[num_denominators++] = get_clk_tck();
            goto success;
        }
#endif

#ifdef RUBY_GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID
        if (clk_id == RUBY_GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            tt.giga_count = 0;
            tt.count = 1000;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif

#ifdef RUBY_TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID
        if (clk_id == RUBY_TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            tt.count = 1;
            tt.giga_count = 0;
            denominators[num_denominators++] = get_clk_tck();
            goto success;
        }
#endif

#ifdef RUBY_CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID
        if (clk_id == RUBY_CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            tt.count = 1;
            tt.giga_count = 0;
            denominators[num_denominators++] = CLOCKS_PER_SEC;
            goto success;
        }
#endif

#ifdef RUBY_MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC
        if (clk_id == RUBY_MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC) {
	    mach_timebase_info_data_t *info = get_mach_timebase_info();
            tt.count = 1;
            tt.giga_count = 0;
            numerators[num_numerators++] = info-&gt;numer;
            denominators[num_denominators++] = info-&gt;denom;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif
    }
    else {
#if defined(HAVE_CLOCK_GETRES)
        struct timespec ts;
        clockid_t c = NUM2CLOCKID(clk_id);
        int ret = clock_getres(c, &amp;ts);
        if (ret == -1)
            rb_sys_fail(&quot;clock_getres&quot;);
        tt.count = (int32_t)ts.tv_nsec;
        tt.giga_count = ts.tv_sec;
        denominators[num_denominators++] = 1000000000;
        goto success;
#endif
    }
    /* EINVAL emulates clock_getres behavior when clock_id is invalid. */
    rb_syserr_fail(EINVAL, 0);

  success:
    if (unit == ID2SYM(id_hertz)) {
        return timetick2dblnum_reciprocal(&amp;tt, numerators, num_numerators, denominators, num_denominators);
    }
    else {
        return make_clock_result(&amp;tt, numerators, num_numerators, denominators, num_denominators, unit);
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clock_gettime-class_method">
  
    .<strong>clock_gettime</strong>(clock_id[, unit])  &#x21d2; <tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a time returned by POSIX clock_gettime() function.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_p'>p</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_clock_gettime'>clock_gettime</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#CLOCK_MONOTONIC-constant" title="Process::CLOCK_MONOTONIC (constant)">CLOCK_MONOTONIC</a></span></span><span class='rparen'>)</span>
<span class='comment'>#=&gt; 896053.968060096
</span></code></pre>

<p><code>clock_id</code> specifies a kind of clock. It is specified as a
constant which begins with <code>Process::CLOCK_</code> such as
Process::CLOCK_REALTIME and Process::CLOCK_MONOTONIC.</p>

<p>The supported constants depends on OS and version. Ruby provides following
types of <code>clock_id</code> if available.</p>
<dl class="rdoc-list label-list"><dt>CLOCK_REALTIME
<dd>
<p>SUSv2 to 4, Linux 2.5.63, FreeBSD 3.0, NetBSD 2.0, OpenBSD 2.1, macOS 10.12</p>
</dd><dt>CLOCK_MONOTONIC
<dd>
<p>SUSv3 to 4, Linux 2.5.63, FreeBSD 3.0, NetBSD 2.0, OpenBSD 3.4, macOS 10.12</p>
</dd><dt>CLOCK_PROCESS_CPUTIME_ID
<dd>
<p>SUSv3 to 4, Linux 2.5.63, OpenBSD 5.4, macOS 10.12</p>
</dd><dt>CLOCK_THREAD_CPUTIME_ID
<dd>
<p>SUSv3 to 4, Linux 2.5.63, FreeBSD 7.1, OpenBSD 5.4, macOS 10.12</p>
</dd><dt>CLOCK_VIRTUAL
<dd>
<p>FreeBSD 3.0, OpenBSD 2.1</p>
</dd><dt>CLOCK_PROF
<dd>
<p>FreeBSD 3.0, OpenBSD 2.1</p>
</dd><dt>CLOCK_REALTIME_FAST
<dd>
<p>FreeBSD 8.1</p>
</dd><dt>CLOCK_REALTIME_PRECISE
<dd>
<p>FreeBSD 8.1</p>
</dd><dt>CLOCK_REALTIME_COARSE
<dd>
<p>Linux 2.6.32</p>
</dd><dt>CLOCK_REALTIME_ALARM
<dd>
<p>Linux 3.0</p>
</dd><dt>CLOCK_MONOTONIC_FAST
<dd>
<p>FreeBSD 8.1</p>
</dd><dt>CLOCK_MONOTONIC_PRECISE
<dd>
<p>FreeBSD 8.1</p>
</dd><dt>CLOCK_MONOTONIC_COARSE
<dd>
<p>Linux 2.6.32</p>
</dd><dt>CLOCK_MONOTONIC_RAW
<dd>
<p>Linux 2.6.28, macOS 10.12</p>
</dd><dt>CLOCK_MONOTONIC_RAW_APPROX
<dd>
<p>macOS 10.12</p>
</dd><dt>CLOCK_BOOTTIME
<dd>
<p>Linux 2.6.39</p>
</dd><dt>CLOCK_BOOTTIME_ALARM
<dd>
<p>Linux 3.0</p>
</dd><dt>CLOCK_UPTIME
<dd>
<p>FreeBSD 7.0, OpenBSD 5.5</p>
</dd><dt>CLOCK_UPTIME_FAST
<dd>
<p>FreeBSD 8.1</p>
</dd><dt>CLOCK_UPTIME_RAW
<dd>
<p>macOS 10.12</p>
</dd><dt>CLOCK_UPTIME_RAW_APPROX
<dd>
<p>macOS 10.12</p>
</dd><dt>CLOCK_UPTIME_PRECISE
<dd>
<p>FreeBSD 8.1</p>
</dd><dt>CLOCK_SECOND
<dd>
<p>FreeBSD 8.1</p>
</dd></dl>

<p>Note that SUS stands for Single Unix Specification. SUS contains POSIX and
clock_gettime is defined in the POSIX part. SUS defines CLOCK_REALTIME
mandatory but CLOCK_MONOTONIC, CLOCK_PROCESS_CPUTIME_ID and
CLOCK_THREAD_CPUTIME_ID are optional.</p>

<p>Also, several symbols are accepted as <code>clock_id</code>. There are
emulations for clock_gettime().</p>

<p>For example, Process::CLOCK_REALTIME is defined as
<code>:GETTIMEOFDAY_BASED_CLOCK_REALTIME</code> when clock_gettime() is not
available.</p>

<p>Emulations for <code>CLOCK_REALTIME</code>:</p>
<dl class="rdoc-list label-list"><dt>:GETTIMEOFDAY_BASED_CLOCK_REALTIME
<dd>
<p>Use gettimeofday() defined by SUS. (SUSv4 obsoleted it, though.) The
resolution is 1 microsecond.</p>
</dd><dt>:TIME_BASED_CLOCK_REALTIME
<dd>
<p>Use time() defined by ISO C. The resolution is 1 second.</p>
</dd></dl>

<p>Emulations for <code>CLOCK_MONOTONIC</code>:</p>
<dl class="rdoc-list label-list"><dt>:MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC
<dd>
<p>Use mach_absolute_time(), available on Darwin. The resolution is CPU
dependent.</p>
</dd><dt>:TIMES_BASED_CLOCK_MONOTONIC
<dd>
<p>Use the result value of times() defined by POSIX. POSIX defines it as
times() shall return the elapsed real time, in clock ticks, since an
arbitrary point in the past (for example, system start-up time). For
example, GNU/Linux returns a value based on jiffies and it is monotonic.
However, 4.4BSD uses gettimeofday() and it is not monotonic. (FreeBSD uses
clock_gettime(CLOCK_MONOTONIC) instead, though.) The resolution is the
clock tick. getconf CLK_TCK command shows the clock ticks per second.
(The clock ticks per second is defined by HZ macro in older systems.) If it
is 100 and clock_t is 32 bits integer type, the resolution is 10
millisecond and cannot represent over 497 days.</p>
</dd></dl>

<p>Emulations for <code>CLOCK_PROCESS_CPUTIME_ID</code>:</p>
<dl class="rdoc-list label-list"><dt>:GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID
<dd>
<p>Use getrusage() defined by SUS. getrusage() is used with RUSAGE_SELF to
obtain the time only for the calling process (excluding the time for child
processes). The result is addition of user time (ru_utime) and system time
(ru_stime). The resolution is 1 microsecond.</p>
</dd><dt>:TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID
<dd>
<p>Use times() defined by POSIX. The result is addition of user time
(tms_utime) and system time (tms_stime). tms_cutime and tms_cstime are
ignored to exclude the time for child processes. The resolution is the
clock tick. getconf CLK_TCK command shows the clock ticks per second.
(The clock ticks per second is defined by HZ macro in older systems.) If it
is 100, the resolution is 10 millisecond.</p>
</dd><dt>:CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID
<dd>
<p>Use clock() defined by ISO C. The resolution is 1/CLOCKS_PER_SEC.
CLOCKS_PER_SEC is the C-level macro defined by time.h. SUS defines
CLOCKS_PER_SEC is 1000000. Non-Unix systems may define it a different
value, though. If CLOCKS_PER_SEC is 1000000 as SUS, the resolution is 1
microsecond. If CLOCKS_PER_SEC is 1000000 and clock_t is 32 bits integer
type, it cannot represent over 72 minutes.</p>
</dd></dl>

<p>If the given <code>clock_id</code> is not supported, Errno::EINVAL is
raised.</p>

<p><code>unit</code> specifies a type of the return value.</p>
<dl class="rdoc-list label-list"><dt>:float_second
<dd>
<p>number of seconds as a float (default)</p>
</dd><dt>:float_millisecond
<dd>
<p>number of milliseconds as a float</p>
</dd><dt>:float_microsecond
<dd>
<p>number of microseconds as a float</p>
</dd><dt>:second
<dd>
<p>number of seconds as an integer</p>
</dd><dt>:millisecond
<dd>
<p>number of milliseconds as an integer</p>
</dd><dt>:microsecond
<dd>
<p>number of microseconds as an integer</p>
</dd><dt>:nanosecond
<dd>
<p>number of nanoseconds as an integer</p>
</dd></dl>

<p>The underlying function, clock_gettime(), returns a number of nanoseconds.
Float object (IEEE 754 double) is not enough to represent the return value
for CLOCK_REALTIME. If the exact nanoseconds value is required, use
<code>:nanoseconds</code> as the <code>unit</code>.</p>

<p>The origin (zero) of the returned value varies. For example, system start
up time, process start up time, the Epoch, etc.</p>

<p>The origin in CLOCK_REALTIME is defined as the Epoch (1970-01-01 00:00:00
UTC). But some systems count leap seconds and others doesn&#39;t. So the
result can be interpreted differently across systems. Time.now is
recommended over CLOCK_REALTIME.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7315
7316
7317
7318
7319
7320
7321
7322
7323
7324
7325
7326
7327
7328
7329
7330
7331
7332
7333
7334
7335
7336
7337
7338
7339
7340
7341
7342
7343
7344
7345
7346
7347
7348
7349
7350
7351
7352
7353
7354
7355
7356
7357
7358
7359
7360
7361
7362
7363
7364
7365
7366
7367
7368
7369
7370
7371
7372
7373
7374
7375
7376
7377
7378
7379
7380
7381
7382
7383
7384
7385
7386
7387
7388
7389
7390
7391
7392
7393
7394
7395
7396
7397
7398
7399
7400
7401
7402
7403
7404
7405
7406
7407
7408
7409
7410
7411
7412
7413
7414
7415
7416
7417
7418
7419
7420
7421
7422
7423
7424
7425
7426
7427
7428
7429
7430
7431
7432
7433
7434
7435
7436
7437
7438
7439
7440
7441
7442
7443
7444
7445
7446
7447
7448
7449
7450
7451
7452
7453
7454
7455
7456
7457
7458
7459
7460
7461
7462
7463
7464
7465
7466
7467
7468
7469
7470</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 7315</span>

VALUE
rb_clock_gettime(int argc, VALUE *argv)
{
    int ret;

    struct timetick tt;
    timetick_int_t numerators[2];
    timetick_int_t denominators[2];
    int num_numerators = 0;
    int num_denominators = 0;

    VALUE unit = (rb_check_arity(argc, 1, 2) == 2) ? argv[1] : Qnil;
    VALUE clk_id = argv[0];

    if (SYMBOL_P(clk_id)) {
        /*
         * Non-clock_gettime clocks are provided by symbol clk_id.
         *
         * gettimeofday is always available on platforms supported by Ruby.
         * GETTIMEOFDAY_BASED_CLOCK_REALTIME is used for
         * CLOCK_REALTIME if clock_gettime is not available.
         */
#define RUBY_GETTIMEOFDAY_BASED_CLOCK_REALTIME ID2SYM(id_GETTIMEOFDAY_BASED_CLOCK_REALTIME)
        if (clk_id == RUBY_GETTIMEOFDAY_BASED_CLOCK_REALTIME) {
            struct timeval tv;
            ret = gettimeofday(&amp;tv, 0);
            if (ret != 0)
                rb_sys_fail(&quot;gettimeofday&quot;);
            tt.giga_count = tv.tv_sec;
            tt.count = (int32_t)tv.tv_usec * 1000;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }

#define RUBY_TIME_BASED_CLOCK_REALTIME ID2SYM(id_TIME_BASED_CLOCK_REALTIME)
        if (clk_id == RUBY_TIME_BASED_CLOCK_REALTIME) {
            time_t t;
            t = time(NULL);
            if (t == (time_t)-1)
                rb_sys_fail(&quot;time&quot;);
            tt.giga_count = t;
            tt.count = 0;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }

#ifdef HAVE_TIMES
#define RUBY_TIMES_BASED_CLOCK_MONOTONIC \
        ID2SYM(id_TIMES_BASED_CLOCK_MONOTONIC)
        if (clk_id == RUBY_TIMES_BASED_CLOCK_MONOTONIC) {
            struct tms buf;
            clock_t c;
            unsigned_clock_t uc;
            c = times(&amp;buf);
            if (c ==  (clock_t)-1)
                rb_sys_fail(&quot;times&quot;);
            uc = (unsigned_clock_t)c;
            tt.count = (int32_t)(uc % 1000000000);
            tt.giga_count = (uc / 1000000000);
            denominators[num_denominators++] = get_clk_tck();
            goto success;
        }
#endif

#ifdef RUSAGE_SELF
#define RUBY_GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID \
        ID2SYM(id_GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID)
        if (clk_id == RUBY_GETRUSAGE_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            struct rusage usage;
            int32_t usec;
            ret = getrusage(RUSAGE_SELF, &amp;usage);
            if (ret != 0)
                rb_sys_fail(&quot;getrusage&quot;);
            tt.giga_count = usage.ru_utime.tv_sec + usage.ru_stime.tv_sec;
            usec = (int32_t)(usage.ru_utime.tv_usec + usage.ru_stime.tv_usec);
            if (1000000 &lt;= usec) {
                tt.giga_count++;
                usec -= 1000000;
            }
            tt.count = usec * 1000;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif

#ifdef HAVE_TIMES
#define RUBY_TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID \
        ID2SYM(id_TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID)
        if (clk_id == RUBY_TIMES_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            struct tms buf;
            unsigned_clock_t utime, stime;
            if (times(&amp;buf) ==  (clock_t)-1)
                rb_sys_fail(&quot;times&quot;);
            utime = (unsigned_clock_t)buf.tms_utime;
            stime = (unsigned_clock_t)buf.tms_stime;
            tt.count = (int32_t)((utime % 1000000000) + (stime % 1000000000));
            tt.giga_count = (utime / 1000000000) + (stime / 1000000000);
            if (1000000000 &lt;= tt.count) {
                tt.count -= 1000000000;
                tt.giga_count++;
            }
            denominators[num_denominators++] = get_clk_tck();
            goto success;
        }
#endif

#define RUBY_CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID \
        ID2SYM(id_CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID)
        if (clk_id == RUBY_CLOCK_BASED_CLOCK_PROCESS_CPUTIME_ID) {
            clock_t c;
            unsigned_clock_t uc;
            errno = 0;
            c = clock();
            if (c == (clock_t)-1)
                rb_sys_fail(&quot;clock&quot;);
            uc = (unsigned_clock_t)c;
            tt.count = (int32_t)(uc % 1000000000);
            tt.giga_count = uc / 1000000000;
            denominators[num_denominators++] = CLOCKS_PER_SEC;
            goto success;
        }

#ifdef __APPLE__
#define RUBY_MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC ID2SYM(id_MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC)
        if (clk_id == RUBY_MACH_ABSOLUTE_TIME_BASED_CLOCK_MONOTONIC) {
	    mach_timebase_info_data_t *info = get_mach_timebase_info();
            uint64_t t = mach_absolute_time();
            tt.count = (int32_t)(t % 1000000000);
            tt.giga_count = t / 1000000000;
            numerators[num_numerators++] = info-&gt;numer;
            denominators[num_denominators++] = info-&gt;denom;
            denominators[num_denominators++] = 1000000000;
            goto success;
        }
#endif
    }
    else {
#if defined(HAVE_CLOCK_GETTIME)
        struct timespec ts;
        clockid_t c;
        c = NUM2CLOCKID(clk_id);
        ret = clock_gettime(c, &amp;ts);
        if (ret == -1)
            rb_sys_fail(&quot;clock_gettime&quot;);
        tt.count = (int32_t)ts.tv_nsec;
        tt.giga_count = ts.tv_sec;
        denominators[num_denominators++] = 1000000000;
        goto success;
#endif
    }
    /* EINVAL emulates clock_gettime behavior when clock_id is invalid. */
    rb_syserr_fail(EINVAL, 0);

  success:
    return make_clock_result(&amp;tt, numerators, num_numerators, denominators, num_denominators, unit);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="daemon-class_method">
  
    
      <span class="overload">.<strong>daemon</strong>  &#x21d2; <tt>0</tt> </span>
    
      <span class="overload">.<strong>daemon</strong>(nochdir = nil, noclose = nil)  &#x21d2; <tt>0</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Detach the process from controlling terminal and run in the background as
system daemon.  Unless the argument nochdir is true (i.e. non false), it
changes the current working directory to the root (/). Unless the
argument noclose is true, daemon() will redirect standard input, standard
output and standard error to /dev/null. Return zero on success, or raise
one of Errno::*.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>daemon</strong>  &#x21d2; <tt>0</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>daemon</strong>(nochdir = nil, noclose = nil)  &#x21d2; <tt>0</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6066
6067
6068
6069
6070
6071
6072
6073
6074
6075
6076
6077
6078
6079
6080</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 6066</span>

static VALUE
proc_daemon(int argc, VALUE *argv)
{
    int n, nochdir = FALSE, noclose = FALSE;

    switch (rb_check_arity(argc, 0, 2)) {
      case 2: noclose = RTEST(argv[1]);
      case 1: nochdir = RTEST(argv[0]);
    }

    prefork();
    n = rb_daemon(nochdir, noclose);
    if (n &lt; 0) rb_sys_fail(&quot;daemon&quot;);
    return INT2FIX(n);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="detach-class_method">
  
    .<strong>detach</strong>(pid)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Some operating systems retain the status of terminated child processes
until the parent collects that status (normally using some variant of
<code>wait()</code>). If the parent never collects this status, the child
stays around as a <em>zombie</em> process. <code>Process::detach</code>
prevents this by setting up a separate Ruby thread whose sole job is to
reap the status of the process <em>pid</em> when it terminates. Use
<code>detach</code> only when you do not intend to explicitly wait for the
child to terminate.</p>

<p>The waiting thread returns the exit status of the detached process when it
terminates, so you can use <code>Thread#join</code> to know the result.  If
specified <em>pid</em> is not a valid child process ID, the thread returns
<code>nil</code> immediately.</p>

<p>The waiting thread has <code>pid</code> method which returns the pid.</p>

<p>In this first example, we don&#39;t reap the first child process, so it
appears as a zombie in the process status display.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_p1'>p1</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'>fork</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_sleep'>sleep</span> <span class='float'>0.1</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_p2'>p2</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'>fork</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_sleep'>sleep</span> <span class='float'>0.2</span> <span class='rbrace'>}</span>
<span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_waitpid'><span class='object_link'><a href="#waitpid-class_method" title="Process.waitpid (method)">waitpid</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_p2'>p2</span><span class='rparen'>)</span>
<span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>2</span>
<span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ps -ho pid,state -p </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p1'>p1</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">27389 Z</code></pre>

<p>In the next example, <code>Process::detach</code> is used to reap the child
automatically.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_p1'>p1</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'>fork</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_sleep'>sleep</span> <span class='float'>0.1</span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_p2'>p2</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'>fork</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_sleep'>sleep</span> <span class='float'>0.2</span> <span class='rbrace'>}</span>
<span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_detach'>detach</span><span class='lparen'>(</span><span class='id identifier rubyid_p1'>p1</span><span class='rparen'>)</span>
<span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_waitpid'><span class='object_link'><a href="#waitpid-class_method" title="Process.waitpid (method)">waitpid</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_p2'>p2</span><span class='rparen'>)</span>
<span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>2</span>
<span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ps -ho pid,state -p </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_p1'>p1</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
</code></pre>

<p><em>(produces no output)</em></p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1178
1179
1180
1181
1182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 1178</span>

static VALUE
proc_detach(VALUE obj, VALUE pid)
{
    return rb_detach_process(NUM2PIDT(pid));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="egid-class_method">
  
    
      <span class="overload">.<strong>egid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>Process::GID.eid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>Process::Sys.geteid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the effective group ID for this process. Not available on all
platforms.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_egid'>egid</span>   <span class='comment'>#=&gt; 500
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>egid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>Process::GID.eid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>Process::Sys.geteid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6457
6458
6459
6460
6461
6462
6463</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 6457</span>

static VALUE
proc_getegid(VALUE obj)
{
    rb_gid_t egid = getegid();

    return GIDT2NUM(egid);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="egid=-class_method">
  
    .<strong>egid=</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="euid-class_method">
  
    
      <span class="overload">.<strong>euid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>Process::UID.eid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>Process::Sys.geteuid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the effective user ID for this process.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_euid'>euid</span>   <span class='comment'>#=&gt; 501
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>euid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>Process::UID.eid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>Process::Sys.geteuid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6333
6334
6335
6336
6337
6338</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 6333</span>

static VALUE
proc_geteuid(VALUE obj)
{
    rb_uid_t euid = geteuid();
    return UIDT2NUM(euid);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="euid=-class_method">
  
    .<strong>euid=</strong>(user)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the effective user ID for this process. Not available on all
platforms.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6372
6373
6374
6375
6376
6377
6378</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 6372</span>

static VALUE
proc_seteuid_m(VALUE mod, VALUE euid)
{
    check_uid_switch();
    proc_seteuid(OBJ2UID(euid));
    return euid;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exec-class_method">
  
    .<strong>exec</strong>([env,][,options])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Replaces the current process by running the given external
<em>command</em>, which can take one of the following forms:</p>
<dl class="rdoc-list label-list"><dt><code>exec(commandline)</code>
<dd>
<p>command line string which is passed to the standard shell</p>
<dl class="rdoc-list label-list"><dt><code>exec(cmdname, arg1, ...)</code>
<dd>
<p>command name and one or more arguments (no shell)</p>
<dl class="rdoc-list label-list"><dt><code>exec([cmdname, argv0], arg1, ...)</code>
<dd>
<p>command name, <a href="0">argv</a> and zero or more arguments (no shell)</p>

<p>In the first form, the string is taken as a command line that is subject to
shell expansion before being executed.</p>

<p>The standard shell always means <code>&quot;/bin/sh&quot;</code> on
Unix-like systems, same as <code>ENV["RUBYSHELL"]</code> (or
<code>ENV["COMSPEC"]</code> on Windows NT series), and similar.</p>

<p>If the string from the first form (<code>exec(&quot;command&quot;)</code>)
follows these simple rules:</p>
<ul><li>
<p>no meta characters</p>
</li><li>
<p>no shell reserved word and no special built-in</p>
</li><li>
<p>Ruby invokes the command directly without shell</p>
</li></ul>

<p>You can force shell invocation by adding ; to the string (because ; is
a meta character).</p>

<p>Note that this behavior is observable by pid obtained (return value of
spawn() and IO#pid for IO.popen) is the pid of the invoked command, not
shell.</p>

<p>In the second form (<code>exec(&quot;command1&quot;, &quot;arg1&quot;,
...)</code>), the first is taken as a command name and the rest are passed
as parameters to command with no shell expansion.</p>

<p>In the third form (<code>exec([&quot;command&quot;, &quot;argv0&quot;],
&quot;arg1&quot;, ...)</code>), starting a two-element array at the
beginning of the command, the first element is the command to be executed,
and the second argument is used as the <code>argv[0]</code> value, which
may show up in process listings.</p>

<p>In order to execute the command, one of the <code>exec(2)</code> system
calls are used, so the running command may inherit some of the environment
of the original program (including open file descriptors).</p>

<p>This behavior is modified by the given <code>env</code> and
<code>options</code> parameters. See ::spawn for details.</p>

<p>If the command fails to execute (typically <code>Errno::ENOENT</code> when
it was not found) a SystemCallError exception is raised.</p>

<p>This method modifies process attributes according to given
<code>options</code> before <code>exec(2)</code> system call. See ::spawn
for more details about the given <code>options</code>.</p>

<p>The modified attributes may be retained when <code>exec(2)</code> system
call fails.</p>

<p>For example, hard resource limits are not restorable.</p>

<p>Consider to create a child process using ::spawn or Kernel#system if this
is not acceptable.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_exec'>exec</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo *</span><span class='tstring_end'>&quot;</span></span>       <span class='comment'># echoes list of files in current directory
</span><span class='comment'># never get here
</span>
<span class='id identifier rubyid_exec'>exec</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'># echoes an asterisk
</span><span class='comment'># never get here
</span></code></pre>
</dd></dl>
</dd></dl>
</dd></dl>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2617
2618
2619
2620
2621
2622
2623
2624
2625
2626
2627
2628
2629
2630
2631
2632
2633
2634
2635
2636
2637
2638
2639</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 2617</span>

VALUE
rb_f_exec(int argc, const VALUE *argv)
{
    VALUE execarg_obj, fail_str;
    struct rb_execarg *eargp;
#define CHILD_ERRMSG_BUFLEN 80
    char errmsg[CHILD_ERRMSG_BUFLEN] = { &#39;\0&#39; };
    int err;

    execarg_obj = rb_execarg_new(argc, argv, TRUE, FALSE);
    eargp = rb_execarg_get(execarg_obj);
    before_exec(); /* stop timer thread before redirects */
    rb_execarg_parent_start(execarg_obj);
    fail_str = eargp-&gt;use_shell ? eargp-&gt;invoke.sh.shell_script : eargp-&gt;invoke.cmd.command_name;

    err = exec_async_signal_safe(eargp, errmsg, sizeof(errmsg));
    after_exec(); /* restart timer thread */

    rb_exec_fail(eargp, err, errmsg);
    RB_GC_GUARD(execarg_obj);
    rb_syserr_fail_str(err, fail_str);
    UNREACHABLE;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exit-class_method">
  
    
      <span class="overload">.<strong>exit</strong>(status = true)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">.<strong>Kernel::exit</strong>(status = true)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">.<strong>Process::exit</strong>(status = true)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initiates the termination of the Ruby script by raising the
<code>SystemExit</code> exception. This exception may be caught. The
optional parameter is used to return a status code to the invoking
environment. <code>true</code> and <code>FALSE</code> of <em>status</em>
means success and failure respectively.  The interpretation of other
integer values are system dependent.</p>

<pre class="code"><code class=""><span class='kw'>begin</span>
  <span class='id identifier rubyid_exit'>exit</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>never get here</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="SystemExit.html" title="SystemExit (class)">SystemExit</a></span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rescued a SystemExit exception</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>after begin block</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">rescued a SystemExit exception
after begin block</code></pre>

<p>Just prior to termination, Ruby executes any <code>at_exit</code> functions
(see Kernel::at_exit) and runs any object finalizers (see
ObjectSpace::define_finalizer).</p>

<pre class="code"><code class=""><span class='id identifier rubyid_at_exit'>at_exit</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>at_exit function</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='const'><span class='object_link'><a href="ObjectSpace.html" title="ObjectSpace (module)">ObjectSpace</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define_finalizer'><span class='object_link'><a href="ObjectSpace.html#define_finalizer-class_method" title="ObjectSpace.define_finalizer (method)">define_finalizer</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>  <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>in finalizer</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_exit'>exit</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">at_exit function
in finalizer</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3852
3853
3854
3855
3856
3857
3858
3859
3860
3861
3862
3863
3864
3865
3866</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 3852</span>

VALUE
rb_f_exit(int argc, const VALUE *argv)
{
    int istatus;

    if (rb_check_arity(argc, 0, 1) == 1) {
	istatus = exit_status_code(argv[0]);
    }
    else {
	istatus = EXIT_SUCCESS;
    }
    rb_exit(istatus);

    UNREACHABLE;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exit!-class_method">
  
    .<strong>exit!</strong>(status = false)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Exits the process immediately. No exit handlers are run. <em>status</em> is
returned to the underlying system as the exit status.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_exit!'>exit!</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3781
3782
3783
3784
3785
3786
3787
3788
3789
3790
3791
3792
3793
3794
3795</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 3781</span>

static VALUE
rb_f_exit_bang(int argc, VALUE *argv, VALUE obj)
{
    int istatus;

    if (rb_check_arity(argc, 0, 1) == 1) {
	istatus = exit_status_code(argv[0]);
    }
    else {
	istatus = EXIT_FAILURE;
    }
    _exit(istatus);

    UNREACHABLE;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fork-class_method">
  
    
      <span class="overload">.<strong>fork</strong> { ... } &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">.<strong>fork</strong> { ... } &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a subprocess. If a block is specified, that block is run in the
subprocess, and the subprocess terminates with a status of zero. Otherwise,
the <code>fork</code> call returns twice, once in the parent, returning the
process ID of the child, and once in the child, returning <em>nil</em>. The
child process can exit using <code>Kernel.exit!</code> to avoid running any
<code>at_exit</code> functions. The parent process should use
<code>Process.wait</code> to collect the termination statuses of its
children or use <code>Process.detach</code> to register disinterest in
their status; otherwise, the operating system may accumulate zombie
processes.</p>

<p>The thread calling fork is the only thread in the created child process.
fork doesn&#39;t copy other threads.</p>

<p>If fork is not usable, Process.respond_to?(:fork) returns false.</p>

<p>Note that fork(2) is not available on some platforms like Windows and
NetBSD 4. Therefore you should use spawn() instead of fork().</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>fork</strong> { ... } &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>fork</strong> { ... } &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3720
3721
3722
3723
3724
3725
3726
3727
3728
3729
3730
3731
3732
3733
3734
3735
3736
3737
3738
3739
3740
3741
3742</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 3720</span>

static VALUE
rb_f_fork(VALUE obj)
{
    rb_pid_t pid;

    switch (pid = rb_fork_ruby(NULL)) {
      case 0:
	rb_thread_atfork();
	if (rb_block_given_p()) {
	    int status;
	    rb_protect(rb_yield, Qundef, &amp;status);
	    ruby_stop(status);
	}
	return Qnil;

      case -1:
	rb_sys_fail(&quot;fork(2)&quot;);
	return Qnil;

      default:
	return PIDT2NUM(pid);
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getpgid-class_method">
  
    .<strong>getpgid</strong>(pid)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the process group ID for the given process id. Not available on all
platforms.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getpgid'>getpgid</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ppid'><span class='object_link'><a href="#ppid-class_method" title="Process.ppid (method)">ppid</a></span></span><span class='lparen'>(</span><span class='rparen'>)</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; 25527
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4526
4527
4528
4529
4530
4531
4532
4533
4534</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4526</span>

static VALUE
proc_getpgid(VALUE obj, VALUE pid)
{
    rb_pid_t i;

    i = getpgid(NUM2PIDT(pid));
    if (i &lt; 0) rb_sys_fail(0);
    return PIDT2NUM(i);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getpgrp-class_method">
  
    .<strong>getpgrp</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the process group ID for this process. Not available on all
platforms.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getpgid'><span class='object_link'><a href="#getpgid-class_method" title="Process.getpgid (method)">getpgid</a></span></span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; 25527
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getpgrp'>getpgrp</span>      <span class='comment'>#=&gt; 25527
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4467
4468
4469
4470
4471
4472
4473
4474
4475
4476
4477
4478
4479
4480
4481</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4467</span>

static VALUE
proc_getpgrp(void)
{
    rb_pid_t pgrp;

#if defined(HAVE_GETPGRP) &amp;&amp; defined(GETPGRP_VOID)
    pgrp = getpgrp();
    if (pgrp &lt; 0) rb_sys_fail(0);
    return PIDT2NUM(pgrp);
#else /* defined(HAVE_GETPGID) */
    pgrp = getpgid(0);
    if (pgrp &lt; 0) rb_sys_fail(0);
    return PIDT2NUM(pgrp);
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getpriority-class_method">
  
    .<strong>getpriority</strong>(kind, integer)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the scheduling priority for specified process, process group, or user.
<em>kind</em> indicates the kind of entity to find: one of
<code>Process::PRIO_PGRP</code>, <code>Process::PRIO_USER</code>, or
<code>Process::PRIO_PROCESS</code>. <em>integer</em> is an id indicating
the particular process, process group, or user (an id of 0 means
<em>current</em>). Lower priorities are more favorable for scheduling. Not
available on all platforms.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getpriority'>getpriority</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#PRIO_USER-constant" title="Process::PRIO_USER (constant)">PRIO_USER</a></span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; 19
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getpriority'>getpriority</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#PRIO_PROCESS-constant" title="Process::PRIO_PROCESS (constant)">PRIO_PROCESS</a></span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; 19
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4672
4673
4674
4675
4676
4677
4678
4679
4680
4681
4682
4683
4684</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4672</span>

static VALUE
proc_getpriority(VALUE obj, VALUE which, VALUE who)
{
    int prio, iwhich, iwho;

    iwhich = NUM2INT(which);
    iwho   = NUM2INT(who);

    errno = 0;
    prio = getpriority(iwhich, iwho);
    if (errno) rb_sys_fail(0);
    return INT2FIX(prio);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getrlimit-class_method">
  
    .<strong>getrlimit</strong>(resource)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the resource limit of the process. <em>cur_limit</em> means current
(soft) limit and <em>max_limit</em> means maximum (hard) limit.</p>

<p><em>resource</em> indicates the kind of resource to limit. It is specified
as a symbol such as <code>:CORE</code>, a string such as
<code>&quot;CORE&quot;</code> or a constant such as
<code>Process::RLIMIT_CORE</code>. See Process.setrlimit for details.</p>

<p><em>cur_limit</em> and <em>max_limit</em> may be
<code>Process::RLIM_INFINITY</code>, <code>Process::RLIM_SAVED_MAX</code>
or <code>Process::RLIM_SAVED_CUR</code>. See Process.setrlimit and the
system getrlimit(2) manual for details.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4963
4964
4965
4966
4967
4968
4969
4970
4971
4972</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4963</span>

static VALUE
proc_getrlimit(VALUE obj, VALUE resource)
{
    struct rlimit rlim;

    if (getrlimit(rlimit_resource_type(resource), &amp;rlim) &lt; 0) {
	rb_sys_fail(&quot;getrlimit&quot;);
    }
    return rb_assoc_new(RLIM2NUM(rlim.rlim_cur), RLIM2NUM(rlim.rlim_max));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getsid-class_method">
  
    
      <span class="overload">.<strong>getsid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>getsid</strong>(pid)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the session ID for the given process id. If not given, return
current process sid. Not available on all platforms.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getsid'>getsid</span><span class='lparen'>(</span><span class='rparen'>)</span>                <span class='comment'>#=&gt; 27422
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getsid'>getsid</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>               <span class='comment'>#=&gt; 27422
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getsid'>getsid</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pid'><span class='object_link'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span></span><span class='lparen'>(</span><span class='rparen'>)</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; 27422
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>getsid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>getsid</strong>(pid)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4578
4579
4580
4581
4582
4583
4584
4585
4586
4587
4588
4589
4590</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4578</span>

static VALUE
proc_getsid(int argc, VALUE *argv)
{
    rb_pid_t sid;
    rb_pid_t pid = 0;

    if (rb_check_arity(argc, 0, 1) == 1 &amp;&amp; !NIL_P(argv[0]))
	pid = NUM2PIDT(argv[0]);

    sid = getsid(pid);
    if (sid &lt; 0) rb_sys_fail(0);
    return PIDT2NUM(sid);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gid-class_method">
  
    
      <span class="overload">.<strong>gid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>Process::GID.rid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>Process::Sys.getgid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the (real) group ID for this process.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_gid'>gid</span>   <span class='comment'>#=&gt; 500
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>gid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>Process::GID.rid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>Process::Sys.getgid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5781
5782
5783
5784
5785
5786</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 5781</span>

static VALUE
proc_getgid(VALUE obj)
{
    rb_gid_t gid = getgid();
    return GIDT2NUM(gid);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gid=-class_method">
  
    .<strong>gid=</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the group ID for this process.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5797
5798
5799
5800
5801
5802
5803
5804
5805
5806
5807
5808
5809
5810
5811
5812
5813
5814
5815
5816
5817
5818
5819
5820
5821
5822</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 5797</span>

static VALUE
proc_setgid(VALUE obj, VALUE id)
{
    rb_gid_t gid;

    check_gid_switch();

    gid = OBJ2GID(id);
#if defined(HAVE_SETRESGID)
    if (setresgid(gid, -1, -1) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETREGID
    if (setregid(gid, -1) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETRGID
    if (setrgid(gid) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETGID
    {
	if (getegid() == gid) {
	    if (setgid(gid) &lt; 0) rb_sys_fail(0);
	}
	else {
	    rb_notimplement();
	}
    }
#endif
    return GIDT2NUM(gid);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="groups-class_method">
  
    .<strong>groups</strong>  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get an <code>Array</code> of the gids of groups in the supplemental group
access list for this process.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_groups'>groups</span>   <span class='comment'>#=&gt; [27, 6, 10, 11]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5888
5889
5890
5891
5892
5893
5894
5895
5896
5897
5898
5899
5900
5901
5902
5903
5904
5905
5906
5907
5908
5909
5910
5911
5912</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 5888</span>

static VALUE
proc_getgroups(VALUE obj)
{
    VALUE ary, tmp;
    int i, ngroups;
    rb_gid_t *groups;

    ngroups = getgroups(0, NULL);
    if (ngroups == -1)
	rb_sys_fail(0);

    groups = ALLOCV_N(rb_gid_t, tmp, ngroups);

    ngroups = getgroups(ngroups, groups);
    if (ngroups == -1)
	rb_sys_fail(0);

    ary = rb_ary_new();
    for (i = 0; i &lt; ngroups; i++)
	rb_ary_push(ary, GIDT2NUM(groups[i]));

    ALLOCV_END(tmp);

    return ary;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="groups=-class_method">
  
    .<strong>groups=</strong>(array)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Set the supplemental group access list to the given <code>Array</code> of
group IDs.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_groups'><span class='object_link'><a href="#groups-class_method" title="Process.groups (method)">groups</a></span></span>   <span class='comment'>#=&gt; [0, 1, 2, 3, 4, 6, 10, 11, 20, 26, 27]
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_groups'><span class='object_link'><a href="#groups-class_method" title="Process.groups (method)">groups</a></span></span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>27</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='int'>10</span><span class='comma'>,</span> <span class='int'>11</span><span class='rbracket'>]</span>   <span class='comment'>#=&gt; [27, 6, 10, 11]
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_groups'><span class='object_link'><a href="#groups-class_method" title="Process.groups (method)">groups</a></span></span>   <span class='comment'>#=&gt; [27, 6, 10, 11]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5932
5933
5934
5935
5936
5937
5938
5939
5940
5941
5942
5943
5944
5945
5946
5947
5948
5949
5950
5951
5952
5953
5954
5955
5956
5957
5958
5959
5960
5961</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 5932</span>

static VALUE
proc_setgroups(VALUE obj, VALUE ary)
{
    int ngroups, i;
    rb_gid_t *groups;
    VALUE tmp;
    PREPARE_GETGRNAM;

    Check_Type(ary, T_ARRAY);

    ngroups = RARRAY_LENINT(ary);
    if (ngroups &gt; maxgroups())
	rb_raise(rb_eArgError, &quot;too many groups, %d max&quot;, maxgroups());

    groups = ALLOCV_N(rb_gid_t, tmp, ngroups);

    for (i = 0; i &lt; ngroups; i++) {
	VALUE g = RARRAY_AREF(ary, i);

	groups[i] = OBJ2GID1(g);
    }
    FINISH_GETGRNAM;

    if (setgroups(ngroups, groups) == -1) /* ngroups &lt;= maxgroups */
	rb_sys_fail(0);

    ALLOCV_END(tmp);

    return proc_getgroups(obj);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="initgroups-class_method">
  
    .<strong>initgroups</strong>(username, gid)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initializes the supplemental group access list by reading the system group
database and using all groups of which the given user is a member. The
group with the specified <em>gid</em> is also added to the list. Returns
the resulting <code>Array</code> of the gids of all the groups in the
supplementary group access list. Not available on all platforms.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_groups'><span class='object_link'><a href="#groups-class_method" title="Process.groups (method)">groups</a></span></span>   <span class='comment'>#=&gt; [0, 1, 2, 3, 4, 6, 10, 11, 20, 26, 27]
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_initgroups'>initgroups</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mgranger</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>30</span> <span class='rparen'>)</span>   <span class='comment'>#=&gt; [30, 6, 10, 11]
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_groups'><span class='object_link'><a href="#groups-class_method" title="Process.groups (method)">groups</a></span></span>   <span class='comment'>#=&gt; [30, 6, 10, 11]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5985
5986
5987
5988
5989
5990
5991
5992</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 5985</span>

static VALUE
proc_initgroups(VALUE obj, VALUE uname, VALUE base_grp)
{
    if (initgroups(StringValueCStr(uname), OBJ2GID(base_grp)) != 0) {
	rb_sys_fail(0);
    }
    return proc_getgroups(obj);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="kill-class_method">
  
    .<strong>kill</strong>(signal, pid, ...)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sends the given signal to the specified process id(s) if <em>pid</em> is
positive. If <em>pid</em> is zero <em>signal</em> is sent to all processes
whose group ID is equal to the group ID of the process. <em>signal</em> may
be an integer signal number or a POSIX signal name (either with or without
a <code>SIG</code> prefix). If <em>signal</em> is negative (or starts with
a minus sign), kills process groups instead of processes. Not all signals
are available on all platforms. The keys and values of
<code>Signal.list</code> are known signal names and numbers, respectively.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'>fork</span> <span class='kw'>do</span>
   <span class='const'><span class='object_link'><a href="Signal.html" title="Signal (module)">Signal</a></span></span><span class='period'>.</span><span class='id identifier rubyid_trap'><span class='object_link'><a href="Signal.html#trap-class_method" title="Signal.trap (method)">trap</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HUP</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ouch!</span><span class='tstring_end'>&quot;</span></span><span class='semicolon'>;</span> <span class='id identifier rubyid_exit'>exit</span> <span class='rbrace'>}</span>
   <span class='comment'># ... do some work ...
</span><span class='kw'>end</span>
<span class='comment'># ...
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_kill'>kill</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>HUP</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_pid'>pid</span><span class='rparen'>)</span>
<span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wait'><span class='object_link'><a href="#wait-class_method" title="Process.wait (method)">wait</a></span></span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='id identifier rubyid_Ouch!'>Ouch!</span>
</code></pre>

<p>If <em>signal</em> is an integer but wrong for signal,
<code>Errno::EINVAL</code> or <code>RangeError</code> will be raised.
Otherwise unless <em>signal</em> is a <code>String</code> or a
<code>Symbol</code>, and a known signal name, <code>ArgumentError</code>
will be raised.</p>

<p>Also, <code>Errno::ESRCH</code> or <code>RangeError</code> for invalid
<em>pid</em>, <code>Errno::EPERM</code> when failed because of no
privilege, will be raised.  In these cases, signals may have been sent to
preceding processes.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'signal.c', line 399</span>

VALUE
rb_f_kill(int argc, const VALUE *argv)
{
#ifndef HAVE_KILLPG
#define killpg(pg, sig) kill(-(pg), (sig))
#endif
    int negative = 0;
    int sig;
    int i;
    VALUE str;
    const char *s;

    rb_check_arity(argc, 2, UNLIMITED_ARGUMENTS);

    switch (TYPE(argv[0])) {
      case T_FIXNUM:
	sig = FIX2INT(argv[0]);
	break;

      case T_SYMBOL:
	str = rb_sym2str(argv[0]);
	goto str_signal;

      case T_STRING:
	str = argv[0];
      str_signal:
	s = RSTRING_PTR(str);
	if (s[0] == &#39;-&#39;) {
	    negative++;
	    s++;
	}
	if (strncmp(signame_prefix, s, sizeof(signame_prefix)) == 0)
	    s += 3;
	if ((sig = signm2signo(s)) == 0) {
	    long ofs = s - RSTRING_PTR(str);
	    if (ofs) str = rb_str_subseq(str, ofs, RSTRING_LEN(str)-ofs);
	    rb_raise(rb_eArgError, &quot;unsupported name `SIG%&quot;PRIsVALUE&quot;&#39;&quot;, str);
	}

	if (negative)
	    sig = -sig;
	break;

      default:
	str = rb_check_string_type(argv[0]);
	if (!NIL_P(str)) {
	    goto str_signal;
	}
	rb_raise(rb_eArgError, &quot;bad signal type %s&quot;,
		 rb_obj_classname(argv[0]));
	break;
    }

    if (argc &lt;= 1) return INT2FIX(0);

    if (sig &lt; 0) {
	sig = -sig;
	for (i=1; i&lt;argc; i++) {
	    if (killpg(NUM2PIDT(argv[i]), sig) &lt; 0)
		rb_sys_fail(0);
	}
    }
    else {
	const rb_pid_t self = (GET_THREAD() == GET_VM()-&gt;main_thread) ? getpid() : -1;
	int wakeup = 0;

	for (i=1; i&lt;argc; i++) {
	    rb_pid_t pid = NUM2PIDT(argv[i]);

	    if ((sig != 0) &amp;&amp; (self != -1) &amp;&amp; (pid == self)) {
		int t;
		/*
		 * When target pid is self, many caller assume signal will be
		 * delivered immediately and synchronously.
		 */
		switch (sig) {
		  case SIGSEGV:
#ifdef SIGBUS
		  case SIGBUS:
#endif
#ifdef SIGKILL
		  case SIGKILL:
#endif
#ifdef SIGILL
		  case SIGILL:
#endif
#ifdef SIGFPE
		  case SIGFPE:
#endif
#ifdef SIGSTOP
		  case SIGSTOP:
#endif
		    kill(pid, sig);
		    break;
		  default:
		    t = signal_ignored(sig);
		    if (t) {
			if (t &lt; 0 &amp;&amp; kill(pid, sig))
			    rb_sys_fail(0);
			break;
		    }
		    signal_enque(sig);
		    wakeup = 1;
		}
	    }
	    else if (kill(pid, sig) &lt; 0) {
		rb_sys_fail(0);
	    }
	}
	if (wakeup) {
	    rb_threadptr_check_signal(GET_VM()-&gt;main_thread);
	}
    }
    rb_thread_execute_interrupts(rb_thread_current());

    return INT2FIX(i-1);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="last_status-class_method">
  
    .<strong>last_status</strong>  &#x21d2; <tt><span class='object_link'><a href="Process/Status.html" title="Process::Status (class)">Process::Status</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the status of the last executed child process in the current
thread.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wait'><span class='object_link'><a href="#wait-class_method" title="Process.wait (method)">wait</a></span></span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_spawn'><span class='object_link'><a href="#spawn-class_method" title="Process.spawn (method)">spawn</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ruby</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>exit 13</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_last_status'>last_status</span>   <span class='comment'>#=&gt; #&lt;Process::Status: pid 4825 exit 13&gt;
</span></code></pre>

<p>If no child process has ever been executed in the current thread, this
returns <code>nil</code>.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_last_status'>last_status</span>   <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Process/Status.html" title="Process::Status (class)">Process::Status</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


495
496
497
498
499</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 495</span>

static VALUE
proc_s_last_status(VALUE mod)
{
    return rb_last_status_get();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="maxgroups-class_method">
  
    .<strong>maxgroups</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the maximum number of gids allowed in the supplemental group access
list.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_maxgroups'>maxgroups</span>   <span class='comment'>#=&gt; 32
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6008
6009
6010
6011
6012</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 6008</span>

static VALUE
proc_getmaxgroups(VALUE obj)
{
    return INT2FIX(maxgroups());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="maxgroups=-class_method">
  
    .<strong>maxgroups=</strong>(integer)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the maximum number of gids allowed in the supplemental group access
list.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6026
6027
6028
6029
6030
6031
6032
6033
6034
6035
6036
6037
6038
6039
6040
6041
6042
6043
6044</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 6026</span>

static VALUE
proc_setmaxgroups(VALUE obj, VALUE val)
{
    int ngroups = FIX2INT(val);
    int ngroups_max = get_sc_ngroups_max();

    if (ngroups &lt;= 0)
	rb_raise(rb_eArgError, &quot;maxgroups %d shold be positive&quot;, ngroups);

    if (ngroups &gt; RB_MAX_GROUPS)
	ngroups = RB_MAX_GROUPS;

    if (ngroups_max &gt; 0 &amp;&amp; ngroups &gt; ngroups_max)
	ngroups = ngroups_max;

    _maxgroups = ngroups;

    return INT2FIX(_maxgroups);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pid-class_method">
  
    .<strong>pid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the process id of this process. Not available on all platforms.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pid'>pid</span>   <span class='comment'>#=&gt; 27415
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


412
413
414
415
416</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 412</span>

static VALUE
get_pid(void)
{
    return PIDT2NUM(getpid());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ppid-class_method">
  
    .<strong>ppid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the process id of the parent of this process. Returns untrustworthy
value on Win32/64. Not available on all platforms.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I am </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pid'><span class='object_link'><a href="#pid-class_method" title="Process.pid (method)">pid</a></span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fork'><span class='object_link'><a href="#fork-class_method" title="Process.fork (method)">fork</a></span></span> <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dad is </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ppid'>ppid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='const'>I</span> <span class='id identifier rubyid_am'>am</span> <span class='int'>27417</span>
<span class='const'>Dad</span> <span class='id identifier rubyid_is'>is</span> <span class='int'>27417</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


435
436
437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 435</span>

static VALUE
get_ppid(void)
{
    return PIDT2NUM(getppid());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setpgid-class_method">
  
    .<strong>setpgid</strong>(pid, integer)  &#x21d2; <tt>0</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the process group ID of <em>pid</em> (0 indicates this process) to
<em>integer</em>. Not available on all platforms.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4549
4550
4551
4552
4553
4554
4555
4556
4557
4558
4559</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4549</span>

static VALUE
proc_setpgid(VALUE obj, VALUE pid, VALUE pgrp)
{
    rb_pid_t ipid, ipgrp;

    ipid = NUM2PIDT(pid);
    ipgrp = NUM2PIDT(pgrp);

    if (setpgid(ipid, ipgrp) &lt; 0) rb_sys_fail(0);
    return INT2FIX(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setpgrp-class_method">
  
    .<strong>setpgrp</strong>  &#x21d2; <tt>0</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <code>setpgid(0,0)</code>. Not available on all platforms.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4496
4497
4498
4499
4500
4501
4502
4503
4504
4505
4506
4507
4508
4509</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4496</span>

static VALUE
proc_setpgrp(void)
{
  /* check for posix setpgid() first; this matches the posix */
  /* getpgrp() above.  It appears that configure will set SETPGRP_VOID */
  /* even though setpgrp(0,0) would be preferred. The posix call avoids */
  /* this confusion. */
#ifdef HAVE_SETPGID
    if (setpgid(0,0) &lt; 0) rb_sys_fail(0);
#elif defined(HAVE_SETPGRP) &amp;&amp; defined(SETPGRP_VOID)
    if (setpgrp() &lt; 0) rb_sys_fail(0);
#endif
    return INT2FIX(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setpriority-class_method">
  
    .<strong>setpriority</strong>(kind, integer, priority)  &#x21d2; <tt>0</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>See <code>Process#getpriority</code>.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_setpriority'>setpriority</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#PRIO_USER-constant" title="Process::PRIO_USER (constant)">PRIO_USER</a></span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>19</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; 0
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_setpriority'>setpriority</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#PRIO_PROCESS-constant" title="Process::PRIO_PROCESS (constant)">PRIO_PROCESS</a></span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>19</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; 0
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getpriority'><span class='object_link'><a href="#getpriority-class_method" title="Process.getpriority (method)">getpriority</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#PRIO_USER-constant" title="Process::PRIO_USER (constant)">PRIO_USER</a></span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>          <span class='comment'>#=&gt; 19
</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getpriority'><span class='object_link'><a href="#getpriority-class_method" title="Process.getpriority (method)">getpriority</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#PRIO_PROCESS-constant" title="Process::PRIO_PROCESS (constant)">PRIO_PROCESS</a></span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>       <span class='comment'>#=&gt; 19
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>0</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4703
4704
4705
4706
4707
4708
4709
4710
4711
4712
4713
4714
4715</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4703</span>

static VALUE
proc_setpriority(VALUE obj, VALUE which, VALUE who, VALUE prio)
{
    int iwhich, iwho, iprio;

    iwhich = NUM2INT(which);
    iwho   = NUM2INT(who);
    iprio  = NUM2INT(prio);

    if (setpriority(iwhich, iwho, iprio) &lt; 0)
	rb_sys_fail(0);
    return INT2FIX(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setproctitle-class_method">
  
    .<strong>setproctitle</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the process title that appears on the ps(1) command.  Not necessarily
effective on all platforms.  No exception will be raised regardless of the
result, nor will NotImplementedError be raised even if the platform does
not support the feature.</p>

<p>Calling this method does not affect the value of $0.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_setproctitle'>setproctitle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>myapp: worker #%d</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> <span class='id identifier rubyid_worker_id'>worker_id</span><span class='rparen'>)</span>
</code></pre>

<p>This method first appeared in Ruby 2.1 to serve as a global variable free
means to change the process title.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2127
2128
2129
2130
2131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ruby.c', line 2127</span>

static VALUE
proc_setproctitle(VALUE process, VALUE title)
{
    return ruby_setproctitle(title);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setrlimit-class_method">
  
    
      <span class="overload">.<strong>setrlimit</strong>(resource, cur_limit, max_limit)  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">.<strong>setrlimit</strong>(resource, cur_limit)  &#x21d2; <tt>nil</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the resource limit of the process. <em>cur_limit</em> means current
(soft) limit and <em>max_limit</em> means maximum (hard) limit.</p>

<p>If <em>max_limit</em> is not given, <em>cur_limit</em> is used.</p>

<p><em>resource</em> indicates the kind of resource to limit. It should be a
symbol such as <code>:CORE</code>, a string such as
<code>&quot;CORE&quot;</code> or a constant such as
<code>Process::RLIMIT_CORE</code>. The available resources are OS
dependent. Ruby may support following resources.</p>
<dl class="rdoc-list label-list"><dt>AS
<dd>
<p>total available memory (bytes) (SUSv3, NetBSD, FreeBSD, OpenBSD but
4.4BSD-Lite)</p>
</dd><dt>CORE
<dd>
<p>core size (bytes) (SUSv3)</p>
</dd><dt>CPU
<dd>
<p>CPU time (seconds) (SUSv3)</p>
</dd><dt>DATA
<dd>
<p>data segment (bytes) (SUSv3)</p>
</dd><dt>FSIZE
<dd>
<p>file size (bytes) (SUSv3)</p>
</dd><dt>MEMLOCK
<dd>
<p>total size for mlock(2) (bytes) (4.4BSD, GNU/Linux)</p>
</dd><dt>MSGQUEUE
<dd>
<p>allocation for POSIX message queues (bytes) (GNU/Linux)</p>
</dd><dt>NICE
<dd>
<p>ceiling on process&#39;s nice(2) value (number) (GNU/Linux)</p>
</dd><dt>NOFILE
<dd>
<p>file descriptors (number) (SUSv3)</p>
</dd><dt>NPROC
<dd>
<p>number of processes for the user (number) (4.4BSD, GNU/Linux)</p>
</dd><dt>RSS
<dd>
<p>resident memory size (bytes) (4.2BSD, GNU/Linux)</p>
</dd><dt>RTPRIO
<dd>
<p>ceiling on the process&#39;s real-time priority (number) (GNU/Linux)</p>
</dd><dt>RTTIME
<dd>
<p>CPU time for real-time process (us) (GNU/Linux)</p>
</dd><dt>SBSIZE
<dd>
<p>all socket buffers (bytes) (NetBSD, FreeBSD)</p>
</dd><dt>SIGPENDING
<dd>
<p>number of queued signals allowed (signals) (GNU/Linux)</p>
</dd><dt>STACK
<dd>
<p>stack size (bytes) (SUSv3)</p>
</dd></dl>

<p><em>cur_limit</em> and <em>max_limit</em> may be <code>:INFINITY</code>,
<code>&quot;INFINITY&quot;</code> or <code>Process::RLIM_INFINITY</code>,
which means that the resource is not limited. They may be
<code>Process::RLIM_SAVED_MAX</code>, <code>Process::RLIM_SAVED_CUR</code>
and corresponding symbols and strings too. See system setrlimit(2) manual
for details.</p>

<p>The following example raises the soft limit of core size to the hard limit
to try to make core dump possible.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_setrlimit'>setrlimit</span><span class='lparen'>(</span><span class='symbol'>:CORE</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getrlimit'><span class='object_link'><a href="#getrlimit-class_method" title="Process.getrlimit (method)">getrlimit</a></span></span><span class='lparen'>(</span><span class='symbol'>:CORE</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>setrlimit</strong>(resource, cur_limit, max_limit)  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>setrlimit</strong>(resource, cur_limit)  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5029
5030
5031
5032
5033
5034
5035
5036
5037
5038
5039
5040
5041
5042
5043
5044
5045
5046
5047
5048</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 5029</span>

static VALUE
proc_setrlimit(int argc, VALUE *argv, VALUE obj)
{
    VALUE resource, rlim_cur, rlim_max;
    struct rlimit rlim;

    rb_check_arity(argc, 2, 3);
    resource = argv[0];
    rlim_cur = argv[1];
    if (argc &lt; 3 || NIL_P(rlim_max = argv[2]))
        rlim_max = rlim_cur;

    rlim.rlim_cur = rlimit_resource_value(rlim_cur);
    rlim.rlim_max = rlimit_resource_value(rlim_max);

    if (setrlimit(rlimit_resource_type(resource), &amp;rlim) &lt; 0) {
	rb_sys_fail(&quot;setrlimit&quot;);
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setsid-class_method">
  
    .<strong>setsid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Establishes this process as a new session and process group leader, with no
controlling tty. Returns the session id. Not available on all platforms.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_setsid'>setsid</span>   <span class='comment'>#=&gt; 27422
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4612
4613
4614
4615
4616
4617
4618
4619
4620</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4612</span>

static VALUE
proc_setsid(void)
{
    rb_pid_t pid;

    pid = setsid();
    if (pid &lt; 0) rb_sys_fail(0);
    return PIDT2NUM(pid);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="spawn-class_method">
  
    
      <span class="overload">.<strong>spawn</strong>([env,][,options])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">.<strong>spawn</strong>([env,][,options])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>spawn executes specified command and return its pid.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tar xf ruby-2.0.0-p195.tar.bz2</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wait'><span class='object_link'><a href="#wait-class_method" title="Process.wait (method)">wait</a></span></span> <span class='id identifier rubyid_pid'>pid</span>

<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='const'>RbConfig</span><span class='period'>.</span><span class='id identifier rubyid_ruby'>ruby</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-eputs&#39;Hello, world!&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wait'><span class='object_link'><a href="#wait-class_method" title="Process.wait (method)">wait</a></span></span> <span class='id identifier rubyid_pid'>pid</span>
</code></pre>

<p>This method is similar to Kernel#system but it doesn&#39;t wait for the
command to finish.</p>

<p>The parent process should use <code>Process.wait</code> to collect the
termination status of its child or use <code>Process.detach</code> to
register disinterest in their status; otherwise, the operating system may
accumulate zombie processes.</p>

<p>spawn has bunch of options to specify process attributes:</p>

<pre class="code"><code class="">env: hash
  name =&gt; val : set the environment variable
  name =&gt; nil : unset the environment variable

  the keys and the values except for +nil+ must be strings.
command...:
  commandline                 : command line string which is passed to the standard shell
  cmdname, arg1, ...          : command name and one or more arguments (This form does not use the shell. See below for caveats.)
  [cmdname, argv0], arg1, ... : command name, argv[0] and zero or more arguments (no shell)
options: hash
  clearing environment variables:
    :unsetenv_others =&gt; true   : clear environment variables except specified by env
    :unsetenv_others =&gt; false  : don&#39;t clear (default)
  process group:
    :pgroup =&gt; true or 0 : make a new process group
    :pgroup =&gt; pgid      : join the specified process group
    :pgroup =&gt; nil       : don&#39;t change the process group (default)
  create new process group: Windows only
    :new_pgroup =&gt; true  : the new process is the root process of a new process group
    :new_pgroup =&gt; false : don&#39;t create a new process group (default)
  resource limit: resourcename is core, cpu, data, etc.  See Process.setrlimit.
    :rlimit_resourcename =&gt; limit
    :rlimit_resourcename =&gt; [cur_limit, max_limit]
  umask:
    :umask =&gt; int
  redirection:
    key:
      FD              : single file descriptor in child process
      [FD, FD, ...]   : multiple file descriptor in child process
    value:
      FD                        : redirect to the file descriptor in parent process
      string                    : redirect to file with open(string, &quot;r&quot; or &quot;w&quot;)
      [string]                  : redirect to file with open(string, File::RDONLY)
      [string, open_mode]       : redirect to file with open(string, open_mode, 0644)
      [string, open_mode, perm] : redirect to file with open(string, open_mode, perm)
      [:child, FD]              : redirect to the redirected file descriptor
      :close                    : close the file descriptor in child process
    FD is one of follows
      :in     : the file descriptor 0 which is the standard input
      :out    : the file descriptor 1 which is the standard output
      :err    : the file descriptor 2 which is the standard error
      integer : the file descriptor of specified the integer
      io      : the file descriptor specified as io.fileno
  file descriptor inheritance: close non-redirected non-standard fds (3, 4, 5, ...) or not
    :close_others =&gt; true  : don&#39;t inherit
  current directory:
    :chdir =&gt; str

  The &#39;cmdname, arg1, ...&#39; form does not use the shell. However,
  on different OSes, different things are provided as built-in
  commands. An example of this is &#39;echo&#39;, which is a built-in
  on Windows, but is a normal program on Linux and Mac OS X.
  This means that `Process.spawn &#39;echo&#39;, &#39;%Path%&#39;` will display
  the contents of the `%Path%` environment variable on Windows,
  but `Process.spawn &#39;echo&#39;, &#39;$PATH&#39;` prints the literal &#39;$PATH&#39;.</code></pre>

<p>If a hash is given as <code>env</code>, the environment is updated by
<code>env</code> before <code>exec(2)</code> in the child process. If a
pair in <code>env</code> has nil as the value, the variable is deleted.</p>

<pre class="code"><code class=""><span class='comment'># set FOO as BAR and unset BAZ.
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BAR</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BAZ</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='rparen'>)</span>
</code></pre>

<p>If a hash is given as <code>options</code>, it specifies process group,
create new process group, resource limit, current directory, umask and
redirects for the child process. Also, it can be specified to clear
environment variables.</p>

<p>The <code>:unsetenv_others</code> key in <code>options</code> specifies to
clear environment variables, other than specified by <code>env</code>.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:unsetenv_others</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># no environment variable
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BAR</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:unsetenv_others</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># FOO only
</span></code></pre>

<p>The <code>:pgroup</code> key in <code>options</code> specifies a process
group. The corresponding value should be true, zero, a positive integer, or
nil. true and zero cause the process to be a process leader of a new
process group. A non-zero positive integer causes the process to join the
provided process group. The default value, nil, causes the process to
remain in the same process group.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:pgroup</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># process leader
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:pgroup</span><span class='op'>=&gt;</span><span class='int'>10</span><span class='rparen'>)</span> <span class='comment'># belongs to the process group 10
</span></code></pre>

<p>The <code>:new_pgroup</code> key in <code>options</code> specifies to pass
<code>CREATE_NEW_PROCESS_GROUP</code> flag to <code>CreateProcessW()</code>
that is Windows API. This option is only for Windows. true means the new
process is the root process of the new process group. The new process has
CTRL+C disabled. This flag is necessary for <code>Process.kill(:SIGINT,
pid)</code> on the subprocess. :new_pgroup is false by default.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:new_pgroup</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='rparen'>)</span>  <span class='comment'># new process group
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:new_pgroup</span><span class='op'>=&gt;</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='comment'># same process group
</span></code></pre>

<p>The <code>:rlimit_</code><em>foo</em> key specifies a resource limit.
<em>foo</em> should be one of resource types such as <code>core</code>. The
corresponding value should be an integer or an array which have one or two
integers: same as cur_limit and max_limit arguments for Process.setrlimit.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_cur'>cur</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getrlimit'><span class='object_link'><a href="#getrlimit-class_method" title="Process.getrlimit (method)">getrlimit</a></span></span><span class='lparen'>(</span><span class='symbol'>:CORE</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:rlimit_core</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_max'>max</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># disable core temporary.
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:rlimit_core</span><span class='op'>=&gt;</span><span class='id identifier rubyid_max'>max</span><span class='rparen'>)</span> <span class='comment'># enable core dump
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:rlimit_core</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='rparen'>)</span> <span class='comment'># never dump core.
</span></code></pre>

<p>The <code>:umask</code> key in <code>options</code> specifies the umask.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:umask</span><span class='op'>=&gt;</span><span class='int'>077</span><span class='rparen'>)</span>
</code></pre>

<p>The :in, :out, :err, an integer, an IO and an array key specifies a
redirection. The redirection maps a file descriptor in the child process.</p>

<p>For example, stderr can be merged into stdout as follows:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='op'>=&gt;</span><span class='symbol'>:out</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='int'>2</span><span class='op'>=&gt;</span><span class='int'>1</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#STDERR-constant" title="STDERR (constant)">STDERR</a></span></span><span class='op'>=&gt;</span><span class='symbol'>:out</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#STDERR-constant" title="STDERR (constant)">STDERR</a></span></span><span class='op'>=&gt;</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#STDOUT-constant" title="STDOUT (constant)">STDOUT</a></span></span><span class='rparen'>)</span>
</code></pre>

<p>The hash keys specifies a file descriptor in the child process started by
<code>spawn</code>. :err, 2 and STDERR specifies the standard error stream
(stderr).</p>

<p>The hash values specifies a file descriptor in the parent process which
invokes <code>spawn</code>. :out, 1 and STDOUT specifies the standard
output stream (stdout).</p>

<p>In the above example, the standard output in the child process is not
specified. So it is inherited from the parent process.</p>

<p>The standard input stream (stdin) can be specified by :in, 0 and STDIN.</p>

<p>A filename can be specified as a hash value.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:in</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/dev/null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># read mode
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/dev/null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># write mode
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># write mode
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='symbol'>:out</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='rbracket'>]</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/dev/null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># write mode
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='int'>3</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/dev/null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># read mode
</span></code></pre>

<p>For stdout and stderr (and combination of them), it is opened in write
mode. Otherwise read mode is used.</p>

<p>For specifying flags and permission of file creation explicitly, an array
is used instead.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:in</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># read mode is assumed
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:in</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># 0644 assumed
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0600</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="File.html" title="File (class)">File</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="File/Constants.html#WRONLY-constant" title="File::Constants::WRONLY (constant)">WRONLY</a></span></span><span class='op'>|</span><span class='const'><span class='object_link'><a href="File.html" title="File (class)">File</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="File/Constants.html#EXCL-constant" title="File::Constants::EXCL (constant)">EXCL</a></span></span><span class='op'>|</span><span class='const'><span class='object_link'><a href="File.html" title="File (class)">File</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="File/Constants.html#CREAT-constant" title="File::Constants::CREAT (constant)">CREAT</a></span></span><span class='comma'>,</span> <span class='int'>0600</span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<p>The array specifies a filename, flags and permission. The flags can be a
string or an integer. If the flags is omitted or nil, File::RDONLY is
assumed. The permission should be an integer. If the permission is omitted
or nil, 0644 is assumed.</p>

<p>If an array of IOs and integers are specified as a hash key, all the
elements are redirected.</p>

<pre class="code"><code class=""><span class='comment'># stdout and stderr is redirected to log file.
</span><span class='comment'># The file &quot;log&quot; is opened just once.
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='symbol'>:out</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='rbracket'>]</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<p>Another way to merge multiple file descriptors is [:child, fd]. [:child,
fd] means the file descriptor in the child process. This is different from
fd. For example, :err=&gt;:out means redirecting child stderr to parent
stdout. But :err=&gt;[:child, :out] means redirecting child stderr to child
stdout. They differ if stdout is redirected in the child process as
follows.</p>

<pre class="code"><code class=""><span class='comment'># stdout and stderr is redirected to log file.
</span><span class='comment'># The file &quot;log&quot; is opened just once.
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='symbol'>:child</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<p>[:child, :out] can be used to merge stderr into stdout in IO.popen. In this
case, IO.popen redirects stdout to a pipe in the child process and [:child,
:out] refers the redirected stdout.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_io'>io</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen'><span class='object_link'><a href="IO.html#popen-class_method" title="IO.popen (method)">popen</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sh</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo out; echo err &gt;&amp;2</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='symbol'>:child</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span> <span class='comment'>#=&gt; &quot;out\nerr\n&quot;
</span></code></pre>

<p>The <code>:chdir</code> key in <code>options</code> specifies the current
directory.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:chdir</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/var/tmp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
</code></pre>

<p>spawn closes all non-standard unspecified descriptors by default. The
standard descriptors are 0, 1 and 2. This behavior is specified by
:close_others option. :close_others doesn&#39;t affect the standard
descriptors which are closed only if :close is specified explicitly.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:close_others</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='rparen'>)</span>  <span class='comment'># close 3,4,5,... (default)
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:close_others</span><span class='op'>=&gt;</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='comment'># don&#39;t close 3,4,5,...
</span></code></pre>

<p>:close_others is true by default for spawn and IO.popen.</p>

<p>Note that fds which close-on-exec flag is already set are closed regardless
of :close_others option.</p>

<p>So IO.pipe and spawn can be used as IO.popen.</p>

<pre class="code"><code class=""><span class='comment'># similar to r = IO.popen(command)
</span><span class='id identifier rubyid_r'>r</span><span class='comma'>,</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pipe'><span class='object_link'><a href="IO.html#pipe-class_method" title="IO.pipe (method)">pipe</a></span></span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='id identifier rubyid_w'>w</span><span class='rparen'>)</span>   <span class='comment'># r, w is closed in the child process.
</span><span class='id identifier rubyid_w'>w</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
</code></pre>

<p>:close is specified as a hash value to close a fd individually.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_foo'>foo</span><span class='rparen'>)</span>
<span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='op'>=&gt;</span><span class='symbol'>:close</span><span class='rparen'>)</span>        <span class='comment'># don&#39;t inherit f.
</span></code></pre>

<p>If a file descriptor need to be inherited, io=&gt;io can be used.</p>

<pre class="code"><code class=""><span class='comment'># valgrind has --log-fd option for log destination.
</span><span class='comment'># log_w=&gt;log_w indicates log_w.fileno inherits to child process.
</span><span class='id identifier rubyid_log_r'>log_r</span><span class='comma'>,</span> <span class='id identifier rubyid_log_w'>log_w</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pipe'><span class='object_link'><a href="IO.html#pipe-class_method" title="IO.pipe (method)">pipe</a></span></span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>valgrind</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--log-fd=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_log_w'>log_w</span><span class='period'>.</span><span class='id identifier rubyid_fileno'>fileno</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_log_w'>log_w</span><span class='op'>=&gt;</span><span class='id identifier rubyid_log_w'>log_w</span><span class='rparen'>)</span>
<span class='id identifier rubyid_log_w'>log_w</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_log_r'>log_r</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
</code></pre>

<p>It is also possible to exchange file descriptors.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='symbol'>:err</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='op'>=&gt;</span><span class='symbol'>:out</span><span class='rparen'>)</span>
</code></pre>

<p>The hash keys specify file descriptors in the child process. The hash
values specifies file descriptors in the parent process. So the above
specifies exchanging stdout and stderr. Internally, <code>spawn</code> uses
an extra file descriptor to resolve such cyclic file descriptor mapping.</p>

<p>See <code>Kernel.exec</code> for the standard shell.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4391
4392
4393
4394
4395
4396
4397
4398
4399
4400
4401
4402
4403
4404
4405
4406
4407
4408
4409
4410
4411
4412
4413
4414
4415
4416</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4391</span>

static VALUE
rb_f_spawn(int argc, VALUE *argv)
{
    rb_pid_t pid;
    char errmsg[CHILD_ERRMSG_BUFLEN] = { &#39;\0&#39; };
    VALUE execarg_obj, fail_str;
    struct rb_execarg *eargp;

    execarg_obj = rb_execarg_new(argc, argv, TRUE, FALSE);
    eargp = rb_execarg_get(execarg_obj);
    fail_str = eargp-&gt;use_shell ? eargp-&gt;invoke.sh.shell_script : eargp-&gt;invoke.cmd.command_name;

    pid = rb_execarg_spawn(execarg_obj, errmsg, sizeof(errmsg));

    if (pid == -1) {
	int err = errno;
	rb_exec_fail(eargp, err, errmsg);
	RB_GC_GUARD(execarg_obj);
	rb_syserr_fail_str(err, fail_str);
    }
#if defined(HAVE_WORKING_FORK) || defined(HAVE_SPAWNV)
    return PIDT2NUM(pid);
#else
    return Qnil;
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="times-class_method">
  
    .<strong>times</strong>  &#x21d2; <tt>aProcessTms</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a <code>Tms</code> structure (see <code>Process::Tms</code>) that
contains user and system CPU times for this process, and also for children
processes.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span>
<span class='lbracket'>[</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_utime'>utime</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_stime'>stime</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_cutime'>cutime</span><span class='comma'>,</span> <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_cstime'>cstime</span> <span class='rbracket'>]</span>   <span class='comment'>#=&gt; [0.0, 0.02, 0.00, 0.00]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>aProcessTms</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6952
6953
6954
6955
6956
6957
6958
6959
6960
6961
6962
6963
6964
6965
6966
6967
6968
6969
6970
6971
6972
6973
6974
6975
6976
6977
6978
6979
6980
6981</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 6952</span>

VALUE
rb_proc_times(VALUE obj)
{
    VALUE utime, stime, cutime, cstime, ret;
#if defined(RUSAGE_SELF) &amp;&amp; defined(RUSAGE_CHILDREN)
    struct rusage usage_s, usage_c;

    if (getrusage(RUSAGE_SELF, &amp;usage_s) != 0 || getrusage(RUSAGE_CHILDREN, &amp;usage_c) != 0)
	rb_sys_fail(&quot;getrusage&quot;);
    utime = DBL2NUM((double)usage_s.ru_utime.tv_sec + (double)usage_s.ru_utime.tv_usec/1e6);
    stime = DBL2NUM((double)usage_s.ru_stime.tv_sec + (double)usage_s.ru_stime.tv_usec/1e6);
    cutime = DBL2NUM((double)usage_c.ru_utime.tv_sec + (double)usage_c.ru_utime.tv_usec/1e6);
    cstime = DBL2NUM((double)usage_c.ru_stime.tv_sec + (double)usage_c.ru_stime.tv_usec/1e6);
#else
    const double hertz = (double)get_clk_tck();
    struct tms buf;

    times(&amp;buf);
    utime = DBL2NUM(buf.tms_utime / hertz);
    stime = DBL2NUM(buf.tms_stime / hertz);
    cutime = DBL2NUM(buf.tms_cutime / hertz);
    cstime = DBL2NUM(buf.tms_cstime / hertz);
#endif
    ret = rb_struct_new(rb_cProcessTms, utime, stime, cutime, cstime);
    RB_GC_GUARD(utime);
    RB_GC_GUARD(stime);
    RB_GC_GUARD(cutime);
    RB_GC_GUARD(cstime);
    return ret;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uid-class_method">
  
    
      <span class="overload">.<strong>uid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>Process::UID.rid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>Process::Sys.getuid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the (real) user ID of this process.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_uid'>uid</span>   <span class='comment'>#=&gt; 501
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>uid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>Process::UID.rid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>Process::Sys.getuid</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5374
5375
5376
5377
5378
5379</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 5374</span>

static VALUE
proc_getuid(VALUE obj)
{
    rb_uid_t uid = getuid();
    return UIDT2NUM(uid);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uid=-class_method">
  
    .<strong>uid=</strong>(user)  &#x21d2; <tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets the (user) user ID for this process. Not available on all platforms.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


5391
5392
5393
5394
5395
5396
5397
5398
5399
5400
5401
5402
5403
5404
5405
5406
5407
5408
5409
5410
5411
5412
5413
5414
5415
5416</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 5391</span>

static VALUE
proc_setuid(VALUE obj, VALUE id)
{
    rb_uid_t uid;

    check_uid_switch();

    uid = OBJ2UID(id);
#if defined(HAVE_SETRESUID)
    if (setresuid(uid, -1, -1) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETREUID
    if (setreuid(uid, -1) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETRUID
    if (setruid(uid) &lt; 0) rb_sys_fail(0);
#elif defined HAVE_SETUID
    {
	if (geteuid() == uid) {
	    if (setuid(uid) &lt; 0) rb_sys_fail(0);
	}
	else {
	    rb_notimplement();
	}
    }
#endif
    return id;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="wait-class_method">
  
    
      <span class="overload">.<strong>wait</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>wait</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>waitpid</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Waits for a child process to exit, returns its process id, and sets
<code>$?</code> to a <code>Process::Status</code> object containing
information on that process. Which child it waits on depends on the value
of <em>pid</em>:</p>
<dl class="rdoc-list note-list"><dt>&gt; 0
<dd>
<p>Waits for the child whose process ID equals <em>pid</em>.</p>
</dd><dt>0
<dd>
<p>Waits for any child whose process group ID equals that of the calling
process.</p>
</dd><dt>-1
<dd>
<p>Waits for any child process (the default if no <em>pid</em> is given).</p>
</dd><dt>&lt; -1
<dd>
<p>Waits for any child whose process group ID equals the absolute value of
<em>pid</em>.</p>
</dd></dl>

<p>The <em>flags</em> argument may be a logical or of the flag values
<code>Process::WNOHANG</code> (do not block if no child available) or
<code>Process::WUNTRACED</code> (return stopped children that haven&#39;t
been reported). Not all flags are available on all platforms, but a flag
value of zero will work on all platforms.</p>

<p>Calling this method raises a SystemCallError if there are no child
processes. Not available on all platforms.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span>
<span class='id identifier rubyid_fork'>fork</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_exit'>exit</span> <span class='int'>99</span> <span class='rbrace'>}</span>                 <span class='comment'>#=&gt; 27429
</span><span class='id identifier rubyid_wait'>wait</span>                             <span class='comment'>#=&gt; 27429
</span><span class='gvar'>$?</span><span class='period'>.</span><span class='id identifier rubyid_exitstatus'>exitstatus</span>                    <span class='comment'>#=&gt; 99
</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'>fork</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>3</span> <span class='rbrace'>}</span>           <span class='comment'>#=&gt; 27440
</span><span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_now'><span class='object_link'><a href="Time.html#now-class_method" title="Time.now (method)">now</a></span></span>                         <span class='comment'>#=&gt; 2008-03-08 19:56:16 +0900
</span><span class='id identifier rubyid_waitpid'>waitpid</span><span class='lparen'>(</span><span class='id identifier rubyid_pid'>pid</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#WNOHANG-constant" title="Process::WNOHANG (constant)">WNOHANG</a></span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; nil
</span><span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_now'><span class='object_link'><a href="Time.html#now-class_method" title="Time.now (method)">now</a></span></span>                         <span class='comment'>#=&gt; 2008-03-08 19:56:16 +0900
</span><span class='id identifier rubyid_waitpid'>waitpid</span><span class='lparen'>(</span><span class='id identifier rubyid_pid'>pid</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>                  <span class='comment'>#=&gt; 27440
</span><span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_now'><span class='object_link'><a href="Time.html#now-class_method" title="Time.now (method)">now</a></span></span>                         <span class='comment'>#=&gt; 2008-03-08 19:56:19 +0900
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>wait</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>wait</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>waitpid</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 1006</span>

static VALUE
proc_wait(int argc, VALUE *argv)
{
    rb_pid_t pid;
    int flags, status;

    flags = 0;
    if (rb_check_arity(argc, 0, 2) == 0) {
	pid = -1;
    }
    else {
	VALUE vflags;
	pid = NUM2PIDT(argv[0]);
	if (argc == 2 &amp;&amp; !NIL_P(vflags = argv[1])) {
	    flags = NUM2UINT(vflags);
	}
    }
    if ((pid = rb_waitpid(pid, &amp;status, flags)) &lt; 0)
	rb_sys_fail(0);
    if (pid == 0) {
	rb_last_status_clear();
	return Qnil;
    }
    return PIDT2NUM(pid);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="wait2-class_method">
  
    
      <span class="overload">.<strong>wait2</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> </span>
    
      <span class="overload">.<strong>waitpid2</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Waits for a child process to exit (see Process::waitpid for exact
semantics) and returns an array containing the process id and the exit
status (a <code>Process::Status</code> object) of that child. Raises a
SystemCallError if there are no child processes.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fork'><span class='object_link'><a href="#fork-class_method" title="Process.fork (method)">fork</a></span></span> <span class='lbrace'>{</span> <span class='id identifier rubyid_exit'>exit</span> <span class='int'>99</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; 27437
</span><span class='id identifier rubyid_pid'>pid</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wait2'>wait2</span>
<span class='id identifier rubyid_pid'>pid</span>                        <span class='comment'>#=&gt; 27437
</span><span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_exitstatus'>exitstatus</span>          <span class='comment'>#=&gt; 99
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>wait2</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>waitpid2</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1049
1050
1051
1052
1053
1054
1055</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 1049</span>

static VALUE
proc_wait2(int argc, VALUE *argv)
{
    VALUE pid = proc_wait(argc, argv);
    if (NIL_P(pid)) return Qnil;
    return rb_assoc_new(pid, rb_last_status_get());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="waitall-class_method">
  
    .<strong>waitall</strong>  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Waits for all children, returning an array of <em>pid</em>/<em>status</em>
pairs (where <em>status</em> is a <code>Process::Status</code> object).</p>

<pre class="code"><code class=""><span class='id identifier rubyid_fork'>fork</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_sleep'>sleep</span> <span class='float'>0.2</span><span class='semicolon'>;</span> <span class='id identifier rubyid_exit'>exit</span> <span class='int'>2</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; 27432
</span><span class='id identifier rubyid_fork'>fork</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_sleep'>sleep</span> <span class='float'>0.1</span><span class='semicolon'>;</span> <span class='id identifier rubyid_exit'>exit</span> <span class='int'>1</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; 27433
</span><span class='id identifier rubyid_fork'>fork</span> <span class='lbrace'>{</span>            <span class='id identifier rubyid_exit'>exit</span> <span class='int'>0</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; 27434
</span><span class='id identifier rubyid_p'>p</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_waitall'>waitall</span>
</code></pre>

<p><em>produces</em>:</p>

<pre class="code"><code class="">[[30982, #&lt;Process::Status: pid 30982 exit 0&gt;],
 [30979, #&lt;Process::Status: pid 30979 exit 1&gt;],
 [30976, #&lt;Process::Status: pid 30976 exit 2&gt;]]</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 1078</span>

static VALUE
proc_waitall(void)
{
    VALUE result;
    rb_pid_t pid;
    int status;

    result = rb_ary_new();
    rb_last_status_clear();

    for (pid = -1;;) {
	pid = rb_waitpid(-1, &amp;status, 0);
	if (pid == -1) {
	    int e = errno;
	    if (e == ECHILD)
		break;
	    rb_syserr_fail(e, 0);
	}
	rb_ary_push(result, rb_assoc_new(PIDT2NUM(pid), rb_last_status_get()));
    }
    return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="waitpid-class_method">
  
    
      <span class="overload">.<strong>wait</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>wait</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
      <span class="overload">.<strong>waitpid</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Waits for a child process to exit, returns its process id, and sets
<code>$?</code> to a <code>Process::Status</code> object containing
information on that process. Which child it waits on depends on the value
of <em>pid</em>:</p>
<dl class="rdoc-list note-list"><dt>&gt; 0
<dd>
<p>Waits for the child whose process ID equals <em>pid</em>.</p>
</dd><dt>0
<dd>
<p>Waits for any child whose process group ID equals that of the calling
process.</p>
</dd><dt>-1
<dd>
<p>Waits for any child process (the default if no <em>pid</em> is given).</p>
</dd><dt>&lt; -1
<dd>
<p>Waits for any child whose process group ID equals the absolute value of
<em>pid</em>.</p>
</dd></dl>

<p>The <em>flags</em> argument may be a logical or of the flag values
<code>Process::WNOHANG</code> (do not block if no child available) or
<code>Process::WUNTRACED</code> (return stopped children that haven&#39;t
been reported). Not all flags are available on all platforms, but a flag
value of zero will work on all platforms.</p>

<p>Calling this method raises a SystemCallError if there are no child
processes. Not available on all platforms.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_include'>include</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span>
<span class='id identifier rubyid_fork'>fork</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_exit'>exit</span> <span class='int'>99</span> <span class='rbrace'>}</span>                 <span class='comment'>#=&gt; 27429
</span><span class='id identifier rubyid_wait'>wait</span>                             <span class='comment'>#=&gt; 27429
</span><span class='gvar'>$?</span><span class='period'>.</span><span class='id identifier rubyid_exitstatus'>exitstatus</span>                    <span class='comment'>#=&gt; 99
</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_fork'>fork</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_sleep'>sleep</span> <span class='int'>3</span> <span class='rbrace'>}</span>           <span class='comment'>#=&gt; 27440
</span><span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_now'><span class='object_link'><a href="Time.html#now-class_method" title="Time.now (method)">now</a></span></span>                         <span class='comment'>#=&gt; 2008-03-08 19:56:16 +0900
</span><span class='id identifier rubyid_waitpid'>waitpid</span><span class='lparen'>(</span><span class='id identifier rubyid_pid'>pid</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#WNOHANG-constant" title="Process::WNOHANG (constant)">WNOHANG</a></span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; nil
</span><span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_now'><span class='object_link'><a href="Time.html#now-class_method" title="Time.now (method)">now</a></span></span>                         <span class='comment'>#=&gt; 2008-03-08 19:56:16 +0900
</span><span class='id identifier rubyid_waitpid'>waitpid</span><span class='lparen'>(</span><span class='id identifier rubyid_pid'>pid</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>                  <span class='comment'>#=&gt; 27440
</span><span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_now'><span class='object_link'><a href="Time.html#now-class_method" title="Time.now (method)">now</a></span></span>                         <span class='comment'>#=&gt; 2008-03-08 19:56:19 +0900
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>wait</strong>  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>wait</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>waitpid</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 1006</span>

static VALUE
proc_wait(int argc, VALUE *argv)
{
    rb_pid_t pid;
    int flags, status;

    flags = 0;
    if (rb_check_arity(argc, 0, 2) == 0) {
	pid = -1;
    }
    else {
	VALUE vflags;
	pid = NUM2PIDT(argv[0]);
	if (argc == 2 &amp;&amp; !NIL_P(vflags = argv[1])) {
	    flags = NUM2UINT(vflags);
	}
    }
    if ((pid = rb_waitpid(pid, &amp;status, flags)) &lt; 0)
	rb_sys_fail(0);
    if (pid == 0) {
	rb_last_status_clear();
	return Qnil;
    }
    return PIDT2NUM(pid);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="waitpid2-class_method">
  
    
      <span class="overload">.<strong>wait2</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> </span>
    
      <span class="overload">.<strong>waitpid2</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Waits for a child process to exit (see Process::waitpid for exact
semantics) and returns an array containing the process id and the exit
status (a <code>Process::Status</code> object) of that child. Raises a
SystemCallError if there are no child processes.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fork'><span class='object_link'><a href="#fork-class_method" title="Process.fork (method)">fork</a></span></span> <span class='lbrace'>{</span> <span class='id identifier rubyid_exit'>exit</span> <span class='int'>99</span> <span class='rbrace'>}</span>   <span class='comment'>#=&gt; 27437
</span><span class='id identifier rubyid_pid'>pid</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wait2'><span class='object_link'><a href="#wait2-class_method" title="Process.wait2 (method)">wait2</a></span></span>
<span class='id identifier rubyid_pid'>pid</span>                        <span class='comment'>#=&gt; 27437
</span><span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_exitstatus'>exitstatus</span>          <span class='comment'>#=&gt; 99
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>wait2</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>waitpid2</strong>(pid = -1, flags = 0)  &#x21d2; <tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1049
1050
1051
1052
1053
1054
1055</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 1049</span>

static VALUE
proc_wait2(int argc, VALUE *argv)
{
    VALUE pid = proc_wait(argc, argv);
    if (NIL_P(pid)) return Qnil;
    return rb_assoc_new(pid, rb_last_status_get());
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Feb 26 22:23:14 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.4.2).
</div>

    </div>
  </body>
</html>