<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Kernel
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Kernel";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (K)</a> &raquo;
    
    
    <span class="title">Kernel</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Kernel
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>object.c<span class="defines">,<br />
  object.c</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The Kernel module is included by class Object, so its methods are available
in every Ruby object.</p>

<p>The Kernel instance methods are documented in class Object while the module
methods are documented here.  These methods are called without a receiver
and thus can be called in functional form:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_sprintf'>sprintf</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%.1f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>1.234</span> <span class='comment'>#=&gt; &quot;1.2&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__callee__-instance_method" title="#__callee__ (instance method)">#<strong>__callee__</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the called name of the current method as a Symbol.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__dir__-instance_method" title="#__dir__ (instance method)">#<strong>__dir__</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the canonicalized absolute path of the directory of the file from
which this method is called.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#__method__-instance_method" title="#__method__ (instance method)">#<strong>__method__</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the name at the definition of the current method as a Symbol.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%60-instance_method" title="#` (instance method)">#<strong>`</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the standard output of running <em>cmd</em> in a subshell.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#abort-instance_method" title="#abort (instance method)">#<strong>abort</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Terminate execution immediately, effectively by calling
<code>Kernel.exit(false)</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Array-instance_method" title="#Array (instance method)">#<strong>Array</strong>(arg)  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <code>arg</code> as an Array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at_exit-instance_method" title="#at_exit (instance method)">#<strong>at_exit</strong> { ... } &#x21d2; Proc </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts <em>block</em> to a <code>Proc</code> object (and therefore binds
it at the point of call) and registers it for execution when the program
exits.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#autoload-instance_method" title="#autoload (instance method)">#<strong>autoload</strong>  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Registers <em>filename</em> to be loaded (using
<code>Kernel::require</code>) the first time that <em>module</em> (which
may be a <code>String</code> or a symbol) is accessed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#autoload%3F-instance_method" title="#autoload? (instance method)">#<strong>autoload?</strong>(name)  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <em>filename</em> to be loaded if <em>name</em> is registered as
<code>autoload</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#binding-instance_method" title="#binding (instance method)">#<strong>binding</strong>  &#x21d2; Binding </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a <code>Binding</code> object, describing the variable and method
bindings at the point of call.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#block_given%3F-instance_method" title="#block_given? (instance method)">#<strong>block_given?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <code>true</code> if <code>yield</code> would execute a block in
the current context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#callcc-instance_method" title="#callcc (instance method)">#<strong>callcc</strong> {|cont| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a Continuation object, which it passes to the associated block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#caller-instance_method" title="#caller (instance method)">#<strong>caller</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the current execution stack—an array containing strings in the form
<code>file:line</code> or <code>file:line: in `method&#39;</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#caller_locations-instance_method" title="#caller_locations (instance method)">#<strong>caller_locations</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the current execution stack—an array containing backtrace location
objects.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#catch-instance_method" title="#catch (instance method)">#<strong>catch</strong>([tag]) {|tag| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p><code>catch</code> executes its block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Complex-instance_method" title="#Complex (instance method)">#<strong>Complex</strong>(x[, y])  &#x21d2; Numeric </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns x+i*y;.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eval-instance_method" title="#eval (instance method)">#<strong>eval</strong>(string[, binding [, filename [,lineno]]])  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Evaluates the Ruby expression(s) in <em>string</em>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exec-instance_method" title="#exec (instance method)">#<strong>exec</strong>([env,][,options])  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Replaces the current process by running the given external
<em>command</em>, which can take one of the following forms:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exit-instance_method" title="#exit (instance method)">#<strong>exit</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initiates the termination of the Ruby script by raising the
<code>SystemExit</code> exception.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exit!-instance_method" title="#exit! (instance method)">#<strong>exit!</strong>(status = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Exits the process immediately.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fail-instance_method" title="#fail (instance method)">#<strong>fail</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>With no arguments, raises the exception in <code>$!</code> or raises a
<code>RuntimeError</code> if <code>$!</code> is <code>nil</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Float-instance_method" title="#Float (instance method)">#<strong>Float</strong>(arg)  &#x21d2; Float </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <em>arg</em> converted to a float.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fork-instance_method" title="#fork (instance method)">#<strong>fork</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a subprocess.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format-instance_method" title="#format (instance method)">#<strong>format</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the string resulting from applying <em>format_string</em> to any
additional arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gets-instance_method" title="#gets (instance method)">#<strong>gets</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns (and assigns to <code>$_</code>) the next line from the list of
files in <code>ARGV</code> (or <code>$*</code>), or from standard input if
no files are present on the command line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#global_variables-instance_method" title="#global_variables (instance method)">#<strong>global_variables</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array of the names of global variables.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Hash-instance_method" title="#Hash (instance method)">#<strong>Hash</strong>(arg)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts <em>arg</em> to a <code>Hash</code> by calling
<em>arg</em><code>.to_hash</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Integer-instance_method" title="#Integer (instance method)">#<strong>Integer</strong>(arg, base = 0)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts <em>arg</em> to an <code>Integer</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#iterator%3F-instance_method" title="#iterator? (instance method)">#<strong>iterator?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <code>true</code> if <code>yield</code> would execute a block in
the current context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lambda-instance_method" title="#lambda (instance method)">#<strong>lambda</strong> {|...| ... } &#x21d2; Proc </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to <code>Proc.new</code>, except the resulting Proc objects
check the number of parameters passed when called.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load-instance_method" title="#load (instance method)">#<strong>load</strong>(filename, wrap = false)  &#x21d2; true </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Loads and executes the Ruby program in the file <em>filename</em>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#local_variables-instance_method" title="#local_variables (instance method)">#<strong>local_variables</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the names of the current local variables.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#loop-instance_method" title="#loop (instance method)">#<strong>loop</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Repeatedly executes the block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open-instance_method" title="#open (instance method)">#<strong>open</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates an IO object connected to the given stream, file, or subprocess.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#p-instance_method" title="#p (instance method)">#<strong>p</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>For each object, directly writes <em>obj</em>.<code>inspect</code> followed
by a newline to the program&#39;s standard output.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#print-instance_method" title="#print (instance method)">#<strong>print</strong>(obj, ...)  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Prints each object in turn to <code>$stdout</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#printf-instance_method" title="#printf (instance method)">#<strong>printf</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to:    io.write(sprintf(string, obj, …)) or   
$stdout.write(sprintf(string, obj, …)).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#proc-instance_method" title="#proc (instance method)">#<strong>proc</strong> {|...| ... } &#x21d2; Proc </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to <code>Proc.new</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#putc-instance_method" title="#putc (instance method)">#<strong>putc</strong>(int)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#puts-instance_method" title="#puts (instance method)">#<strong>puts</strong>(obj, ...)  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#raise-instance_method" title="#raise (instance method)">#<strong>raise</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>With no arguments, raises the exception in <code>$!</code> or raises a
<code>RuntimeError</code> if <code>$!</code> is <code>nil</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rand-instance_method" title="#rand (instance method)">#<strong>rand</strong>(max = 0)  &#x21d2; Numeric </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If called without an argument, or if <code>max.to_i.abs == 0</code>, rand
returns a pseudo-random floating point number between 0.0 and 1.0,
including 0.0 and excluding 1.0.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#Rational-instance_method" title="#Rational (instance method)">#<strong>Rational</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <code>x/y</code> or <code>arg</code> as a Rational.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readline-instance_method" title="#readline (instance method)">#<strong>readline</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Equivalent to <code>Kernel::gets</code>, except <code>readline</code>
raises <code>EOFError</code> at end of file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#readlines-instance_method" title="#readlines (instance method)">#<strong>readlines</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns an array containing the lines returned by calling
<code>Kernel.gets(<em>sep</em>)</code> until the end of file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#require-instance_method" title="#require (instance method)">#<strong>require</strong>(name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Loads the given <code>name</code>, returning <code>true</code> if
successful and <code>false</code> if the feature is already loaded.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#require_relative-instance_method" title="#require_relative (instance method)">#<strong>require_relative</strong>(string)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Ruby tries to load the library named <em>string</em> relative to the
requiring file&#39;s path.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select-instance_method" title="#select (instance method)">#<strong>select</strong>(read_array[, write_array [, error_array [, timeout]]])  &#x21d2; Array<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Calls select(2) system call.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_trace_func-instance_method" title="#set_trace_func (instance method)">#<strong>set_trace_func</strong>(trace)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Establishes <em>proc</em> as the handler for tracing, or disables tracing
if the parameter is <code>nil</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sleep-instance_method" title="#sleep (instance method)">#<strong>sleep</strong>([duration])  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Suspends the current thread for <em>duration</em> seconds (which may be any
number, including a <code>Float</code> with fractional seconds).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#spawn-instance_method" title="#spawn (instance method)">#<strong>spawn</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>spawn executes specified command and return its pid.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sprintf-instance_method" title="#sprintf (instance method)">#<strong>sprintf</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the string resulting from applying <em>format_string</em> to any
additional arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#srand-instance_method" title="#srand (instance method)">#<strong>srand</strong>(number = Random.new_seed)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Seeds the system pseudo-random number generator, Random::DEFAULT, with
<code>number</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#String-instance_method" title="#String (instance method)">#<strong>String</strong>(arg)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns <em>arg</em> as a <code>String</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#syscall-instance_method" title="#syscall (instance method)">#<strong>syscall</strong>(num[, args...])  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Calls the operating system function identified by <em>num</em> and returns
the result of the function or raises SystemCallError if it failed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#system-instance_method" title="#system (instance method)">#<strong>system</strong>([env,][,options])  &#x21d2; true, ... </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Executes <em>command…</em> in a subshell.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test-instance_method" title="#test (instance method)">#<strong>test</strong>(cmd, file1[, file2])  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Uses the character <code>cmd</code> to perform various tests on
<code>file1</code> (first table below) or on <code>file1</code> and
<code>file2</code> (second table).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#throw-instance_method" title="#throw (instance method)">#<strong>throw</strong>(tag[, obj])  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Transfers control to the end of the active <code>catch</code> block waiting
for <em>tag</em>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#trace_var-instance_method" title="#trace_var (instance method)">#<strong>trace_var</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Controls tracing of assignments to global variables.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#trap-instance_method" title="#trap (instance method)">#<strong>trap</strong>(*args)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Specifies the handling of signals.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#untrace_var-instance_method" title="#untrace_var (instance method)">#<strong>untrace_var</strong>(symbol[, cmd])  &#x21d2; Array<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Removes tracing for the specified command on the given global variable and
returns <code>nil</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#warn-instance_method" title="#warn (instance method)">#<strong>warn</strong>(msg, ...)  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If warnings have been disabled (for example with the <code>-W0</code>
flag), does nothing.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="__callee__-instance_method">
  
    #<strong>__callee__</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the called name of the current method as a Symbol. If called
outside of a method, it returns <code>nil</code>.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1858
1859
1860
1861
1862
1863
1864
1865
1866
1867
1868
1869</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'eval.c', line 1858</span>

static VALUE
rb_f_callee_name(void)
{
    ID fname = prev_frame_callee(); /* need *callee* ID */

    if (fname) {
	return ID2SYM(fname);
    }
    else {
	return Qnil;
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__dir__-instance_method">
  
    #<strong>__dir__</strong>  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the canonicalized absolute path of the directory of the file from
which this method is called. It means symlinks in the path is resolved. If
<code>__FILE__</code> is <code>nil</code>, it returns <code>nil</code>. The
return value equals to <code>File.dirname(File.realpath(__FILE__))</code>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1881
1882
1883
1884
1885
1886
1887
1888
1889
1890</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'eval.c', line 1881</span>

static VALUE
f_current_dirname(void)
{
    VALUE base = rb_current_realfilepath();
    if (NIL_P(base)) {
	return Qnil;
    }
    base = rb_file_dirname(base);
    return base;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="__method__-instance_method">
  
    #<strong>__method__</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the name at the definition of the current method as a Symbol. If
called outside of a method, it returns <code>nil</code>.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1836
1837
1838
1839
1840
1841
1842
1843
1844
1845
1846
1847</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'eval.c', line 1836</span>

static VALUE
rb_f_method_name(void)
{
    ID fname = prev_frame_func(); /* need *method* ID */

    if (fname) {
	return ID2SYM(fname);
    }
    else {
	return Qnil;
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="`-instance_method">
  
    #<strong>`</strong>  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the standard output of running <em>cmd</em> in a subshell. The
built-in syntax <code>%x{...}</code> uses this method. Sets <code>$?</code>
to the process status.</p>

<pre class="code"><code class=""><span class='backtick'>`</span><span class='tstring_content'>date</span><span class='tstring_end'>`</span></span>                   <span class='comment'>#=&gt; &quot;Wed Apr  9 08:56:30 CDT 2003\n&quot;
</span><span class='backtick'>`</span><span class='tstring_content'>ls testdir</span><span class='tstring_end'>`</span></span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>    <span class='comment'>#=&gt; &quot;main.rb&quot;
</span><span class='backtick'>`</span><span class='tstring_content'>echo oops &amp;&amp; exit 99</span><span class='tstring_end'>`</span></span>   <span class='comment'>#=&gt; &quot;oops\n&quot;
</span><span class='gvar'>$?</span><span class='period'>.</span><span class='id identifier rubyid_exitstatus'>exitstatus</span>            <span class='comment'>#=&gt; 99
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8887
8888
8889
8890
8891
8892
8893
8894
8895
8896
8897
8898
8899
8900
8901
8902
8903
8904
8905
8906</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 8887</span>

static VALUE
rb_f_backquote(VALUE obj, VALUE str)
{
    VALUE port;
    VALUE result;
    rb_io_t *fptr;

    SafeStringValue(str);
    rb_last_status_clear();
    port = pipe_open_s(str, &quot;r&quot;, FMODE_READABLE|DEFAULT_TEXTMODE, NULL);
    if (NIL_P(port)) return rb_str_new(0,0);

    GetOpenFile(port, fptr);
    result = read_all(fptr, remain_size(fptr), Qnil);
    rb_io_close(port);
    rb_io_fptr_finalize(fptr);
    rb_gc_force_recycle(port); /* also guards from premature GC */

    return result;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="abort-instance_method">
  
    
      <span class="overload">#<strong>abort</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>Kernel::abort</strong>([msg])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>abort</strong>([msg])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Terminate execution immediately, effectively by calling
<code>Kernel.exit(false)</code>. If <em>msg</em> is given, it is written to
STDERR prior to terminating.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3880
3881
3882
3883
3884
3885
3886
3887
3888
3889
3890
3891
3892
3893
3894
3895
3896
3897
3898
3899
3900
3901
3902
3903</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 3880</span>

VALUE
rb_f_abort(int argc, const VALUE *argv)
{
    rb_check_arity(argc, 0, 1);
    if (argc == 0) {
	rb_execution_context_t *ec = GET_EC();
	VALUE errinfo = ec-&gt;errinfo;
	if (!NIL_P(errinfo)) {
	    rb_ec_error_print(ec, errinfo);
	}
	rb_exit(EXIT_FAILURE);
    }
    else {
	VALUE args[2];

	args[1] = args[0] = argv[0];
	StringValue(args[0]);
	rb_io_puts(1, args, rb_stderr);
	args[0] = INT2NUM(EXIT_FAILURE);
	rb_exc_raise(rb_class_new_instance(2, args, rb_eSystemExit));
    }

    UNREACHABLE;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Array-instance_method">
  
    #<strong>Array</strong>(arg)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>arg</code> as an Array.</p>

<p>First tries to call <code>to_ary</code> on <code>arg</code>, then
<code>to_a</code>. If <code>arg</code> does not respond to
<code>to_ary</code> or <code>to_a</code>, returns an Array of length 1
containing <code>arg</code>.</p>

<p>If <code>to_ary</code> or <code>to_a</code> returns something other than an
Array, raises a <code>TypeError</code>.</p>

<pre class="code"><code class=""><span class='const'>Array</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;]
</span><span class='const'>Array</span><span class='lparen'>(</span><span class='int'>1</span><span class='op'>..</span><span class='int'>5</span><span class='rparen'>)</span>        <span class='comment'>#=&gt; [1, 2, 3, 4, 5]
</span><span class='const'>Array</span><span class='lparen'>(</span><span class='label'>key:</span> <span class='symbol'>:value</span><span class='rparen'>)</span> <span class='comment'>#=&gt; [[:key, :value]]
</span><span class='const'>Array</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>         <span class='comment'>#=&gt; []
</span><span class='const'>Array</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>           <span class='comment'>#=&gt; [1]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3626
3627
3628
3629
3630</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'object.c', line 3626</span>

static VALUE
rb_f_array(VALUE obj, VALUE arg)
{
    return rb_Array(arg);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="at_exit-instance_method">
  
    #<strong>at_exit</strong> { ... } &#x21d2; <tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts <em>block</em> to a <code>Proc</code> object (and therefore binds
it at the point of call) and registers it for execution when the program
exits. If multiple handlers are registered, they are executed in reverse
order of registration.</p>

<pre class="code"><code class=""><span class='kw'>def</span> <span class='id identifier rubyid_do_at_exit'>do_at_exit</span><span class='lparen'>(</span><span class='id identifier rubyid_str1'>str1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_at_exit'>at_exit</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_str1'>str1</span> <span class='rbrace'>}</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_at_exit'>at_exit</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cruel world</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_do_at_exit'>do_at_exit</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>goodbye </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_exit'>exit</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='id identifier rubyid_goodbye'>goodbye</span> <span class='id identifier rubyid_cruel'>cruel</span> <span class='id identifier rubyid_world'>world</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39
40
41
42
43
44
45
46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'eval_jump.c', line 37</span>

static VALUE
rb_f_at_exit(void)
{
    VALUE proc;

    if (!rb_block_given_p()) {
	rb_raise(rb_eArgError, &quot;called without a block&quot;);
    }
    proc = rb_block_proc();
    rb_set_end_proc(rb_call_end_proc, proc);
    return proc;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="autoload-instance_method">
  
    #<strong>autoload</strong>  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Registers <em>filename</em> to be loaded (using
<code>Kernel::require</code>) the first time that <em>module</em> (which
may be a <code>String</code> or a symbol) is accessed.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_autoload'>autoload</span><span class='lparen'>(</span><span class='symbol'>:MyModule</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/usr/local/lib/modules/my_module.rb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1141
1142
1143
1144
1145
1146
1147
1148
1149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'load.c', line 1141</span>

static VALUE
rb_f_autoload(VALUE obj, VALUE sym, VALUE file)
{
    VALUE klass = rb_class_real(rb_vm_cbase());
    if (NIL_P(klass)) {
	rb_raise(rb_eTypeError, &quot;Can not set autoload on singleton class&quot;);
    }
    return rb_mod_autoload(klass, sym, file);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="autoload?-instance_method">
  
    #<strong>autoload?</strong>(name)  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <em>filename</em> to be loaded if <em>name</em> is registered as
<code>autoload</code>.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_autoload'>autoload</span><span class='lparen'>(</span><span class='symbol'>:B</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_autoload?'>autoload?</span><span class='lparen'>(</span><span class='symbol'>:B</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; &quot;b&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1162
1163
1164
1165
1166
1167
1168
1169
1170
1171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'load.c', line 1162</span>

static VALUE
rb_f_autoload_p(VALUE obj, VALUE sym)
{
    /* use rb_vm_cbase() as same as rb_f_autoload. */
    VALUE klass = rb_vm_cbase();
    if (NIL_P(klass)) {
	return Qnil;
    }
    return rb_mod_autoload_p(klass, sym);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="binding-instance_method">
  
    #<strong>binding</strong>  &#x21d2; <tt><span class='object_link'><a href="Binding.html" title="Binding (class)">Binding</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a <code>Binding</code> object, describing the variable and method
bindings at the point of call. This object can be used when calling
<code>eval</code> to execute the evaluated command in this environment. See
also the description of class <code>Binding</code>.</p>

<pre class="code"><code class=""><span class='kw'>def</span> <span class='id identifier rubyid_get_binding'>get_binding</span><span class='lparen'>(</span><span class='id identifier rubyid_param'>param</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_binding'>binding</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_get_binding'>get_binding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_eval'>eval</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>param</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;hello&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Binding.html" title="Binding (class)">Binding</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


339
340
341
342
343</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'proc.c', line 339</span>

static VALUE
rb_f_binding(VALUE self)
{
    return rb_binding_new();
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="block_given?-instance_method">
  
    
      <span class="overload">#<strong>block_given?</strong>  &#x21d2; <tt>Boolean</tt> </span>
    
      <span class="overload">#<strong>iterator?</strong>  &#x21d2; <tt>Boolean</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if <code>yield</code> would execute a block in
the current context. The <code>iterator?</code> form is mildly deprecated.</p>

<pre class="code"><code class=""><span class='kw'>def</span> <span class='id identifier rubyid_try'>try</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>yield</span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no block</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_try'>try</span>                  <span class='comment'>#=&gt; &quot;no block&quot;
</span><span class='id identifier rubyid_try'>try</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>      <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='id identifier rubyid_try'>try</span> <span class='kw'>do</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>   <span class='comment'>#=&gt; &quot;hello&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>block_given?</strong>  &#x21d2; <tt>Boolean</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>iterator?</strong>  &#x21d2; <tt>Boolean</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2120
2121
2122
2123
2124
2125
2126
2127
2128
2129
2130
2131
2132
2133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 2120</span>

static VALUE
rb_f_block_given_p(void)
{
    rb_execution_context_t *ec = GET_EC();
    rb_control_frame_t *cfp = ec-&gt;cfp;
    cfp = vm_get_ruby_level_caller_cfp(ec, RUBY_VM_PREVIOUS_CONTROL_FRAME(cfp));

    if (cfp != NULL &amp;&amp; VM_CF_BLOCK_HANDLER(cfp) != VM_BLOCK_HANDLER_NONE) {
	return Qtrue;
    }
    else {
	return Qfalse;
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="callcc-instance_method">
  
    #<strong>callcc</strong> {|cont| ... } &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generates a Continuation object, which it passes to the associated block.
You need to <code>require &#39;continuation&#39;</code> before using this
method. Performing a <em>cont</em><code>.call</code> will cause the #callcc
to return (as will falling through the end of the block). The value
returned by the #callcc is the value of the block, or the value passed to
<em>cont</em><code>.call</code>. See class Continuation for more details.
Also see Kernel#throw for an alternative mechanism for unwinding a call
stack.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>cont</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'cont.c', line 1100</span>

static VALUE
rb_callcc(VALUE self)
{
    volatile int called;
    volatile VALUE val = cont_capture(&amp;called);

    if (called) {
	return val;
    }
    else {
	return rb_yield(val);
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="caller-instance_method">
  
    
      <span class="overload">#<strong>caller</strong>(start = 1, length = nil)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>caller</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the current execution stack—an array containing strings in the form
<code>file:line</code> or <code>file:line: in `method&#39;</code>.</p>

<p>The optional <em>start</em> parameter determines the number of initial
stack entries to omit from the top of the stack.</p>

<p>A second optional <code>length</code> parameter can be used to limit how
many entries are returned from the stack.</p>

<p>Returns <code>nil</code> if <em>start</em> is greater than the size of
current execution stack.</p>

<p>Optionally you can pass a range, which will return an array containing the
entries within the specified range.</p>

<pre class="code"><code class=""><span class='kw'>def</span> <span class='id identifier rubyid_a'>a</span><span class='lparen'>(</span><span class='id identifier rubyid_skip'>skip</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_caller'>caller</span><span class='lparen'>(</span><span class='id identifier rubyid_skip'>skip</span><span class='rparen'>)</span>
<span class='kw'>end</span>
<span class='kw'>def</span> <span class='id identifier rubyid_b'>b</span><span class='lparen'>(</span><span class='id identifier rubyid_skip'>skip</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_a'>a</span><span class='lparen'>(</span><span class='id identifier rubyid_skip'>skip</span><span class='rparen'>)</span>
<span class='kw'>end</span>
<span class='kw'>def</span> <span class='id identifier rubyid_c'>c</span><span class='lparen'>(</span><span class='id identifier rubyid_skip'>skip</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_b'>b</span><span class='lparen'>(</span><span class='id identifier rubyid_skip'>skip</span><span class='rparen'>)</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_c'>c</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;prog:2:in `a&#39;&quot;, &quot;prog:5:in `b&#39;&quot;, &quot;prog:8:in `c&#39;&quot;, &quot;prog:10:in `&lt;main&gt;&#39;&quot;]
</span><span class='id identifier rubyid_c'>c</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;prog:5:in `b&#39;&quot;, &quot;prog:8:in `c&#39;&quot;, &quot;prog:11:in `&lt;main&gt;&#39;&quot;]
</span><span class='id identifier rubyid_c'>c</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;prog:8:in `c&#39;&quot;, &quot;prog:12:in `&lt;main&gt;&#39;&quot;]
</span><span class='id identifier rubyid_c'>c</span><span class='lparen'>(</span><span class='int'>3</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; [&quot;prog:13:in `&lt;main&gt;&#39;&quot;]
</span><span class='id identifier rubyid_c'>c</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; []
</span><span class='id identifier rubyid_c'>c</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; nil
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>caller</strong>(start = 1, length = nil)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>caller</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


976
977
978
979
980</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_backtrace.c', line 976</span>

static VALUE
rb_f_caller(int argc, VALUE *argv)
{
    return ec_backtrace_to_ary(GET_EC(), argc, argv, 1, 1, 1);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="caller_locations-instance_method">
  
    
      <span class="overload">#<strong>caller_locations</strong>(start = 1, length = nil)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>caller_locations</strong>(range)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the current execution stack—an array containing backtrace location
objects.</p>

<p>See Thread::Backtrace::Location for more information.</p>

<p>The optional <em>start</em> parameter determines the number of initial
stack entries to omit from the top of the stack.</p>

<p>A second optional <code>length</code> parameter can be used to limit how
many entries are returned from the stack.</p>

<p>Returns <code>nil</code> if <em>start</em> is greater than the size of
current execution stack.</p>

<p>Optionally you can pass a range, which will return an array containing the
entries within the specified range.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1004
1005
1006
1007
1008</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_backtrace.c', line 1004</span>

static VALUE
rb_f_caller_locations(int argc, VALUE *argv)
{
    return ec_backtrace_to_ary(GET_EC(), argc, argv, 1, 1, 0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="catch-instance_method">
  
    #<strong>catch</strong>([tag]) {|tag| ... } &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p><code>catch</code> executes its block. If <code>throw</code> is not called,
the block executes normally, and <code>catch</code> returns the value of
the last expression evaluated.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_catch'>catch</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='int'>123</span> <span class='rbrace'>}</span>            <span class='comment'># =&gt; 123
</span></code></pre>

<p>If <code>throw(tag2, val)</code> is called, Ruby searches up its stack for
a <code>catch</code> block whose <code>tag</code> has the same
<code>object_id</code> as <em>tag2</em>. When found, the block stops
executing and returns <em>val</em> (or <code>nil</code> if no second
argument was given to <code>throw</code>).</p>

<pre class="code"><code class=""><span class='id identifier rubyid_catch'>catch</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_throw'>throw</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>456</span><span class='rparen'>)</span> <span class='rbrace'>}</span>  <span class='comment'># =&gt; 456
</span><span class='id identifier rubyid_catch'>catch</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_throw'>throw</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span> <span class='rbrace'>}</span>       <span class='comment'># =&gt; nil
</span></code></pre>

<p>When <code>tag</code> is passed as the first argument, <code>catch</code>
yields it as the parameter of the block.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_catch'>catch</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='int'>2</span> <span class='rbrace'>}</span>       <span class='comment'># =&gt; 3
</span></code></pre>

<p>When no <code>tag</code> is given, <code>catch</code> yields a new unique
object (as from <code>Object.new</code>) as the block parameter. This
object can then be used as the argument to <code>throw</code>, and will
match the correct <code>catch</code> block.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_catch'>catch</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_obj_A'>obj_A</span><span class='op'>|</span>
  <span class='id identifier rubyid_catch'>catch</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_obj_B'>obj_B</span><span class='op'>|</span>
    <span class='id identifier rubyid_throw'>throw</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_B'>obj_B</span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This puts is not reached</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This puts is displayed</span><span class='tstring_end'>&quot;</span></span>
  <span class='int'>456</span>
<span class='kw'>end</span>

<span class='comment'># =&gt; 456
</span>
<span class='id identifier rubyid_catch'>catch</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_obj_A'>obj_A</span><span class='op'>|</span>
  <span class='id identifier rubyid_catch'>catch</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_obj_B'>obj_B</span><span class='op'>|</span>
    <span class='id identifier rubyid_throw'>throw</span><span class='lparen'>(</span><span class='id identifier rubyid_obj_A'>obj_A</span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This puts is still not reached</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Now this puts is also not reached</span><span class='tstring_end'>&quot;</span></span>
  <span class='int'>456</span>
<span class='kw'>end</span>

<span class='comment'># =&gt; 123
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>tag</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1947
1948
1949
1950
1951
1952
1953
1954
1955
1956
1957
1958
1959</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 1947</span>

static VALUE
rb_f_catch(int argc, VALUE *argv)
{
    VALUE tag;

    if (argc == 0) {
	tag = rb_obj_alloc(rb_cObject);
    }
    else {
	rb_scan_args(argc, argv, &quot;01&quot;, &amp;tag);
    }
    return rb_catch_obj(tag, catch_i, 0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Complex-instance_method">
  
    #<strong>Complex</strong>(x[, y])  &#x21d2; <tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns x+i*y;</p>

<pre class="code"><code class=""><span class='const'>Complex</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; (1+2i)
</span><span class='const'>Complex</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1+2i</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; (1+2i)
</span><span class='const'>Complex</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>     <span class='comment'>#=&gt; TypeError
</span><span class='const'>Complex</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; TypeError
</span></code></pre>

<p>Syntax of string form:</p>

<pre class="code"><code class="">string form = extra spaces , complex , extra spaces ;
complex = real part | [ sign ] , imaginary part
        | real part , sign , imaginary part
        | rational , &quot;@&quot; , rational ;
real part = rational ;
imaginary part = imaginary unit | unsigned rational , imaginary unit ;
rational = [ sign ] , unsigned rational ;
unsigned rational = numerator | numerator , &quot;/&quot; , denominator ;
numerator = integer part | fractional part | integer part , fractional part ;
denominator = digits ;
integer part = digits ;
fractional part = &quot;.&quot; , digits , [ ( &quot;e&quot; | &quot;E&quot; ) , [ sign ] , digits ] ;
imaginary unit = &quot;i&quot; | &quot;I&quot; | &quot;j&quot; | &quot;J&quot; ;
sign = &quot;-&quot; | &quot;+&quot; ;
digits = digit , { digit | &quot;_&quot; , digit };
digit = &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | &quot;8&quot; | &quot;9&quot; ;
extra spaces = ? \s* ? ;</code></pre>

<p>See String#to_c.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


465
466
467
468
469</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'complex.c', line 465</span>

static VALUE
nucomp_f_complex(int argc, VALUE *argv, VALUE klass)
{
    return nucomp_s_convert(argc, argv, rb_cComplex);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eval-instance_method">
  
    #<strong>eval</strong>(string[, binding [, filename [,lineno]]])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Evaluates the Ruby expression(s) in <em>string</em>. If <em>binding</em> is
given, which must be a <code>Binding</code> object, the evaluation is
performed in its context. If the optional <em>filename</em> and
<em>lineno</em> parameters are present, they will be used when reporting
syntax errors.</p>

<pre class="code"><code class=""><span class='kw'>def</span> <span class='id identifier rubyid_get_binding'>get_binding</span><span class='lparen'>(</span><span class='id identifier rubyid_str'>str</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_binding'>binding</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_str'>str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_eval'>eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>str + &#39; Fred&#39;</span><span class='tstring_end'>&quot;</span></span>                      <span class='comment'>#=&gt; &quot;hello Fred&quot;
</span><span class='id identifier rubyid_eval'>eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>str + &#39; Fred&#39;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_get_binding'>get_binding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bye</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;bye Fred&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388
1389
1390
1391
1392
1393
1394
1395</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 1372</span>

VALUE
rb_f_eval(int argc, const VALUE *argv, VALUE self)
{
    VALUE src, scope, vfile, vline;
    VALUE file = Qundef;
    int line = 1;

    rb_scan_args(argc, argv, &quot;13&quot;, &amp;src, &amp;scope, &amp;vfile, &amp;vline);
    SafeStringValue(src);
    if (argc &gt;= 3) {
	StringValue(vfile);
    }
    if (argc &gt;= 4) {
	line = NUM2INT(vline);
    }

    if (!NIL_P(vfile))
	file = vfile;

    if (NIL_P(scope))
	return eval_string_with_cref(self, src, NULL, file, line);
    else
	return eval_string_with_scope(scope, src, file, line);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exec-instance_method">
  
    #<strong>exec</strong>([env,][,options])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Replaces the current process by running the given external
<em>command</em>, which can take one of the following forms:</p>
<dl class="rdoc-list label-list"><dt><code>exec(commandline)</code>
<dd>
<p>command line string which is passed to the standard shell</p>
<dl class="rdoc-list label-list"><dt><code>exec(cmdname, arg1, ...)</code>
<dd>
<p>command name and one or more arguments (no shell)</p>
<dl class="rdoc-list label-list"><dt><code>exec([cmdname, argv0], arg1, ...)</code>
<dd>
<p>command name, <a href="0">argv</a> and zero or more arguments (no shell)</p>

<p>In the first form, the string is taken as a command line that is subject to
shell expansion before being executed.</p>

<p>The standard shell always means <code>&quot;/bin/sh&quot;</code> on
Unix-like systems, same as <code>ENV["RUBYSHELL"]</code> (or
<code>ENV["COMSPEC"]</code> on Windows NT series), and similar.</p>

<p>If the string from the first form (<code>exec(&quot;command&quot;)</code>)
follows these simple rules:</p>
<ul><li>
<p>no meta characters</p>
</li><li>
<p>no shell reserved word and no special built-in</p>
</li><li>
<p>Ruby invokes the command directly without shell</p>
</li></ul>

<p>You can force shell invocation by adding “;” to the string (because “;” is
a meta character).</p>

<p>Note that this behavior is observable by pid obtained (return value of
spawn() and IO#pid for IO.popen) is the pid of the invoked command, not
shell.</p>

<p>In the second form (<code>exec(&quot;command1&quot;, &quot;arg1&quot;,
...)</code>), the first is taken as a command name and the rest are passed
as parameters to command with no shell expansion.</p>

<p>In the third form (<code>exec([&quot;command&quot;, &quot;argv0&quot;],
&quot;arg1&quot;, ...)</code>), starting a two-element array at the
beginning of the command, the first element is the command to be executed,
and the second argument is used as the <code>argv[0]</code> value, which
may show up in process listings.</p>

<p>In order to execute the command, one of the <code>exec(2)</code> system
calls are used, so the running command may inherit some of the environment
of the original program (including open file descriptors).</p>

<p>This behavior is modified by the given <code>env</code> and
<code>options</code> parameters. See ::spawn for details.</p>

<p>If the command fails to execute (typically <code>Errno::ENOENT</code> when
it was not found) a SystemCallError exception is raised.</p>

<p>This method modifies process attributes according to given
<code>options</code> before <code>exec(2)</code> system call. See ::spawn
for more details about the given <code>options</code>.</p>

<p>The modified attributes may be retained when <code>exec(2)</code> system
call fails.</p>

<p>For example, hard resource limits are not restorable.</p>

<p>Consider to create a child process using ::spawn or Kernel#system if this
is not acceptable.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_exec'>exec</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo *</span><span class='tstring_end'>&quot;</span></span>       <span class='comment'># echoes list of files in current directory
</span><span class='comment'># never get here
</span>
<span class='id identifier rubyid_exec'>exec</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span>    <span class='comment'># echoes an asterisk
</span><span class='comment'># never get here
</span></code></pre>
</dd></dl>
</dd></dl>
</dd></dl>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2617
2618
2619
2620
2621
2622
2623
2624
2625
2626
2627
2628
2629
2630
2631
2632
2633
2634
2635
2636
2637
2638
2639</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 2617</span>

VALUE
rb_f_exec(int argc, const VALUE *argv)
{
    VALUE execarg_obj, fail_str;
    struct rb_execarg *eargp;
#define CHILD_ERRMSG_BUFLEN 80
    char errmsg[CHILD_ERRMSG_BUFLEN] = { &#39;\0&#39; };
    int err;

    execarg_obj = rb_execarg_new(argc, argv, TRUE, FALSE);
    eargp = rb_execarg_get(execarg_obj);
    before_exec(); /* stop timer thread before redirects */
    rb_execarg_parent_start(execarg_obj);
    fail_str = eargp-&gt;use_shell ? eargp-&gt;invoke.sh.shell_script : eargp-&gt;invoke.cmd.command_name;

    err = exec_async_signal_safe(eargp, errmsg, sizeof(errmsg));
    after_exec(); /* restart timer thread */

    rb_exec_fail(eargp, err, errmsg);
    RB_GC_GUARD(execarg_obj);
    rb_syserr_fail_str(err, fail_str);
    UNREACHABLE;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exit-instance_method">
  
    
      <span class="overload">#<strong>exit</strong>(status = true)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>Kernel::exit</strong>(status = true)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>Process::exit</strong>(status = true)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initiates the termination of the Ruby script by raising the
<code>SystemExit</code> exception. This exception may be caught. The
optional parameter is used to return a status code to the invoking
environment. <code>true</code> and <code>FALSE</code> of <em>status</em>
means success and failure respectively.  The interpretation of other
integer values are system dependent.</p>

<pre class="code"><code class=""><span class='kw'>begin</span>
  <span class='id identifier rubyid_exit'>exit</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>never get here</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="SystemExit.html" title="SystemExit (class)">SystemExit</a></span></span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rescued a SystemExit exception</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>after begin block</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">rescued a SystemExit exception
after begin block</code></pre>

<p>Just prior to termination, Ruby executes any <code>at_exit</code> functions
(see Kernel::at_exit) and runs any object finalizers (see
ObjectSpace::define_finalizer).</p>

<pre class="code"><code class=""><span class='id identifier rubyid_at_exit'>at_exit</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>at_exit function</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='const'><span class='object_link'><a href="ObjectSpace.html" title="ObjectSpace (module)">ObjectSpace</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define_finalizer'><span class='object_link'><a href="ObjectSpace.html#define_finalizer-class_method" title="ObjectSpace.define_finalizer (method)">define_finalizer</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>  <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>in finalizer</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='id identifier rubyid_exit'>exit</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">at_exit function
in finalizer</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3852
3853
3854
3855
3856
3857
3858
3859
3860
3861
3862
3863
3864
3865
3866</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 3852</span>

VALUE
rb_f_exit(int argc, const VALUE *argv)
{
    int istatus;

    if (rb_check_arity(argc, 0, 1) == 1) {
	istatus = exit_status_code(argv[0]);
    }
    else {
	istatus = EXIT_SUCCESS;
    }
    rb_exit(istatus);

    UNREACHABLE;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exit!-instance_method">
  
    #<strong>exit!</strong>(status = false)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Exits the process immediately. No exit handlers are run. <em>status</em> is
returned to the underlying system as the exit status.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="Process.html" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_exit!'><span class='object_link'><a href="Process.html#exit!-class_method" title="Process.exit! (method)">exit!</a></span></span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3781
3782
3783
3784
3785
3786
3787
3788
3789
3790
3791
3792
3793
3794
3795</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 3781</span>

static VALUE
rb_f_exit_bang(int argc, VALUE *argv, VALUE obj)
{
    int istatus;

    if (rb_check_arity(argc, 0, 1) == 1) {
	istatus = exit_status_code(argv[0]);
    }
    else {
	istatus = EXIT_FAILURE;
    }
    _exit(istatus);

    UNREACHABLE;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fail-instance_method">
  
    
      <span class="overload">#<strong>raise</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>raise</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>raise</strong>(exception[, string [, array]])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>fail</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>fail</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>fail</strong>(exception[, string [, array]])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>With no arguments, raises the exception in <code>$!</code> or raises a
<code>RuntimeError</code> if <code>$!</code> is <code>nil</code>. With a
single <code>String</code> argument, raises a <code>RuntimeError</code>
with the string as a message. Otherwise, the first parameter should be the
name of an <code>Exception</code> class (or an object that returns an
<code>Exception</code> object when sent an <code>exception</code> message).
The optional second parameter sets the message associated with the
exception, and the third parameter is an array of callback information.
Exceptions are caught by the <code>rescue</code> clause of
<code>begin...end</code> blocks.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to create socket</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="ArgumentError.html" title="ArgumentError (class)">ArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No parameters</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_caller'>caller</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'eval.c', line 699</span>

static VALUE
rb_f_raise(int argc, VALUE *argv)
{
    VALUE err;
    VALUE opts[raise_max_opt], *const cause = &amp;opts[raise_opt_cause];

    argc = extract_raise_opts(argc, argv, opts);
    if (argc == 0) {
	if (*cause != Qundef) {
	    rb_raise(rb_eArgError, &quot;only cause is given with no arguments&quot;);
	}
	err = get_errinfo();
	if (!NIL_P(err)) {
	    argc = 1;
	    argv = &amp;err;
	}
    }
    rb_raise_jump(rb_make_exception(argc, argv), *cause);

    UNREACHABLE;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Float-instance_method">
  
    #<strong>Float</strong>(arg)  &#x21d2; <tt><span class='object_link'><a href="#Float-instance_method" title="Kernel#Float (method)">Float</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <em>arg</em> converted to a float. Numeric types are converted
directly, and with exception to string and nil the rest are converted using
<em>arg</em>.to_f. Converting a <code>string</code> with invalid characters
will result in a <code>ArgumentError</code>. Converting <code>nil</code>
generates a <code>TypeError</code>.</p>

<pre class="code"><code class=""><span class='const'>Float</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>                 <span class='comment'>#=&gt; 1.0
</span><span class='const'>Float</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123.456</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>         <span class='comment'>#=&gt; 123.456
</span><span class='const'>Float</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>123.0_badstring</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; ArgumentError: invalid value for Float(): &quot;123.0_badstring&quot;
</span><span class='const'>Float</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>               <span class='comment'>#=&gt; TypeError: can&#39;t convert nil into Float
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Float-instance_method" title="Kernel#Float (method)">Float</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3427
3428
3429
3430
3431</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'object.c', line 3427</span>

static VALUE
rb_f_float(VALUE obj, VALUE arg)
{
    return rb_Float(arg);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fork-instance_method">
  
    
      <span class="overload">#<strong>fork</strong> { ... } &#x21d2; <tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>fork</strong> { ... } &#x21d2; <tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a subprocess. If a block is specified, that block is run in the
subprocess, and the subprocess terminates with a status of zero. Otherwise,
the <code>fork</code> call returns twice, once in the parent, returning the
process ID of the child, and once in the child, returning <em>nil</em>. The
child process can exit using <code>Kernel.exit!</code> to avoid running any
<code>at_exit</code> functions. The parent process should use
<code>Process.wait</code> to collect the termination statuses of its
children or use <code>Process.detach</code> to register disinterest in
their status; otherwise, the operating system may accumulate zombie
processes.</p>

<p>The thread calling fork is the only thread in the created child process.
fork doesn&#39;t copy other threads.</p>

<p>If fork is not usable, Process.respond_to?(:fork) returns false.</p>

<p>Note that fork(2) is not available on some platforms like Windows and
NetBSD 4. Therefore you should use spawn() instead of fork().</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>fork</strong> { ... } &#x21d2; <tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>fork</strong> { ... } &#x21d2; <tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3720
3721
3722
3723
3724
3725
3726
3727
3728
3729
3730
3731
3732
3733
3734
3735
3736
3737
3738
3739
3740
3741
3742</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 3720</span>

static VALUE
rb_f_fork(VALUE obj)
{
    rb_pid_t pid;

    switch (pid = rb_fork_ruby(NULL)) {
      case 0:
	rb_thread_atfork();
	if (rb_block_given_p()) {
	    int status;
	    rb_protect(rb_yield, Qundef, &amp;status);
	    ruby_stop(status);
	}
	return Qnil;

      case -1:
	rb_sys_fail(&quot;fork(2)&quot;);
	return Qnil;

      default:
	return PIDT2NUM(pid);
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format-instance_method">
  
    
      <span class="overload">#<strong>format</strong>(format_string[, arguments...])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
    
      <span class="overload">#<strong>sprintf</strong>(format_string[, arguments...])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the string resulting from applying <em>format_string</em> to any
additional arguments.  Within the format string, any characters other than
format sequences are copied to the result.</p>

<p>The syntax of a format sequence is follows.</p>

<pre class="code"><code class="">%[flags][width][.precision]type</code></pre>

<p>A format sequence consists of a percent sign, followed by optional flags,
width, and precision indicators, then terminated with a field type
character.  The field type controls how the corresponding
<code>sprintf</code> argument is to be interpreted, while the flags modify
that interpretation.</p>

<p>The field type characters are:</p>

<pre class="code"><code class="">Field |  Integer Format
------+--------------------------------------------------------------
  b   | Convert argument as a binary number.
      | Negative numbers will be displayed as a two&#39;s complement
      | prefixed with `..1&#39;.
  B   | Equivalent to `b&#39;, but uses an uppercase 0B for prefix
      | in the alternative format by #.
  d   | Convert argument as a decimal number.
  i   | Identical to `d&#39;.
  o   | Convert argument as an octal number.
      | Negative numbers will be displayed as a two&#39;s complement
      | prefixed with `..7&#39;.
  u   | Identical to `d&#39;.
  x   | Convert argument as a hexadecimal number.
      | Negative numbers will be displayed as a two&#39;s complement
      | prefixed with `..f&#39; (representing an infinite string of
      | leading &#39;ff&#39;s).
  X   | Equivalent to `x&#39;, but uses uppercase letters.

Field |  Float Format
------+--------------------------------------------------------------
  e   | Convert floating point argument into exponential notation
      | with one digit before the decimal point as [-]d.dddddde[+-]dd.
      | The precision specifies the number of digits after the decimal
      | point (defaulting to six).
  E   | Equivalent to `e&#39;, but uses an uppercase E to indicate
      | the exponent.
  f   | Convert floating point argument as [-]ddd.dddddd,
      | where the precision specifies the number of digits after
      | the decimal point.
  g   | Convert a floating point number using exponential form
      | if the exponent is less than -4 or greater than or
      | equal to the precision, or in dd.dddd form otherwise.
      | The precision specifies the number of significant digits.
  G   | Equivalent to `g&#39;, but use an uppercase `E&#39; in exponent form.
  a   | Convert floating point argument as [-]0xh.hhhhp[+-]dd,
      | which is consisted from optional sign, &quot;0x&quot;, fraction part
      | as hexadecimal, &quot;p&quot;, and exponential part as decimal.
  A   | Equivalent to `a&#39;, but use uppercase `X&#39; and `P&#39;.

Field |  Other Format
------+--------------------------------------------------------------
  c   | Argument is the numeric code for a single character or
      | a single character string itself.
  p   | The valuing of argument.inspect.
  s   | Argument is a string to be substituted.  If the format
      | sequence contains a precision, at most that many characters
      | will be copied.
  %   | A percent sign itself will be displayed.  No argument taken.</code></pre>

<p>The flags modifies the behavior of the formats. The flag characters are:</p>

<pre class="code"><code class="">Flag     | Applies to    | Meaning
---------+---------------+-----------------------------------------
space    | bBdiouxX      | Leave a space at the start of
         | aAeEfgG       | non-negative numbers.
         | (numeric fmt) | For `o&#39;, `x&#39;, `X&#39;, `b&#39; and `B&#39;, use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
(digit)$ | all           | Specifies the absolute argument number
         |               | for this field.  Absolute and relative
         |               | argument numbers cannot be mixed in a
         |               | sprintf string.
---------+---------------+-----------------------------------------
 #       | bBoxX         | Use an alternative format.
         | aAeEfgG       | For the conversions `o&#39;, increase the precision
         |               | until the first digit will be `0&#39; if
         |               | it is not formatted as complements.
         |               | For the conversions `x&#39;, `X&#39;, `b&#39; and `B&#39;
         |               | on non-zero, prefix the result with ``0x&#39;&#39;,
         |               | ``0X&#39;&#39;, ``0b&#39;&#39; and ``0B&#39;&#39;, respectively.
         |               | For `a&#39;, `A&#39;, `e&#39;, `E&#39;, `f&#39;, `g&#39;, and &#39;G&#39;,
         |               | force a decimal point to be added,
         |               | even if no digits follow.
         |               | For `g&#39; and &#39;G&#39;, do not remove trailing zeros.
---------+---------------+-----------------------------------------
+        | bBdiouxX      | Add a leading plus sign to non-negative
         | aAeEfgG       | numbers.
         | (numeric fmt) | For `o&#39;, `x&#39;, `X&#39;, `b&#39; and `B&#39;, use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
-        | all           | Left-justify the result of this conversion.
---------+---------------+-----------------------------------------
0 (zero) | bBdiouxX      | Pad with zeros, not spaces.
         | aAeEfgG       | For `o&#39;, `x&#39;, `X&#39;, `b&#39; and `B&#39;, radix-1
         | (numeric fmt) | is used for negative numbers formatted as
         |               | complements.
---------+---------------+-----------------------------------------
*        | all           | Use the next argument as the field width.
         |               | If negative, left-justify the result. If the
         |               | asterisk is followed by a number and a dollar
         |               | sign, use the indicated argument as the width.</code></pre>

<p>Examples of flags:</p>

<pre class="code"><code class=""><span class='comment'># `+&#39; and space flag specifies the sign of non-negative numbers.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;+123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>% d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot; 123&quot;
</span>
<span class='comment'># `#&#39; flag for `o&#39; increases number of digits to show `0&#39;.
</span><span class='comment'># `+&#39; and space flag changes format of negative numbers.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;173&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;0173&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;-173&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;..7605&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;..7605&quot;
</span>
<span class='comment'># `#&#39; flag for `x&#39; add a prefix `0x&#39; for non-zero numbers.
</span><span class='comment'># `+&#39; and space flag disables complements for negative numbers.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;7b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;0x7b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;-7b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;..f85&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;0x..f85&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;0&quot;
</span>
<span class='comment'># `#&#39; for `X&#39; uses the prefix `0X&#39;.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%X</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;7B&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#X</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;0X7B&quot;
</span>
<span class='comment'># `#&#39; flag for `b&#39; add a prefix `0b&#39; for non-zero numbers.
</span><span class='comment'># `+&#39; and space flag disables complements for negative numbers.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;1111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;0b1111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;-1111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;..10000101&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;0b..10000101&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;0&quot;
</span>
<span class='comment'># `#&#39; for `B&#39; uses the prefix `0B&#39;.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%B</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;1111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#B</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;0B1111011&quot;
</span>
<span class='comment'># `#&#39; for `e&#39; forces to show the decimal point.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%.0e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;1e+00&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#.0e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;1.e+00&quot;
</span>
<span class='comment'># `#&#39; for `f&#39; forces to show the decimal point.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%.0f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1234</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;1234&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#.0f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1234</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;1234.&quot;
</span>
<span class='comment'># `#&#39; for `g&#39; forces to show the decimal point.
</span><span class='comment'># It also disables stripping lowest zeros.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>123.4</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;123.4&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>123.4</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;123.400&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123456</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;123456&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123456</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;123456.&quot;
</span></code></pre>

<p>The field width is an optional integer, followed optionally by a period and
a precision.  The width specifies the minimum number of characters that
will be written to the result for this field.</p>

<p>Examples of width:</p>

<pre class="code"><code class=""><span class='comment'># padding is done by spaces,       width=20
</span><span class='comment'># 0 or radix-1.             &lt;------------------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;                 123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+20d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;                +123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%020d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;00000000000000000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+020d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;+0000000000000000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>% 020d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot; 0000000000000000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-20d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;123                 &quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-+20d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;+123                &quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%- 20d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot; 123                &quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%020x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;..ffffffffffffffff85&quot;
</span></code></pre>

<p>For numeric fields, the precision controls the number of decimal places
displayed.  For string fields, the precision determines the maximum number
of characters to be copied from the string.  (Thus, the format sequence
<code>%10.10s</code> will always contribute exactly ten characters to the
result.)</p>

<p>Examples of precisions:</p>

<pre class="code"><code class=""><span class='comment'># precision for `d&#39;, &#39;o&#39;, &#39;x&#39; and &#39;b&#39; is
</span><span class='comment'># minimum number of digits               &lt;------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            00000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            00000173&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            0000007b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            01111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;           -00000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;            ..777605&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;            ..ffff85&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>11</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            ..110101&quot;
</span>
<span class='comment'># &quot;0x&quot; and &quot;0b&quot; for `#x&#39; and `#b&#39; is not counted for
</span><span class='comment'># precision but &quot;0&quot; for `#o&#39; is counted.  &lt;------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            00000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            00000173&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;          0x0000007b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;          0b01111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;           -00000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;            ..777605&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;          0x..ffff85&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>11</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;          0b..110101&quot;
</span>
<span class='comment'># precision for `e&#39; is number of
</span><span class='comment'># digits after the decimal point           &lt;------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>1234.56789</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;      1.23456789e+03&quot;
</span>
<span class='comment'># precision for `f&#39; is number of
</span><span class='comment'># digits after the decimal point               &lt;------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>1234.56789</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;       1234.56789000&quot;
</span>
<span class='comment'># precision for `g&#39; is number of
</span><span class='comment'># significant digits                          &lt;-------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>1234.56789</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;           1234.5679&quot;
</span>
<span class='comment'>#                                         &lt;-------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123456789</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;       1.2345679e+08&quot;
</span>
<span class='comment'># precision for `s&#39; is
</span><span class='comment'># maximum number of characters                    &lt;------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string test</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;            string t&quot;
</span></code></pre>

<p>Examples:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%d %04x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>               <span class='comment'>#=&gt; &quot;123 007b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%08b &#39;%4s&#39;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; &quot;01111011 &#39; 123&#39;&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%1$*2$s %2$d %1$s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>8</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;   hello 8 hello&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%1$*2$s %2$d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>8</span><span class='rparen'>)</span>       <span class='comment'>#=&gt; &quot;hello    -8&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+g:% g:%-g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>1.23</span><span class='comma'>,</span> <span class='float'>1.23</span><span class='comma'>,</span> <span class='float'>1.23</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;+1.23: 1.23:1.23&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%u</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span>                        <span class='comment'>#=&gt; &quot;-123&quot;
</span></code></pre>

<p>For more complex formatting, Ruby supports a reference by name.
%&lt;name&gt;s style uses format style, but %name style doesn&#39;t.</p>

<p>Examples:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%&lt;foo&gt;d : %&lt;bar&gt;f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='symbol'>:foo</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbol'>:bar</span> <span class='op'>=&gt;</span> <span class='int'>2</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='comment'>#=&gt; 1 : 2.000000
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%{foo}f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='symbol'>:foo</span> <span class='op'>=&gt;</span> <span class='int'>1</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='comment'># =&gt; &quot;1f&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>format</strong>(format_string[, arguments...])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>sprintf</strong>(format_string[, arguments...])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


458
459
460
461
462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sprintf.c', line 458</span>

VALUE
rb_f_sprintf(int argc, const VALUE *argv)
{
    return rb_str_format(argc - 1, argv + 1, GETNTHARG(0));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gets-instance_method">
  
    
      <span class="overload">#<strong>gets</strong>(sep = $/[, getline_args])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>gets</strong>(limit[, getline_args])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>gets</strong>(sep, limit[, getline_args])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt><sup>?</sup> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns (and assigns to <code>$_</code>) the next line from the list of
files in <code>ARGV</code> (or <code>$*</code>), or from standard input if
no files are present on the command line. Returns <code>nil</code> at end
of file. The optional argument specifies the record separator. The
separator is included with the contents of each record. A separator of
<code>nil</code> reads the entire contents, and a zero-length separator
reads the input one paragraph at a time, where paragraphs are divided by
two consecutive newlines.  If the first argument is an integer, or optional
second argument is given, the returning string would not be longer than the
given value in bytes.  If multiple filenames are present in
<code>ARGV</code>, <code>gets(nil)</code> will read the contents one file
at a time.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="top-level-namespace.html#ARGV-constant" title="ARGV (constant)">ARGV</a></span></span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testfile</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_print'>print</span> <span class='kw'>while</span> <span class='id identifier rubyid_gets'>gets</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">This is line one
This is line two
This is line three
And so on...</code></pre>

<p>The style of programming using <code>$_</code> as an implicit parameter is
gradually losing favor in the Ruby community.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>gets</strong>(sep = $/[, getline_args])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>gets</strong>(limit[, getline_args])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>gets</strong>(sep, limit[, getline_args])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8694
8695
8696
8697
8698
8699
8700
8701</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 8694</span>

static VALUE
rb_f_gets(int argc, VALUE *argv, VALUE recv)
{
    if (recv == argf) {
	return argf_gets(argc, argv, argf);
    }
    return rb_funcallv(argf, idGets, argc, argv);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="global_variables-instance_method">
  
    #<strong>global_variables</strong>  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array of the names of global variables.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_global_variables'>global_variables</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>std</span><span class='regexp_end'>/</span></span>   <span class='comment'>#=&gt; [:$stdin, :$stdout, :$stderr]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


885
886
887
888
889
890
891
892
893
894
895
896
897
898
899
900
901
902
903
904
905
906
907
908
909
910
911</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'variable.c', line 885</span>

VALUE
rb_f_global_variables(void)
{
    VALUE ary = rb_ary_new();
    VALUE sym, backref = rb_backref_get();

    rb_id_table_foreach(rb_global_tbl, gvar_i, (void *)ary);
    if (!NIL_P(backref)) {
	char buf[2];
	int i, nmatch = rb_match_count(backref);
	buf[0] = &#39;$&#39;;
	for (i = 1; i &lt;= nmatch; ++i) {
	    if (!rb_match_nth_defined(i, backref)) continue;
	    if (i &lt; 10) {
		/* probably reused, make static ID */
		buf[1] = (char)(i + &#39;0&#39;);
		sym = ID2SYM(rb_intern2(buf, 2));
	    }
	    else {
		/* dynamic symbol */
		sym = rb_str_intern(rb_sprintf(&quot;$%d&quot;, i));
	    }
	    rb_ary_push(ary, sym);
	}
    }
    return ary;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Hash-instance_method">
  
    #<strong>Hash</strong>(arg)  &#x21d2; <tt><span class='object_link'><a href="#Hash-instance_method" title="Kernel#Hash (method)">Hash</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts <em>arg</em> to a <code>Hash</code> by calling
<em>arg</em><code>.to_hash</code>. Returns an empty <code>Hash</code> when
<em>arg</em> is <code>nil</code> or <code>[]</code>.</p>

<pre class="code"><code class=""><span class='const'>Hash</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>          <span class='comment'>#=&gt; {}
</span><span class='const'>Hash</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>         <span class='comment'>#=&gt; {}
</span><span class='const'>Hash</span><span class='lparen'>(</span><span class='label'>key:</span> <span class='symbol'>:value</span><span class='rparen'>)</span> <span class='comment'>#=&gt; {:key =&gt; :value}
</span><span class='const'>Hash</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rbracket'>]</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; TypeError
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Hash-instance_method" title="Kernel#Hash (method)">Hash</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3664
3665
3666
3667
3668</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'object.c', line 3664</span>

static VALUE
rb_f_hash(VALUE obj, VALUE arg)
{
    return rb_Hash(arg);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Integer-instance_method">
  
    #<strong>Integer</strong>(arg, base = 0)  &#x21d2; <tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts <em>arg</em> to an <code>Integer</code>. Numeric types are
converted directly (with floating point numbers being truncated). 
<em>base</em> (0, or between 2 and 36) is a base for integer string
representation.  If <em>arg</em> is a <code>String</code>, when
<em>base</em> is omitted or equals zero, radix indicators (<code>0</code>,
<code>0b</code>, and <code>0x</code>) are honored. In any case, strings
should be strictly conformed to numeric representation. This behavior is
different from that of <code>String#to_i</code>.  Non string values will be
converted by first trying <code>to_int</code>, then <code>to_i</code>.
Passing <code>nil</code> raises a TypeError.</p>

<pre class="code"><code class=""><span class='const'>Integer</span><span class='lparen'>(</span><span class='float'>123.999</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; 123
</span><span class='const'>Integer</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0x1a</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>     <span class='comment'>#=&gt; 26
</span><span class='const'>Integer</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Time.html#initialize-instance_method" title="Time#initialize (method)">new</a></span></span><span class='rparen'>)</span>   <span class='comment'>#=&gt; 1204973019
</span><span class='const'>Integer</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0930</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>10</span><span class='rparen'>)</span> <span class='comment'>#=&gt; 930
</span><span class='const'>Integer</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>111</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; 7
</span><span class='const'>Integer</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>        <span class='comment'>#=&gt; TypeError
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3178
3179
3180
3181
3182
3183
3184
3185
3186
3187
3188
3189
3190
3191
3192
3193
3194
3195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'object.c', line 3178</span>

static VALUE
rb_f_integer(int argc, VALUE *argv, VALUE obj)
{
    VALUE arg = Qnil;
    int base = 0;

    switch (argc) {
      case 2:
	base = NUM2INT(argv[1]);
      case 1:
	arg = argv[0];
	break;
      default:
	/* should cause ArgumentError */
	rb_scan_args(argc, argv, &quot;11&quot;, NULL, NULL);
    }
    return rb_convert_to_integer(arg, base);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="iterator?-instance_method">
  
    
      <span class="overload">#<strong>block_given?</strong>  &#x21d2; <tt>Boolean</tt> </span>
    
      <span class="overload">#<strong>iterator?</strong>  &#x21d2; <tt>Boolean</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>true</code> if <code>yield</code> would execute a block in
the current context. The <code>iterator?</code> form is mildly deprecated.</p>

<pre class="code"><code class=""><span class='kw'>def</span> <span class='id identifier rubyid_try'>try</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>yield</span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no block</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_try'>try</span>                  <span class='comment'>#=&gt; &quot;no block&quot;
</span><span class='id identifier rubyid_try'>try</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>      <span class='comment'>#=&gt; &quot;hello&quot;
</span><span class='id identifier rubyid_try'>try</span> <span class='kw'>do</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>end</span>   <span class='comment'>#=&gt; &quot;hello&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>block_given?</strong>  &#x21d2; <tt>Boolean</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>iterator?</strong>  &#x21d2; <tt>Boolean</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2120
2121
2122
2123
2124
2125
2126
2127
2128
2129
2130
2131
2132
2133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 2120</span>

static VALUE
rb_f_block_given_p(void)
{
    rb_execution_context_t *ec = GET_EC();
    rb_control_frame_t *cfp = ec-&gt;cfp;
    cfp = vm_get_ruby_level_caller_cfp(ec, RUBY_VM_PREVIOUS_CONTROL_FRAME(cfp));

    if (cfp != NULL &amp;&amp; VM_CF_BLOCK_HANDLER(cfp) != VM_BLOCK_HANDLER_NONE) {
	return Qtrue;
    }
    else {
	return Qfalse;
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lambda-instance_method">
  
    #<strong>lambda</strong> {|...| ... } &#x21d2; <tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <code>Proc.new</code>, except the resulting Proc objects
check the number of parameters passed when called.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>...</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


805
806
807
808
809</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'proc.c', line 805</span>

VALUE
rb_block_lambda(void)
{
    return proc_new(rb_cProc, TRUE);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="load-instance_method">
  
    #<strong>load</strong>(filename, wrap = false)  &#x21d2; <tt>true</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Loads and executes the Ruby program in the file <em>filename</em>. If the
filename does not resolve to an absolute path, the file is searched for in
the library directories listed in <code>$:</code>. If the optional
<em>wrap</em> parameter is <code>true</code>, the loaded script will be
executed under an anonymous module, protecting the calling program&#39;s
global namespace. In no circumstance will any local variables in the loaded
file be propagated to the loading environment.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'load.c', line 693</span>

static VALUE
rb_f_load(int argc, VALUE *argv)
{
    VALUE fname, wrap, path, orig_fname;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;fname, &amp;wrap);

    orig_fname = rb_get_path_check_to_string(fname, rb_safe_level());
    fname = rb_str_encode_ospath(orig_fname);
    RUBY_DTRACE_HOOK(LOAD_ENTRY, RSTRING_PTR(orig_fname));

    path = rb_find_file(fname);
    if (!path) {
	if (!rb_file_load_ok(RSTRING_PTR(fname)))
	    load_failed(orig_fname);
	path = fname;
    }
    rb_load_internal(path, RTEST(wrap));

    RUBY_DTRACE_HOOK(LOAD_RETURN, RSTRING_PTR(orig_fname));

    return Qtrue;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="local_variables-instance_method">
  
    #<strong>local_variables</strong>  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the names of the current local variables.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_fred'>fred</span> <span class='op'>=</span> <span class='int'>1</span>
<span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>1</span><span class='op'>..</span><span class='int'>10</span>
   <span class='comment'># ...
</span><span class='kw'>end</span>
<span class='id identifier rubyid_local_variables'>local_variables</span>   <span class='comment'>#=&gt; [:fred, :i]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


2063
2064
2065
2066
2067
2068
2069
2070
2071
2072
2073
2074
2075
2076
2077
2078
2079
2080
2081
2082
2083
2084
2085
2086
2087
2088
2089
2090
2091
2092
2093
2094
2095
2096</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 2063</span>

static VALUE
rb_f_local_variables(void)
{
    struct local_var_list vars;
    rb_execution_context_t *ec = GET_EC();
    rb_control_frame_t *cfp = vm_get_ruby_level_caller_cfp(ec, RUBY_VM_PREVIOUS_CONTROL_FRAME(ec-&gt;cfp));
    unsigned int i;

    local_var_list_init(&amp;vars);
    while (cfp) {
	if (cfp-&gt;iseq) {
	    for (i = 0; i &lt; cfp-&gt;iseq-&gt;body-&gt;local_table_size; i++) {
		local_var_list_add(&amp;vars, cfp-&gt;iseq-&gt;body-&gt;local_table[i]);
	    }
	}
	if (!VM_ENV_LOCAL_P(cfp-&gt;ep)) {
	    /* block */
	    const VALUE *ep = VM_CF_PREV_EP(cfp);

	    if (vm_collect_local_variables_in_heap(ep, &amp;vars)) {
		break;
	    }
	    else {
		while (cfp-&gt;ep != ep) {
		    cfp = RUBY_VM_PREVIOUS_CONTROL_FRAME(cfp);
		}
	    }
	}
	else {
	    break;
	}
    }
    return local_var_list_finish(&amp;vars);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="loop-instance_method">
  
    
      <span class="overload">#<strong>loop</strong> { ... } &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>loop</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Repeatedly executes the block.</p>

<p>If no block is given, an enumerator is returned instead.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Input: </span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_gets'>gets</span>
  <span class='kw'>break</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_line'>line</span> <span class='kw'>or</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^qQ</span><span class='regexp_end'>/</span></span>
  <span class='comment'># ...
</span><span class='kw'>end</span>
</code></pre>

<p>StopIteration raised in the block breaks the loop.  In this case, loop
returns the “result” value stored in the exception.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_enum'>enum</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Enumerator.html" title="Enumerator (class)">Enumerator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Enumerator.html#initialize-instance_method" title="Enumerator#initialize (method)">new</a></span></span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
  <span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>one</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>two</span><span class='tstring_end'>&quot;</span></span>
  <span class='symbol'>:ok</span>
<span class='rbrace'>}</span>

<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_loop'>loop</span> <span class='lbrace'>{</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='rbrace'>}</span> <span class='comment'>#=&gt; :ok
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>loop</strong> { ... } &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><dl class="rdoc-list label-list"><dt>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>

</div>
      </li>
    
      
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1106
1107
1108
1109
1110
1111</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 1106</span>

static VALUE
rb_f_loop(VALUE self)
{
    RETURN_SIZED_ENUMERATOR(self, 0, 0, rb_f_loop_size);
    return rb_rescue2(loop_i, (VALUE)0, loop_stop, (VALUE)0, rb_eStopIteration, (VALUE)0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="open-instance_method">
  
    
      <span class="overload">#<strong>open</strong>(path[, mode [, perm]][, opt])  &#x21d2; <tt><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></tt><sup>?</sup> </span>
    
      <span class="overload">#<strong>open</strong>(path[, mode [, perm]][, opt]) {|io| ... } &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates an IO object connected to the given stream, file, or subprocess.</p>

<p>If <code>path</code> does not start with a pipe character (<code>|</code>),
treat it as the name of a file to open using the specified mode (defaulting
to “r”).</p>

<p>The <code>mode</code> is either a string or an integer.  If it is an
integer, it must be bitwise-or of open(2) flags, such as File::RDWR or
File::EXCL.  If it is a string, it is either “fmode”, “fmode:ext_enc”, or
“fmode:ext_enc:int_enc”.</p>

<p>See the documentation of IO.new for full documentation of the
<code>mode</code> string directives.</p>

<p>If a file is being created, its initial permissions may be set using the
<code>perm</code> parameter.  See File.new and the open(2) and chmod(2) man
pages for a description of permissions.</p>

<p>If a block is specified, it will be invoked with the IO object as a
parameter, and the IO will be automatically closed when the block
terminates.  The call returns the value of the block.</p>

<p>If <code>path</code> starts with a pipe character
(<code>&quot;|&quot;</code>), a subprocess is created, connected to the
caller by a pair of pipes.  The returned IO object may be used to write to
the standard input and read from the standard output of this subprocess.</p>

<p>If the command following the pipe is a single minus sign
(<code>&quot;|-&quot;</code>), Ruby forks, and this subprocess is connected
to the parent.  If the command is not <code>&quot;-&quot;</code>, the
subprocess runs the command.</p>

<p>When the subprocess is Ruby (opened via <code>&quot;|-&quot;</code>), the
<code>open</code> call returns <code>nil</code>.  If a block is associated
with the open call, that block will run twice — once in the parent and once
in the child.</p>

<p>The block parameter will be an IO object in the parent and <code>nil</code>
in the child. The parent&#39;s <code>IO</code> object will be connected to
the child&#39;s $stdin and $stdout.  The subprocess will be terminated at
the end of the block.</p>

<h3 id="label-Examples">Examples</h3>

<p>Reading from “testfile”:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testfile</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span>
<span class='kw'>end</span>
</code></pre>

<p>Produces:</p>

<pre class="code"><code class=""><span class='const'>This</span> <span class='id identifier rubyid_is'>is</span> <span class='id identifier rubyid_line'>line</span> <span class='id identifier rubyid_one'>one</span>
</code></pre>

<p>Open a subprocess and read its output:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|date</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span>
<span class='id identifier rubyid_cmd'>cmd</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
</code></pre>

<p>Produces:</p>

<pre class="code"><code class="">Wed Apr  9 08:56:31 CDT 2003</code></pre>

<p>Open a subprocess running the same Ruby program:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|-</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w+</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>in Child</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_exit'>exit</span>
<span class='kw'>else</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Got: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
</code></pre>

<p>Produces:</p>

<pre class="code"><code class="">Got: in Child</code></pre>

<p>Open a subprocess using a block to receive the IO object:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_open'>open</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>|-</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span> <span class='kw'>then</span>
    <span class='comment'># parent process
</span>    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Got: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='comment'># child process
</span>    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>in Child</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>Produces:</p>

<pre class="code"><code class="">Got: in Child</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>open</strong>(path[, mode [, perm]][, opt])  &#x21d2; <tt><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></tt><sup>?</sup> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>open</strong>(path[, mode [, perm]][, opt]) {|io| ... } &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>io</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7060
7061
7062
7063
7064
7065
7066
7067
7068
7069
7070
7071
7072
7073
7074
7075
7076
7077
7078
7079
7080
7081
7082
7083
7084
7085
7086
7087
7088
7089
7090
7091
7092
7093
7094
7095</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 7060</span>

static VALUE
rb_f_open(int argc, VALUE *argv)
{
    ID to_open = 0;
    int redirect = FALSE;

    if (argc &gt;= 1) {
	CONST_ID(to_open, &quot;to_open&quot;);
	if (rb_respond_to(argv[0], to_open)) {
	    redirect = TRUE;
	}
	else {
	    VALUE tmp = argv[0];
	    FilePathValue(tmp);
	    if (NIL_P(tmp)) {
		redirect = TRUE;
	    }
	    else {
                VALUE cmd = check_pipe_command(tmp);
                if (!NIL_P(cmd)) {
		    argv[0] = cmd;
		    return rb_io_s_popen(argc, argv, rb_cIO);
		}
	    }
	}
    }
    if (redirect) {
	VALUE io = rb_funcallv(argv[0], to_open, argc-1, argv+1);

	if (rb_block_given_p()) {
	    return rb_ensure(rb_yield, io, io_close, io);
	}
	return io;
    }
    return rb_io_s_open(argc, argv, rb_cFile);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="p-instance_method">
  
    
      <span class="overload">#<strong>p</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>p</strong>(obj1, obj2, ...)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt> </span>
    
      <span class="overload">#<strong>p</strong>  &#x21d2; <tt>nil</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>For each object, directly writes <em>obj</em>.<code>inspect</code> followed
by a newline to the program&#39;s standard output.</p>

<pre class="code"><code class=""><span class='const'>S</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Struct.html" title="Struct (class)">Struct</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Struct.html#new-class_method" title="Struct.new (method)">new</a></span></span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='symbol'>:state</span><span class='rparen'>)</span>
<span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='const'>S</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dave</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>TX</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_s'>s</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='comment'>#&lt;S name=&quot;dave&quot;, state=&quot;TX&quot;&gt;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>p</strong>(obj)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>p</strong>(obj1, obj2, ...)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>p</strong>  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7728
7729
7730
7731
7732
7733
7734
7735
7736</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 7728</span>

static VALUE
rb_f_p(int argc, VALUE *argv, VALUE self)
{
    struct rb_f_p_arg arg;
    arg.argc = argc;
    arg.argv = argv;

    return rb_uninterruptible(rb_f_p_internal, (VALUE)&amp;arg);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="print-instance_method">
  
    #<strong>print</strong>(obj, ...)  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Prints each object in turn to <code>$stdout</code>. If the output field
separator (<code>$,</code>) is not <code>nil</code>, its contents will
appear between each field. If the output record separator (<code>$\</code>)
is not <code>nil</code>, it will be appended to the output. If no arguments
are given, prints <code>$_</code>. Objects that aren&#39;t strings will be
converted by calling their <code>to_s</code> method.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='int'>99</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='gvar'>$,</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span>
<span class='gvar'>$\</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cat</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='int'>99</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">cat12399
cat, 1, 2, 3, 99</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7491
7492
7493
7494
7495
7496</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 7491</span>

static VALUE
rb_f_print(int argc, const VALUE *argv)
{
    rb_io_print(argc, argv, rb_stdout);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="printf-instance_method">
  
    
      <span class="overload">#<strong>printf</strong>(io, string[, obj ... ])  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">#<strong>printf</strong>(string[, obj ... ])  &#x21d2; <tt>nil</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to:</p>

<pre class="code"><code class="">io.write(sprintf(string, obj, ...))</code></pre>

<p>or</p>

<pre class="code"><code class="">$stdout.write(sprintf(string, obj, ...))</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>printf</strong>(io, string[, obj ... ])  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>printf</strong>(string[, obj ... ])  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7400
7401
7402
7403
7404
7405
7406
7407
7408
7409
7410
7411
7412
7413
7414
7415
7416
7417</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 7400</span>

static VALUE
rb_f_printf(int argc, VALUE *argv)
{
    VALUE out;

    if (argc == 0) return Qnil;
    if (RB_TYPE_P(argv[0], T_STRING)) {
	out = rb_stdout;
    }
    else {
	out = argv[0];
	argv++;
	argc--;
    }
    rb_io_write(out, rb_f_sprintf(argc, argv));

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="proc-instance_method">
  
    #<strong>proc</strong> {|...| ... } &#x21d2; <tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <code>Proc.new</code>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>...</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


791
792
793
794
795</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'proc.c', line 791</span>

VALUE
rb_block_proc(void)
{
    return proc_new(rb_cProc, FALSE);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="putc-instance_method">
  
    #<strong>putc</strong>(int)  &#x21d2; <tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to:</p>

<pre class="code"><code class=""><span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_putc'>putc</span><span class='lparen'>(</span><span class='id identifier rubyid_int'>int</span><span class='rparen'>)</span>
</code></pre>

<p>Refer to the documentation for IO#putc for important information regarding
multi-byte characters.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7543
7544
7545
7546
7547
7548
7549
7550</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 7543</span>

static VALUE
rb_f_putc(VALUE recv, VALUE ch)
{
    if (recv == rb_stdout) {
	return rb_io_putc(recv, ch);
    }
    return rb_funcallv(rb_stdout, rb_intern(&quot;putc&quot;), 1, &amp;ch);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="puts-instance_method">
  
    #<strong>puts</strong>(obj, ...)  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to</p>

<pre class="code"><code class="">$stdout.puts(obj, ...)</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7657
7658
7659
7660
7661
7662
7663
7664</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 7657</span>

static VALUE
rb_f_puts(int argc, VALUE *argv, VALUE recv)
{
    if (recv == rb_stdout) {
	return rb_io_puts(argc, argv, recv);
    }
    return rb_funcallv(rb_stdout, rb_intern(&quot;puts&quot;), argc, argv);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="raise-instance_method">
  
    
      <span class="overload">#<strong>raise</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>raise</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>raise</strong>(exception[, string [, array]])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>fail</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>fail</strong>(string)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>fail</strong>(exception[, string [, array]])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>With no arguments, raises the exception in <code>$!</code> or raises a
<code>RuntimeError</code> if <code>$!</code> is <code>nil</code>. With a
single <code>String</code> argument, raises a <code>RuntimeError</code>
with the string as a message. Otherwise, the first parameter should be the
name of an <code>Exception</code> class (or an object that returns an
<code>Exception</code> object when sent an <code>exception</code> message).
The optional second parameter sets the message associated with the
exception, and the third parameter is an array of callback information.
Exceptions are caught by the <code>rescue</code> clause of
<code>begin...end</code> blocks.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to create socket</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="ArgumentError.html" title="ArgumentError (class)">ArgumentError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No parameters</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_caller'>caller</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'eval.c', line 699</span>

static VALUE
rb_f_raise(int argc, VALUE *argv)
{
    VALUE err;
    VALUE opts[raise_max_opt], *const cause = &amp;opts[raise_opt_cause];

    argc = extract_raise_opts(argc, argv, opts);
    if (argc == 0) {
	if (*cause != Qundef) {
	    rb_raise(rb_eArgError, &quot;only cause is given with no arguments&quot;);
	}
	err = get_errinfo();
	if (!NIL_P(err)) {
	    argc = 1;
	    argv = &amp;err;
	}
    }
    rb_raise_jump(rb_make_exception(argc, argv), *cause);

    UNREACHABLE;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rand-instance_method">
  
    #<strong>rand</strong>(max = 0)  &#x21d2; <tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>If called without an argument, or if <code>max.to_i.abs == 0</code>, rand
returns a pseudo-random floating point number between 0.0 and 1.0,
including 0.0 and excluding 1.0.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_rand'>rand</span>        <span class='comment'>#=&gt; 0.2725926052826416
</span></code></pre>

<p>When <code>max.abs</code> is greater than or equal to 1, <code>rand</code>
returns a pseudo-random integer greater than or equal to 0 and less than
<code>max.to_i.abs</code>.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>100</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; 12
</span></code></pre>

<p>When <code>max</code> is a Range, <code>rand</code> returns a random number
where range.member?(number) == true.</p>

<p>Negative or floating point values for <code>max</code> are allowed, but may
give surprising results.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>100</span><span class='rparen'>)</span> <span class='comment'># =&gt; 87
</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='op'>-</span><span class='float'>0.5</span><span class='rparen'>)</span> <span class='comment'># =&gt; 0.8130921818028143
</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='float'>1.9</span><span class='rparen'>)</span>  <span class='comment'># equivalent to rand(1), which is always 0
</span></code></pre>

<p>Kernel.srand may be used to ensure that sequences of random numbers are
reproducible between different runs of a program.</p>

<p>See also Random.rand.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Numeric.html" title="Numeric (class)">Numeric</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1469
1470
1471
1472
1473
1474
1475
1476
1477
1478
1479
1480
1481
1482
1483
1484
1485</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'random.c', line 1469</span>

static VALUE
rb_f_rand(int argc, VALUE *argv, VALUE obj)
{
    VALUE vmax;
    rb_random_t *rnd = rand_start(&amp;default_rand);

    if (rb_check_arity(argc, 0, 1) &amp;&amp; !NIL_P(vmax = argv[0])) {
	VALUE v = rand_range(Qnil, rnd, vmax);
	if (v != Qfalse) return v;
	vmax = rb_to_int(vmax);
	if (vmax != INT2FIX(0)) {
	    v = rand_int(Qnil, rnd, vmax, 0);
	    if (!NIL_P(v)) return v;
	}
    }
    return DBL2NUM(genrand_real(&amp;rnd-&gt;mt));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="Rational-instance_method">
  
    
      <span class="overload">#<strong>Rational</strong>(x, y)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>Rational</strong>(arg)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <code>x/y</code> or <code>arg</code> as a Rational.</p>

<pre class="code"><code class=""><span class='const'>Rational</span><span class='lparen'>(</span><span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; (2/3)
</span><span class='const'>Rational</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; (5/1)
</span><span class='const'>Rational</span><span class='lparen'>(</span><span class='float'>0.5</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; (1/2)
</span><span class='const'>Rational</span><span class='lparen'>(</span><span class='float'>0.3</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; (5404319552844595/18014398509481984)
</span>
<span class='const'>Rational</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>2/3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; (2/3)
</span><span class='const'>Rational</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0.3</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; (3/10)
</span>
<span class='const'>Rational</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>10 cents</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='comment'>#=&gt; ArgumentError
</span><span class='const'>Rational</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>         <span class='comment'>#=&gt; TypeError
</span><span class='const'>Rational</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; TypeError
</span></code></pre>

<p>Syntax of the string form:</p>

<pre class="code"><code class="">string form = extra spaces , rational , extra spaces ;
rational = [ sign ] , unsigned rational ;
unsigned rational = numerator | numerator , &quot;/&quot; , denominator ;
numerator = integer part | fractional part | integer part , fractional part ;
denominator = digits ;
integer part = digits ;
fractional part = &quot;.&quot; , digits , [ ( &quot;e&quot; | &quot;E&quot; ) , [ sign ] , digits ] ;
sign = &quot;-&quot; | &quot;+&quot; ;
digits = digit , { digit | &quot;_&quot; , digit } ;
digit = &quot;0&quot; | &quot;1&quot; | &quot;2&quot; | &quot;3&quot; | &quot;4&quot; | &quot;5&quot; | &quot;6&quot; | &quot;7&quot; | &quot;8&quot; | &quot;9&quot; ;
extra spaces = ? \s* ? ;</code></pre>

<p>See also String#to_r.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


581
582
583
584
585</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'rational.c', line 581</span>

static VALUE
nurat_f_rational(int argc, VALUE *argv, VALUE klass)
{
    return nurat_s_convert(argc, argv, rb_cRational);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="readline-instance_method">
  
    
      <span class="overload">#<strong>readline</strong>(sep = $/)  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
    
      <span class="overload">#<strong>readline</strong>(limit)  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
    
      <span class="overload">#<strong>readline</strong>(sep, limit)  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Equivalent to <code>Kernel::gets</code>, except <code>readline</code>
raises <code>EOFError</code> at end of file.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>readline</strong>(sep = $/)  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>readline</strong>(limit)  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>readline</strong>(sep, limit)  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8770
8771
8772
8773
8774
8775
8776
8777</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 8770</span>

static VALUE
rb_f_readline(int argc, VALUE *argv, VALUE recv)
{
    if (recv == argf) {
	return argf_readline(argc, argv, argf);
    }
    return rb_funcallv(argf, rb_intern(&quot;readline&quot;), argc, argv);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="readlines-instance_method">
  
    
      <span class="overload">#<strong>readlines</strong>(sep = $/)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt> </span>
    
      <span class="overload">#<strong>readlines</strong>(limit)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt> </span>
    
      <span class="overload">#<strong>readlines</strong>(sep, limit)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns an array containing the lines returned by calling
<code>Kernel.gets(<em>sep</em>)</code> until the end of file.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>readlines</strong>(sep = $/)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>readlines</strong>(limit)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>readlines</strong>(sep, limit)  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8824
8825
8826
8827
8828
8829
8830
8831</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 8824</span>

static VALUE
rb_f_readlines(int argc, VALUE *argv, VALUE recv)
{
    if (recv == argf) {
	return argf_readlines(argc, argv, argf);
    }
    return rb_funcallv(argf, rb_intern(&quot;readlines&quot;), argc, argv);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="require-instance_method">
  
    #<strong>require</strong>(name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Loads the given <code>name</code>, returning <code>true</code> if
successful and <code>false</code> if the feature is already loaded.</p>

<p>If the filename does not resolve to an absolute path, it will be searched
for in the directories listed in <code>$LOAD_PATH</code> (<code>$:</code>).</p>

<p>If the filename has the extension “.rb”, it is loaded as a source file; if
the extension is “.so”, “.o”, or “.dll”, or the default shared library
extension on the current platform, Ruby loads the shared library as a Ruby
extension.  Otherwise, Ruby tries adding “.rb”, “.so”, and so on to the
name until found.  If the file named cannot be found, a LoadError will be
raised.</p>

<p>For Ruby extensions the filename given may use any shared library
extension.  For example, on Linux the socket extension is “socket.so” and
<code>require &#39;socket.dll&#39;</code> will load the socket extension.</p>

<p>The absolute path of the loaded file is added to
<code>$LOADED_FEATURES</code> (<code>$&quot;</code>).  A file will not be
loaded again if its path already appears in <code>$&quot;</code>.  For
example, <code>require &#39;a&#39;; require &#39;./a&#39;</code> will not
load <code>a.rb</code> again.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>my-library.rb</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>db-driver</span><span class='tstring_end'>&quot;</span></span>
</code></pre>

<p>Any constants or globals within the loaded source file will be available in
the calling program&#39;s global namespace. However, local variables will
not be propagated to the loading environment.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


817
818
819
820
821</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'load.c', line 817</span>

VALUE
rb_f_require(VALUE obj, VALUE fname)
{
    return rb_require_safe(fname, rb_safe_level());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="require_relative-instance_method">
  
    #<strong>require_relative</strong>(string)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Ruby tries to load the library named <em>string</em> relative to the
requiring file&#39;s path.  If the file&#39;s path cannot be determined a
LoadError is raised. If a file is loaded <code>true</code> is returned and
false otherwise.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


831
832
833
834
835
836
837
838
839
840</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'load.c', line 831</span>

VALUE
rb_f_require_relative(VALUE obj, VALUE fname)
{
    VALUE base = rb_current_realfilepath();
    if (NIL_P(base)) {
	rb_loaderror(&quot;cannot infer basepath&quot;);
    }
    base = rb_file_dirname(base);
    return rb_require_safe(rb_file_absolute_path(fname, base), rb_safe_level());
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select-instance_method">
  
    #<strong>select</strong>(read_array[, write_array [, error_array [, timeout]]])  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Calls select(2) system call. It monitors given arrays of <code>IO</code>
objects, waits until one or more of <code>IO</code> objects are ready for
reading, are ready for writing, and have pending exceptions respectively,
and returns an array that contains arrays of those IO objects.  It will
return <code>nil</code> if optional <em>timeout</em> value is given and no
<code>IO</code> object is ready in <em>timeout</em> seconds.</p>

<p><code>IO.select</code> peeks the buffer of <code>IO</code> objects for
testing readability. If the <code>IO</code> buffer is not empty,
<code>IO.select</code> immediately notifies readability. This “peek” only
happens for <code>IO</code> objects. It does not happen for IO-like objects
such as OpenSSL::SSL::SSLSocket.</p>

<p>The best way to use <code>IO.select</code> is invoking it after nonblocking
methods such as <code>read_nonblock</code>, <code>write_nonblock</code>,
etc. The methods raise an exception which is extended by
<code>IO::WaitReadable</code> or <code>IO::WaitWritable</code>. The modules
notify how the caller should wait with <code>IO.select</code>. If
<code>IO::WaitReadable</code> is raised, the caller should wait for
reading. If <code>IO::WaitWritable</code> is raised, the caller should wait
for writing.</p>

<p>So, blocking read (<code>readpartial</code>) can be emulated using
<code>read_nonblock</code> and <code>IO.select</code> as follows:</p>

<pre class="code"><code class=""><span class='kw'>begin</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_io_like'>io_like</span><span class='period'>.</span><span class='id identifier rubyid_read_nonblock'>read_nonblock</span><span class='lparen'>(</span><span class='id identifier rubyid_maxlen'>maxlen</span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="IO/WaitReadable.html" title="IO::WaitReadable (module)">WaitReadable</a></span></span>
  <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'><span class='object_link'><a href="IO.html#select-class_method" title="IO.select (method)">select</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_io_like'>io_like</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>retry</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="IO/WaitWritable.html" title="IO::WaitWritable (module)">WaitWritable</a></span></span>
  <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'><span class='object_link'><a href="IO.html#select-class_method" title="IO.select (method)">select</a></span></span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_io_like'>io_like</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>retry</span>
<span class='kw'>end</span>
</code></pre>

<p>Especially, the combination of nonblocking methods and
<code>IO.select</code> is preferred for <code>IO</code> like objects such
as <code>OpenSSL::SSL::SSLSocket</code>. It has <code>to_io</code> method
to return underlying <code>IO</code> object. <code>IO.select</code> calls
<code>to_io</code> to obtain the file descriptor to wait.</p>

<p>This means that readability notified by <code>IO.select</code> doesn&#39;t
mean readability from <code>OpenSSL::SSL::SSLSocket</code> object.</p>

<p>The most likely situation is that <code>OpenSSL::SSL::SSLSocket</code>
buffers some data. <code>IO.select</code> doesn&#39;t see the buffer. So
<code>IO.select</code> can block when
<code>OpenSSL::SSL::SSLSocket#readpartial</code> doesn&#39;t block.</p>

<p>However, several more complicated situations exist.</p>

<p>SSL is a protocol which is sequence of records. The record consists of
multiple bytes. So, the remote side of SSL sends a partial record,
<code>IO.select</code> notifies readability but
<code>OpenSSL::SSL::SSLSocket</code> cannot decrypt a byte and
<code>OpenSSL::SSL::SSLSocket#readpartial</code> will blocks.</p>

<p>Also, the remote side can request SSL renegotiation which forces the local
SSL engine to write some data. This means
<code>OpenSSL::SSL::SSLSocket#readpartial</code> may invoke
<code>write</code> system call and it can block. In such a situation,
<code>OpenSSL::SSL::SSLSocket#read_nonblock</code> raises IO::WaitWritable
instead of blocking. So, the caller should wait for ready for writability
as above example.</p>

<p>The combination of nonblocking methods and <code>IO.select</code> is also
useful for streams such as tty, pipe socket socket when multiple processes
read from a stream.</p>

<p>Finally, Linux kernel developers don&#39;t guarantee that readability of
select(2) means readability of following read(2) even for a single process.
See select(2) manual on GNU/Linux system.</p>

<p>Invoking <code>IO.select</code> before <code>IO#readpartial</code> works
well as usual. However it is not the best way to use
<code>IO.select</code>.</p>

<p>The writability notified by select(2) doesn&#39;t show how many bytes
writable. <code>IO#write</code> method blocks until given whole string is
written. So, <code>IO#write(two or more bytes)</code> can block after
writability is notified by <code>IO.select</code>.
<code>IO#write_nonblock</code> is required to avoid the blocking.</p>

<p>Blocking write (<code>write</code>) can be emulated using
<code>write_nonblock</code> and <code>IO.select</code> as follows:
IO::WaitReadable should also be rescued for SSL renegotiation in
<code>OpenSSL::SSL::SSLSocket</code>.</p>

<pre class="code"><code class=""><span class='kw'>while</span> <span class='int'>0</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_bytesize'>bytesize</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_written'>written</span> <span class='op'>=</span> <span class='id identifier rubyid_io_like'>io_like</span><span class='period'>.</span><span class='id identifier rubyid_write_nonblock'>write_nonblock</span><span class='lparen'>(</span><span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="IO/WaitReadable.html" title="IO::WaitReadable (module)">WaitReadable</a></span></span>
    <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'><span class='object_link'><a href="IO.html#select-class_method" title="IO.select (method)">select</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_io_like'>io_like</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>retry</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="IO/WaitWritable.html" title="IO::WaitWritable (module)">WaitWritable</a></span></span>
    <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'><span class='object_link'><a href="IO.html#select-class_method" title="IO.select (method)">select</a></span></span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_io_like'>io_like</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>retry</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_string'>string</span> <span class='op'>=</span> <span class='id identifier rubyid_string'>string</span><span class='period'>.</span><span class='id identifier rubyid_byteslice'>byteslice</span><span class='lparen'>(</span><span class='id identifier rubyid_written'>written</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>

<h3 id="label-Parameters">Parameters</h3>
<dl class="rdoc-list note-list"><dt>read_array
<dd>
<p>an array of <code>IO</code> objects that wait until ready for read</p>
</dd><dt>write_array
<dd>
<p>an array of <code>IO</code> objects that wait until ready for write</p>
</dd><dt>error_array
<dd>
<p>an array of <code>IO</code> objects that wait for exceptions</p>
</dd><dt>timeout
<dd>
<p>a numeric value in second</p>
</dd></dl>

<h3 id="label-Example">Example</h3>

<pre class="code"><code class=""><span class='id identifier rubyid_rp'>rp</span><span class='comma'>,</span> <span class='id identifier rubyid_wp'>wp</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pipe'><span class='object_link'><a href="IO.html#pipe-class_method" title="IO.pipe (method)">pipe</a></span></span>
<span class='id identifier rubyid_mesg'>mesg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ping </span><span class='tstring_end'>&quot;</span></span>
<span class='int'>100</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='lbrace'>{</span>
  <span class='comment'># IO.select follows IO#read.  Not the best way to use IO.select.
</span>  <span class='id identifier rubyid_rs'>rs</span><span class='comma'>,</span> <span class='id identifier rubyid_ws'>ws</span><span class='comma'>,</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_select'><span class='object_link'><a href="IO.html#select-class_method" title="IO.select (method)">select</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_rp'>rp</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_wp'>wp</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='id identifier rubyid_rs'>rs</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_ret'>ret</span> <span class='op'>=</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='int'>5</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_ret'>ret</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_ret'>ret</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ping</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_mesg'>mesg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pong\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>pong</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_mesg'>mesg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ping </span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='id identifier rubyid_ws'>ws</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_w'>w</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_mesg'>mesg</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='rbrace'>}</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='id identifier rubyid_ping'>ping</span> <span class='id identifier rubyid_pong'>pong</span>
<span class='id identifier rubyid_ping'>ping</span> <span class='id identifier rubyid_pong'>pong</span>
<span class='id identifier rubyid_ping'>ping</span> <span class='id identifier rubyid_pong'>pong</span>
<span class='lparen'>(</span><span class='id identifier rubyid_snipped'>snipped</span><span class='rparen'>)</span>
<span class='id identifier rubyid_ping'>ping</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9377
9378
9379
9380
9381
9382
9383
9384
9385
9386
9387
9388
9389
9390
9391
9392
9393
9394
9395
9396
9397
9398</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 9377</span>

static VALUE
rb_f_select(int argc, VALUE *argv, VALUE obj)
{
    VALUE timeout;
    struct select_args args;
    struct timeval timerec;
    int i;

    rb_scan_args(argc, argv, &quot;13&quot;, &amp;args.read, &amp;args.write, &amp;args.except, &amp;timeout);
    if (NIL_P(timeout)) {
	args.timeout = 0;
    }
    else {
	timerec = rb_time_interval(timeout);
	args.timeout = &amp;timerec;
    }

    for (i = 0; i &lt; numberof(args.fdsets); ++i)
	rb_fd_init(&amp;args.fdsets[i]);

    return rb_ensure(select_call, (VALUE)&amp;args, select_end, (VALUE)&amp;args);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_trace_func-instance_method">
  
    
      <span class="overload">#<strong>set_trace_func</strong>(proc)  &#x21d2; <tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt> </span>
    
      <span class="overload">#<strong>set_trace_func</strong>(nil)  &#x21d2; <tt>nil</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Establishes <em>proc</em> as the handler for tracing, or disables tracing
if the parameter is <code>nil</code>.</p>

<p><strong>Note:</strong> this method is obsolete, please use TracePoint
instead.</p>

<p><em>proc</em> takes up to six parameters:</p>

<p>*	an event name *	a filename *	a line number *	an object id *	a binding
*	the name of a class</p>

<p><em>proc</em> is invoked whenever an event occurs.</p>

<p>Events are:</p>
<dl class="rdoc-list note-list"><dt><code>c-call</code>
<dd>
<p>call a C-language routine</p>
</dd><dt><code>c-return</code>
<dd>
<p>return from a C-language routine</p>
</dd><dt><code>call</code>
<dd>
<p>call a Ruby method</p>
</dd><dt><code>class</code>
<dd>
<p>start a class or module definition</p>
</dd><dt><code>end</code>
<dd>
<p>finish a class or module definition</p>
</dd><dt><code>line</code>
<dd>
<p>execute code on a new line</p>
</dd><dt><code>raise</code>
<dd>
<p>raise an exception</p>
</dd><dt><code>return</code>
<dd>
<p>return from a Ruby method</p>
</dd></dl>

<p>Tracing is disabled within the context of <em>proc</em>.</p>

<pre class="code"><code class="">class Test</code></pre>

<p>def test</p>

<pre class="code"><code class=""><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='int'>1</span>
<span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='int'>2</span>
</code></pre>

<p>end</p>

<pre class="code"><code class="">   end

   set_trace_func proc { |event, file, line, id, binding, classname|
 printf &quot;%8s %s:%-2d %10s %8s\n&quot;, event, file, line, id, classname
   }
   t = Test.new
   t.test

line prog.rb:11               false
   c-call prog.rb:11        new    Class
   c-call prog.rb:11 initialize   Object
 c-return prog.rb:11 initialize   Object
 c-return prog.rb:11        new    Class
line prog.rb:12               false</code></pre>

<p>call prog.rb:2        test     Test</p>

<pre class="code"><code class="">line prog.rb:3        test     Test
line prog.rb:4        test     Test
   return prog.rb:4        test     Test</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>set_trace_func</strong>(proc)  &#x21d2; <tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Proc.html" title="Proc (class)">Proc</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>set_trace_func</strong>(nil)  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_trace.c', line 486</span>

static VALUE
set_trace_func(VALUE obj, VALUE trace)
{
    rb_remove_event_hook(call_trace_func);

    if (NIL_P(trace)) {
	return Qnil;
    }

    if (!rb_obj_is_proc(trace)) {
	rb_raise(rb_eTypeError, &quot;trace_func needs to be Proc&quot;);
    }

    rb_add_event_hook(call_trace_func, RUBY_EVENT_ALL, trace);
    return trace;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sleep-instance_method">
  
    #<strong>sleep</strong>([duration])  &#x21d2; <tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Suspends the current thread for <em>duration</em> seconds (which may be any
number, including a <code>Float</code> with fractional seconds). Returns
the actual number of seconds slept (rounded), which may be less than that
asked for if another thread calls <code>Thread#run</code>. Called without
an argument, sleep() will sleep forever.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Time.html#initialize-instance_method" title="Time#initialize (method)">new</a></span></span>    <span class='comment'>#=&gt; 2008-03-08 19:56:19 +0900
</span><span class='id identifier rubyid_sleep'>sleep</span> <span class='float'>1.2</span>   <span class='comment'>#=&gt; 1
</span><span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Time.html#initialize-instance_method" title="Time#initialize (method)">new</a></span></span>    <span class='comment'>#=&gt; 2008-03-08 19:56:20 +0900
</span><span class='id identifier rubyid_sleep'>sleep</span> <span class='float'>1.9</span>   <span class='comment'>#=&gt; 2
</span><span class='const'><span class='object_link'><a href="Time.html" title="Time (class)">Time</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Time.html#initialize-instance_method" title="Time#initialize (method)">new</a></span></span>    <span class='comment'>#=&gt; 2008-03-08 19:56:22 +0900
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4435
4436
4437
4438
4439
4440
4441
4442
4443
4444
4445
4446
4447
4448
4449
4450
4451
4452</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4435</span>

static VALUE
rb_f_sleep(int argc, VALUE *argv)
{
    time_t beg, end;

    beg = time(0);
    if (argc == 0) {
	rb_thread_sleep_forever();
    }
    else {
	rb_check_arity(argc, 0, 1);
	rb_thread_wait_for(rb_time_interval(argv[0]));
    }

    end = time(0) - beg;

    return INT2FIX(end);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="spawn-instance_method">
  
    
      <span class="overload">#<strong>spawn</strong>([env,][,options])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>spawn</strong>([env,][,options])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>spawn executes specified command and return its pid.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tar xf ruby-2.0.0-p195.tar.bz2</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'><span class='object_link'><a href="Process.html" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wait'><span class='object_link'><a href="Process.html#wait-class_method" title="Process.wait (method)">wait</a></span></span> <span class='id identifier rubyid_pid'>pid</span>

<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='const'>RbConfig</span><span class='period'>.</span><span class='id identifier rubyid_ruby'>ruby</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-eputs&#39;Hello, world!&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'><span class='object_link'><a href="Process.html" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wait'><span class='object_link'><a href="Process.html#wait-class_method" title="Process.wait (method)">wait</a></span></span> <span class='id identifier rubyid_pid'>pid</span>
</code></pre>

<p>This method is similar to Kernel#system but it doesn&#39;t wait for the
command to finish.</p>

<p>The parent process should use <code>Process.wait</code> to collect the
termination status of its child or use <code>Process.detach</code> to
register disinterest in their status; otherwise, the operating system may
accumulate zombie processes.</p>

<p>spawn has bunch of options to specify process attributes:</p>

<pre class="code"><code class="">env: hash
  name =&gt; val : set the environment variable
  name =&gt; nil : unset the environment variable

  the keys and the values except for +nil+ must be strings.
command...:
  commandline                 : command line string which is passed to the standard shell
  cmdname, arg1, ...          : command name and one or more arguments (This form does not use the shell. See below for caveats.)
  [cmdname, argv0], arg1, ... : command name, argv[0] and zero or more arguments (no shell)
options: hash
  clearing environment variables:
    :unsetenv_others =&gt; true   : clear environment variables except specified by env
    :unsetenv_others =&gt; false  : don&#39;t clear (default)
  process group:
    :pgroup =&gt; true or 0 : make a new process group
    :pgroup =&gt; pgid      : join the specified process group
    :pgroup =&gt; nil       : don&#39;t change the process group (default)
  create new process group: Windows only
    :new_pgroup =&gt; true  : the new process is the root process of a new process group
    :new_pgroup =&gt; false : don&#39;t create a new process group (default)
  resource limit: resourcename is core, cpu, data, etc.  See Process.setrlimit.
    :rlimit_resourcename =&gt; limit
    :rlimit_resourcename =&gt; [cur_limit, max_limit]
  umask:
    :umask =&gt; int
  redirection:
    key:
      FD              : single file descriptor in child process
      [FD, FD, ...]   : multiple file descriptor in child process
    value:
      FD                        : redirect to the file descriptor in parent process
      string                    : redirect to file with open(string, &quot;r&quot; or &quot;w&quot;)
      [string]                  : redirect to file with open(string, File::RDONLY)
      [string, open_mode]       : redirect to file with open(string, open_mode, 0644)
      [string, open_mode, perm] : redirect to file with open(string, open_mode, perm)
      [:child, FD]              : redirect to the redirected file descriptor
      :close                    : close the file descriptor in child process
    FD is one of follows
      :in     : the file descriptor 0 which is the standard input
      :out    : the file descriptor 1 which is the standard output
      :err    : the file descriptor 2 which is the standard error
      integer : the file descriptor of specified the integer
      io      : the file descriptor specified as io.fileno
  file descriptor inheritance: close non-redirected non-standard fds (3, 4, 5, ...) or not
    :close_others =&gt; true  : don&#39;t inherit
  current directory:
    :chdir =&gt; str

  The &#39;cmdname, arg1, ...&#39; form does not use the shell. However,
  on different OSes, different things are provided as built-in
  commands. An example of this is &#39;echo&#39;, which is a built-in
  on Windows, but is a normal program on Linux and Mac OS X.
  This means that `Process.spawn &#39;echo&#39;, &#39;%Path%&#39;` will display
  the contents of the `%Path%` environment variable on Windows,
  but `Process.spawn &#39;echo&#39;, &#39;$PATH&#39;` prints the literal &#39;$PATH&#39;.</code></pre>

<p>If a hash is given as <code>env</code>, the environment is updated by
<code>env</code> before <code>exec(2)</code> in the child process. If a
pair in <code>env</code> has nil as the value, the variable is deleted.</p>

<pre class="code"><code class=""><span class='comment'># set FOO as BAR and unset BAZ.
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BAR</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BAZ</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='kw'>nil</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='rparen'>)</span>
</code></pre>

<p>If a hash is given as <code>options</code>, it specifies process group,
create new process group, resource limit, current directory, umask and
redirects for the child process. Also, it can be specified to clear
environment variables.</p>

<p>The <code>:unsetenv_others</code> key in <code>options</code> specifies to
clear environment variables, other than specified by <code>env</code>.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:unsetenv_others</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># no environment variable
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FOO</span><span class='tstring_end'>&quot;</span></span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>BAR</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:unsetenv_others</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># FOO only
</span></code></pre>

<p>The <code>:pgroup</code> key in <code>options</code> specifies a process
group. The corresponding value should be true, zero, a positive integer, or
nil. true and zero cause the process to be a process leader of a new
process group. A non-zero positive integer causes the process to join the
provided process group. The default value, nil, causes the process to
remain in the same process group.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:pgroup</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='comment'># process leader
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:pgroup</span><span class='op'>=&gt;</span><span class='int'>10</span><span class='rparen'>)</span> <span class='comment'># belongs to the process group 10
</span></code></pre>

<p>The <code>:new_pgroup</code> key in <code>options</code> specifies to pass
<code>CREATE_NEW_PROCESS_GROUP</code> flag to <code>CreateProcessW()</code>
that is Windows API. This option is only for Windows. true means the new
process is the root process of the new process group. The new process has
CTRL+C disabled. This flag is necessary for <code>Process.kill(:SIGINT,
pid)</code> on the subprocess. :new_pgroup is false by default.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:new_pgroup</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='rparen'>)</span>  <span class='comment'># new process group
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:new_pgroup</span><span class='op'>=&gt;</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='comment'># same process group
</span></code></pre>

<p>The <code>:rlimit_</code><em>foo</em> key specifies a resource limit.
<em>foo</em> should be one of resource types such as <code>core</code>. The
corresponding value should be an integer or an array which have one or two
integers: same as cur_limit and max_limit arguments for Process.setrlimit.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_cur'>cur</span><span class='comma'>,</span> <span class='id identifier rubyid_max'>max</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Process.html" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getrlimit'><span class='object_link'><a href="Process.html#getrlimit-class_method" title="Process.getrlimit (method)">getrlimit</a></span></span><span class='lparen'>(</span><span class='symbol'>:CORE</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:rlimit_core</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_max'>max</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># disable core temporary.
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:rlimit_core</span><span class='op'>=&gt;</span><span class='id identifier rubyid_max'>max</span><span class='rparen'>)</span> <span class='comment'># enable core dump
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:rlimit_core</span><span class='op'>=&gt;</span><span class='int'>0</span><span class='rparen'>)</span> <span class='comment'># never dump core.
</span></code></pre>

<p>The <code>:umask</code> key in <code>options</code> specifies the umask.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:umask</span><span class='op'>=&gt;</span><span class='int'>077</span><span class='rparen'>)</span>
</code></pre>

<p>The :in, :out, :err, an integer, an IO and an array key specifies a
redirection. The redirection maps a file descriptor in the child process.</p>

<p>For example, stderr can be merged into stdout as follows:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='op'>=&gt;</span><span class='symbol'>:out</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='int'>2</span><span class='op'>=&gt;</span><span class='int'>1</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#STDERR-constant" title="STDERR (constant)">STDERR</a></span></span><span class='op'>=&gt;</span><span class='symbol'>:out</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="top-level-namespace.html#STDERR-constant" title="STDERR (constant)">STDERR</a></span></span><span class='op'>=&gt;</span><span class='const'><span class='object_link'><a href="top-level-namespace.html#STDOUT-constant" title="STDOUT (constant)">STDOUT</a></span></span><span class='rparen'>)</span>
</code></pre>

<p>The hash keys specifies a file descriptor in the child process started by
<code>spawn</code>. :err, 2 and STDERR specifies the standard error stream
(stderr).</p>

<p>The hash values specifies a file descriptor in the parent process which
invokes <code>spawn</code>. :out, 1 and STDOUT specifies the standard
output stream (stdout).</p>

<p>In the above example, the standard output in the child process is not
specified. So it is inherited from the parent process.</p>

<p>The standard input stream (stdin) can be specified by :in, 0 and STDIN.</p>

<p>A filename can be specified as a hash value.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:in</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/dev/null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># read mode
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/dev/null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># write mode
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># write mode
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='symbol'>:out</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='rbracket'>]</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/dev/null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># write mode
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='int'>3</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/dev/null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># read mode
</span></code></pre>

<p>For stdout and stderr (and combination of them), it is opened in write
mode. Otherwise read mode is used.</p>

<p>For specifying flags and permission of file creation explicitly, an array
is used instead.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:in</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># read mode is assumed
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:in</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>file</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>r</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># 0644 assumed
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0600</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="File.html" title="File (class)">File</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="File/Constants.html#WRONLY-constant" title="File::Constants::WRONLY (constant)">WRONLY</a></span></span><span class='op'>|</span><span class='const'><span class='object_link'><a href="File.html" title="File (class)">File</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="File/Constants.html#EXCL-constant" title="File::Constants::EXCL (constant)">EXCL</a></span></span><span class='op'>|</span><span class='const'><span class='object_link'><a href="File.html" title="File (class)">File</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="File/Constants.html#CREAT-constant" title="File::Constants::CREAT (constant)">CREAT</a></span></span><span class='comma'>,</span> <span class='int'>0600</span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<p>The array specifies a filename, flags and permission. The flags can be a
string or an integer. If the flags is omitted or nil, File::RDONLY is
assumed. The permission should be an integer. If the permission is omitted
or nil, 0644 is assumed.</p>

<p>If an array of IOs and integers are specified as a hash key, all the
elements are redirected.</p>

<pre class="code"><code class=""><span class='comment'># stdout and stderr is redirected to log file.
</span><span class='comment'># The file &quot;log&quot; is opened just once.
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='symbol'>:out</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='rbracket'>]</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<p>Another way to merge multiple file descriptors is [:child, fd]. [:child,
fd] means the file descriptor in the child process. This is different from
fd. For example, :err=&gt;:out means redirecting child stderr to parent
stdout. But :err=&gt;[:child, :out] means redirecting child stderr to child
stdout. They differ if stdout is redirected in the child process as
follows.</p>

<pre class="code"><code class=""><span class='comment'># stdout and stderr is redirected to log file.
</span><span class='comment'># The file &quot;log&quot; is opened just once.
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='symbol'>:child</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<p>[:child, :out] can be used to merge stderr into stdout in IO.popen. In this
case, IO.popen redirects stdout to a pipe in the child process and [:child,
:out] refers the redirected stdout.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_io'>io</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_popen'><span class='object_link'><a href="IO.html#popen-class_method" title="IO.popen (method)">popen</a></span></span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sh</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-c</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo out; echo err &gt;&amp;2</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='symbol'>:child</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span> <span class='comment'>#=&gt; &quot;out\nerr\n&quot;
</span></code></pre>

<p>The <code>:chdir</code> key in <code>options</code> specifies the current
directory.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:chdir</span><span class='op'>=&gt;</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/var/tmp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
</code></pre>

<p>spawn closes all non-standard unspecified descriptors by default. The
“standard” descriptors are 0, 1 and 2. This behavior is specified by
:close_others option. :close_others doesn&#39;t affect the standard
descriptors which are closed only if :close is specified explicitly.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:close_others</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='rparen'>)</span>  <span class='comment'># close 3,4,5,... (default)
</span><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:close_others</span><span class='op'>=&gt;</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='comment'># don&#39;t close 3,4,5,...
</span></code></pre>

<p>:close_others is true by default for spawn and IO.popen.</p>

<p>Note that fds which close-on-exec flag is already set are closed regardless
of :close_others option.</p>

<p>So IO.pipe and spawn can be used as IO.popen.</p>

<pre class="code"><code class=""><span class='comment'># similar to r = IO.popen(command)
</span><span class='id identifier rubyid_r'>r</span><span class='comma'>,</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pipe'><span class='object_link'><a href="IO.html#pipe-class_method" title="IO.pipe (method)">pipe</a></span></span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='id identifier rubyid_w'>w</span><span class='rparen'>)</span>   <span class='comment'># r, w is closed in the child process.
</span><span class='id identifier rubyid_w'>w</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
</code></pre>

<p>:close is specified as a hash value to close a fd individually.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_f'>f</span> <span class='op'>=</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_foo'>foo</span><span class='rparen'>)</span>
<span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_f'>f</span><span class='op'>=&gt;</span><span class='symbol'>:close</span><span class='rparen'>)</span>        <span class='comment'># don&#39;t inherit f.
</span></code></pre>

<p>If a file descriptor need to be inherited, io=&gt;io can be used.</p>

<pre class="code"><code class=""><span class='comment'># valgrind has --log-fd option for log destination.
</span><span class='comment'># log_w=&gt;log_w indicates log_w.fileno inherits to child process.
</span><span class='id identifier rubyid_log_r'>log_r</span><span class='comma'>,</span> <span class='id identifier rubyid_log_w'>log_w</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IO.html" title="IO (class)">IO</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pipe'><span class='object_link'><a href="IO.html#pipe-class_method" title="IO.pipe (method)">pipe</a></span></span>
<span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>valgrind</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--log-fd=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_log_w'>log_w</span><span class='period'>.</span><span class='id identifier rubyid_fileno'>fileno</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_log_w'>log_w</span><span class='op'>=&gt;</span><span class='id identifier rubyid_log_w'>log_w</span><span class='rparen'>)</span>
<span class='id identifier rubyid_log_w'>log_w</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_log_r'>log_r</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span>
</code></pre>

<p>It is also possible to exchange file descriptors.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_pid'>pid</span> <span class='op'>=</span> <span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='symbol'>:out</span><span class='op'>=&gt;</span><span class='symbol'>:err</span><span class='comma'>,</span> <span class='symbol'>:err</span><span class='op'>=&gt;</span><span class='symbol'>:out</span><span class='rparen'>)</span>
</code></pre>

<p>The hash keys specify file descriptors in the child process. The hash
values specifies file descriptors in the parent process. So the above
specifies exchanging stdout and stderr. Internally, <code>spawn</code> uses
an extra file descriptor to resolve such cyclic file descriptor mapping.</p>

<p>See <code>Kernel.exec</code> for the standard shell.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4391
4392
4393
4394
4395
4396
4397
4398
4399
4400
4401
4402
4403
4404
4405
4406
4407
4408
4409
4410
4411
4412
4413
4414
4415
4416</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4391</span>

static VALUE
rb_f_spawn(int argc, VALUE *argv)
{
    rb_pid_t pid;
    char errmsg[CHILD_ERRMSG_BUFLEN] = { &#39;\0&#39; };
    VALUE execarg_obj, fail_str;
    struct rb_execarg *eargp;

    execarg_obj = rb_execarg_new(argc, argv, TRUE, FALSE);
    eargp = rb_execarg_get(execarg_obj);
    fail_str = eargp-&gt;use_shell ? eargp-&gt;invoke.sh.shell_script : eargp-&gt;invoke.cmd.command_name;

    pid = rb_execarg_spawn(execarg_obj, errmsg, sizeof(errmsg));

    if (pid == -1) {
	int err = errno;
	rb_exec_fail(eargp, err, errmsg);
	RB_GC_GUARD(execarg_obj);
	rb_syserr_fail_str(err, fail_str);
    }
#if defined(HAVE_WORKING_FORK) || defined(HAVE_SPAWNV)
    return PIDT2NUM(pid);
#else
    return Qnil;
#endif
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sprintf-instance_method">
  
    
      <span class="overload">#<strong>format</strong>(format_string[, arguments...])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
    
      <span class="overload">#<strong>sprintf</strong>(format_string[, arguments...])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the string resulting from applying <em>format_string</em> to any
additional arguments.  Within the format string, any characters other than
format sequences are copied to the result.</p>

<p>The syntax of a format sequence is follows.</p>

<pre class="code"><code class="">%[flags][width][.precision]type</code></pre>

<p>A format sequence consists of a percent sign, followed by optional flags,
width, and precision indicators, then terminated with a field type
character.  The field type controls how the corresponding
<code>sprintf</code> argument is to be interpreted, while the flags modify
that interpretation.</p>

<p>The field type characters are:</p>

<pre class="code"><code class="">Field |  Integer Format
------+--------------------------------------------------------------
  b   | Convert argument as a binary number.
      | Negative numbers will be displayed as a two&#39;s complement
      | prefixed with `..1&#39;.
  B   | Equivalent to `b&#39;, but uses an uppercase 0B for prefix
      | in the alternative format by #.
  d   | Convert argument as a decimal number.
  i   | Identical to `d&#39;.
  o   | Convert argument as an octal number.
      | Negative numbers will be displayed as a two&#39;s complement
      | prefixed with `..7&#39;.
  u   | Identical to `d&#39;.
  x   | Convert argument as a hexadecimal number.
      | Negative numbers will be displayed as a two&#39;s complement
      | prefixed with `..f&#39; (representing an infinite string of
      | leading &#39;ff&#39;s).
  X   | Equivalent to `x&#39;, but uses uppercase letters.

Field |  Float Format
------+--------------------------------------------------------------
  e   | Convert floating point argument into exponential notation
      | with one digit before the decimal point as [-]d.dddddde[+-]dd.
      | The precision specifies the number of digits after the decimal
      | point (defaulting to six).
  E   | Equivalent to `e&#39;, but uses an uppercase E to indicate
      | the exponent.
  f   | Convert floating point argument as [-]ddd.dddddd,
      | where the precision specifies the number of digits after
      | the decimal point.
  g   | Convert a floating point number using exponential form
      | if the exponent is less than -4 or greater than or
      | equal to the precision, or in dd.dddd form otherwise.
      | The precision specifies the number of significant digits.
  G   | Equivalent to `g&#39;, but use an uppercase `E&#39; in exponent form.
  a   | Convert floating point argument as [-]0xh.hhhhp[+-]dd,
      | which is consisted from optional sign, &quot;0x&quot;, fraction part
      | as hexadecimal, &quot;p&quot;, and exponential part as decimal.
  A   | Equivalent to `a&#39;, but use uppercase `X&#39; and `P&#39;.

Field |  Other Format
------+--------------------------------------------------------------
  c   | Argument is the numeric code for a single character or
      | a single character string itself.
  p   | The valuing of argument.inspect.
  s   | Argument is a string to be substituted.  If the format
      | sequence contains a precision, at most that many characters
      | will be copied.
  %   | A percent sign itself will be displayed.  No argument taken.</code></pre>

<p>The flags modifies the behavior of the formats. The flag characters are:</p>

<pre class="code"><code class="">Flag     | Applies to    | Meaning
---------+---------------+-----------------------------------------
space    | bBdiouxX      | Leave a space at the start of
         | aAeEfgG       | non-negative numbers.
         | (numeric fmt) | For `o&#39;, `x&#39;, `X&#39;, `b&#39; and `B&#39;, use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
(digit)$ | all           | Specifies the absolute argument number
         |               | for this field.  Absolute and relative
         |               | argument numbers cannot be mixed in a
         |               | sprintf string.
---------+---------------+-----------------------------------------
 #       | bBoxX         | Use an alternative format.
         | aAeEfgG       | For the conversions `o&#39;, increase the precision
         |               | until the first digit will be `0&#39; if
         |               | it is not formatted as complements.
         |               | For the conversions `x&#39;, `X&#39;, `b&#39; and `B&#39;
         |               | on non-zero, prefix the result with ``0x&#39;&#39;,
         |               | ``0X&#39;&#39;, ``0b&#39;&#39; and ``0B&#39;&#39;, respectively.
         |               | For `a&#39;, `A&#39;, `e&#39;, `E&#39;, `f&#39;, `g&#39;, and &#39;G&#39;,
         |               | force a decimal point to be added,
         |               | even if no digits follow.
         |               | For `g&#39; and &#39;G&#39;, do not remove trailing zeros.
---------+---------------+-----------------------------------------
+        | bBdiouxX      | Add a leading plus sign to non-negative
         | aAeEfgG       | numbers.
         | (numeric fmt) | For `o&#39;, `x&#39;, `X&#39;, `b&#39; and `B&#39;, use
         |               | a minus sign with absolute value for
         |               | negative values.
---------+---------------+-----------------------------------------
-        | all           | Left-justify the result of this conversion.
---------+---------------+-----------------------------------------
0 (zero) | bBdiouxX      | Pad with zeros, not spaces.
         | aAeEfgG       | For `o&#39;, `x&#39;, `X&#39;, `b&#39; and `B&#39;, radix-1
         | (numeric fmt) | is used for negative numbers formatted as
         |               | complements.
---------+---------------+-----------------------------------------
*        | all           | Use the next argument as the field width.
         |               | If negative, left-justify the result. If the
         |               | asterisk is followed by a number and a dollar
         |               | sign, use the indicated argument as the width.</code></pre>

<p>Examples of flags:</p>

<pre class="code"><code class=""><span class='comment'># `+&#39; and space flag specifies the sign of non-negative numbers.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;+123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>% d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot; 123&quot;
</span>
<span class='comment'># `#&#39; flag for `o&#39; increases number of digits to show `0&#39;.
</span><span class='comment'># `+&#39; and space flag changes format of negative numbers.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;173&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;0173&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;-173&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;..7605&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;..7605&quot;
</span>
<span class='comment'># `#&#39; flag for `x&#39; add a prefix `0x&#39; for non-zero numbers.
</span><span class='comment'># `+&#39; and space flag disables complements for negative numbers.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;7b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;0x7b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;-7b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;..f85&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;0x..f85&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;0&quot;
</span>
<span class='comment'># `#&#39; for `X&#39; uses the prefix `0X&#39;.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%X</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;7B&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#X</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;0X7B&quot;
</span>
<span class='comment'># `#&#39; flag for `b&#39; add a prefix `0b&#39; for non-zero numbers.
</span><span class='comment'># `+&#39; and space flag disables complements for negative numbers.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;1111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;0b1111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;-1111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;..10000101&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;0b..10000101&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>    <span class='comment'>#=&gt; &quot;0&quot;
</span>
<span class='comment'># `#&#39; for `B&#39; uses the prefix `0B&#39;.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%B</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;1111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#B</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;0B1111011&quot;
</span>
<span class='comment'># `#&#39; for `e&#39; forces to show the decimal point.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%.0e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;1e+00&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#.0e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;1.e+00&quot;
</span>
<span class='comment'># `#&#39; for `f&#39; forces to show the decimal point.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%.0f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1234</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;1234&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#.0f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1234</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;1234.&quot;
</span>
<span class='comment'># `#&#39; for `g&#39; forces to show the decimal point.
</span><span class='comment'># It also disables stripping lowest zeros.
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>123.4</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;123.4&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>123.4</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;123.400&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123456</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;123456&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123456</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;123456.&quot;
</span></code></pre>

<p>The field width is an optional integer, followed optionally by a period and
a precision.  The width specifies the minimum number of characters that
will be written to the result for this field.</p>

<p>Examples of width:</p>

<pre class="code"><code class=""><span class='comment'># padding is done by spaces,       width=20
</span><span class='comment'># 0 or radix-1.             &lt;------------------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;                 123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+20d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;                +123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%020d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;00000000000000000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+020d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;+0000000000000000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>% 020d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot; 0000000000000000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-20d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;123                 &quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%-+20d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;+123                &quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%- 20d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot; 123                &quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%020x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;..ffffffffffffffff85&quot;
</span></code></pre>

<p>For numeric fields, the precision controls the number of decimal places
displayed.  For string fields, the precision determines the maximum number
of characters to be copied from the string.  (Thus, the format sequence
<code>%10.10s</code> will always contribute exactly ten characters to the
result.)</p>

<p>Examples of precisions:</p>

<pre class="code"><code class=""><span class='comment'># precision for `d&#39;, &#39;o&#39;, &#39;x&#39; and &#39;b&#39; is
</span><span class='comment'># minimum number of digits               &lt;------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            00000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            00000173&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            0000007b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            01111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;           -00000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;            ..777605&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;            ..ffff85&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>11</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            ..110101&quot;
</span>
<span class='comment'># &quot;0x&quot; and &quot;0b&quot; for `#x&#39; and `#b&#39; is not counted for
</span><span class='comment'># precision but &quot;0&quot; for `#o&#39; is counted.  &lt;------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            00000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;            00000173&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;          0x0000007b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;          0b01111011&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;           -00000123&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8o</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;            ..777605&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;          0x..ffff85&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%#20.8b</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>11</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;          0b..110101&quot;
</span>
<span class='comment'># precision for `e&#39; is number of
</span><span class='comment'># digits after the decimal point           &lt;------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8e</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>1234.56789</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;      1.23456789e+03&quot;
</span>
<span class='comment'># precision for `f&#39; is number of
</span><span class='comment'># digits after the decimal point               &lt;------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>1234.56789</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;       1234.56789000&quot;
</span>
<span class='comment'># precision for `g&#39; is number of
</span><span class='comment'># significant digits                          &lt;-------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>1234.56789</span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;           1234.5679&quot;
</span>
<span class='comment'>#                                         &lt;-------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123456789</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;       1.2345679e+08&quot;
</span>
<span class='comment'># precision for `s&#39; is
</span><span class='comment'># maximum number of characters                    &lt;------&gt;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%20.8s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>string test</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; &quot;            string t&quot;
</span></code></pre>

<p>Examples:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%d %04x</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>               <span class='comment'>#=&gt; &quot;123 007b&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%08b &#39;%4s&#39;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>123</span><span class='comma'>,</span> <span class='int'>123</span><span class='rparen'>)</span>            <span class='comment'>#=&gt; &quot;01111011 &#39; 123&#39;&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%1$*2$s %2$d %1$s</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>8</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;   hello 8 hello&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%1$*2$s %2$d</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>8</span><span class='rparen'>)</span>       <span class='comment'>#=&gt; &quot;hello    -8&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%+g:% g:%-g</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='float'>1.23</span><span class='comma'>,</span> <span class='float'>1.23</span><span class='comma'>,</span> <span class='float'>1.23</span><span class='rparen'>)</span>   <span class='comment'>#=&gt; &quot;+1.23: 1.23:1.23&quot;
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%u</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>123</span><span class='rparen'>)</span>                        <span class='comment'>#=&gt; &quot;-123&quot;
</span></code></pre>

<p>For more complex formatting, Ruby supports a reference by name.
%&lt;name&gt;s style uses format style, but %name style doesn&#39;t.</p>

<p>Examples:</p>

<pre class="code"><code class=""><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%&lt;foo&gt;d : %&lt;bar&gt;f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='symbol'>:foo</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbol'>:bar</span> <span class='op'>=&gt;</span> <span class='int'>2</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='comment'>#=&gt; 1 : 2.000000
</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%{foo}f</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='symbol'>:foo</span> <span class='op'>=&gt;</span> <span class='int'>1</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='comment'># =&gt; &quot;1f&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>format</strong>(format_string[, arguments...])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>sprintf</strong>(format_string[, arguments...])  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


458
459
460
461
462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sprintf.c', line 458</span>

VALUE
rb_f_sprintf(int argc, const VALUE *argv)
{
    return rb_str_format(argc - 1, argv + 1, GETNTHARG(0));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="srand-instance_method">
  
    #<strong>srand</strong>(number = Random.new_seed)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Seeds the system pseudo-random number generator, Random::DEFAULT, with
<code>number</code>.  The previous seed value is returned.</p>

<p>If <code>number</code> is omitted, seeds the generator using a source of
entropy provided by the operating system, if available (/dev/urandom on
Unix systems or the RSA cryptographic provider on Windows), which is then
combined with the time, the process id, and a sequence number.</p>

<p>srand may be used to ensure repeatable sequences of pseudo-random numbers
between different runs of the program. By setting the seed to a known
value, programs can be made deterministic during testing.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_srand'>srand</span> <span class='int'>1234</span>               <span class='comment'># =&gt; 268519324636777531569100071560086917274
</span><span class='lbracket'>[</span> <span class='id identifier rubyid_rand'>rand</span><span class='comma'>,</span> <span class='id identifier rubyid_rand'>rand</span> <span class='rbracket'>]</span>           <span class='comment'># =&gt; [0.1915194503788923, 0.6221087710398319]
</span><span class='lbracket'>[</span> <span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>1000</span><span class='rparen'>)</span> <span class='rbracket'>]</span> <span class='comment'># =&gt; [4, 664]
</span><span class='id identifier rubyid_srand'>srand</span> <span class='int'>1234</span>               <span class='comment'># =&gt; 1234
</span><span class='lbracket'>[</span> <span class='id identifier rubyid_rand'>rand</span><span class='comma'>,</span> <span class='id identifier rubyid_rand'>rand</span> <span class='rbracket'>]</span>           <span class='comment'># =&gt; [0.1915194503788923, 0.6221087710398319]
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'random.c', line 794</span>

static VALUE
rb_f_srand(int argc, VALUE *argv, VALUE obj)
{
    VALUE seed, old;
    rb_random_t *r = &amp;default_rand;

    if (rb_check_arity(argc, 0, 1) == 0) {
	seed = random_seed();
    }
    else {
	seed = rb_to_int(argv[0]);
    }
    old = r-&gt;seed;
    r-&gt;seed = rand_init(&amp;r-&gt;mt, seed);

    return old;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="String-instance_method">
  
    #<strong>String</strong>(arg)  &#x21d2; <tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns <em>arg</em> as a <code>String</code>.</p>

<p>First tries to call its <code>to_str</code> method, then its
<code>to_s</code> method.</p>

<pre class="code"><code class=""><span class='const'>String</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>        <span class='comment'>#=&gt; &quot;main&quot;
</span><span class='const'>String</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; &quot;Object&quot;
</span><span class='const'>String</span><span class='lparen'>(</span><span class='int'>123456</span><span class='rparen'>)</span>      <span class='comment'>#=&gt; &quot;123456&quot;
</span></code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#String-instance_method" title="Kernel#String (method)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


3583
3584
3585
3586
3587</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'object.c', line 3583</span>

static VALUE
rb_f_string(VALUE obj, VALUE arg)
{
    return rb_String(arg);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="syscall-instance_method">
  
    #<strong>syscall</strong>(num[, args...])  &#x21d2; <tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Calls the operating system function identified by <em>num</em> and returns
the result of the function or raises SystemCallError if it failed.</p>

<p>Arguments for the function can follow <em>num</em>. They must be either
<code>String</code> objects or <code>Integer</code> objects. A
<code>String</code> object is passed as a pointer to the byte sequence. An
<code>Integer</code> object is passed as an integer whose bit size is same
as a pointer. Up to nine parameters may be passed.</p>

<p>The function identified by <em>num</em> is system dependent. On some Unix
systems, the numbers may be obtained from a header file called
<code>syscall.h</code>.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_syscall'>syscall</span> <span class='int'>4</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>6</span>   <span class='comment'># &#39;4&#39; is write(2) on our box
</span></code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class=""><span class='id identifier rubyid_hello'>hello</span>
</code></pre>

<p>Calling <code>syscall</code> on a platform which does not have any way to
an arbitrary system function just fails with NotImplementedError.</p>

<p><strong>Note:</strong> <code>syscall</code> is essentially unsafe and
unportable. Feel free to shoot your foot. The DL (Fiddle) library is
preferred for safer and a bit more portable programming.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Integer-instance_method" title="Kernel#Integer (method)">Integer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9846
9847
9848
9849
9850
9851
9852
9853
9854
9855
9856
9857
9858
9859
9860
9861
9862
9863
9864
9865
9866
9867
9868
9869
9870
9871
9872
9873
9874
9875
9876
9877
9878
9879
9880
9881
9882
9883
9884
9885
9886
9887
9888
9889
9890
9891
9892
9893
9894
9895
9896
9897
9898
9899
9900
9901
9902
9903
9904
9905
9906
9907
9908
9909
9910
9911
9912
9913
9914
9915
9916
9917
9918
9919
9920
9921
9922
9923
9924
9925
9926
9927
9928
9929
9930
9931
9932
9933
9934
9935
9936</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'io.c', line 9846</span>

static VALUE
rb_f_syscall(int argc, VALUE *argv)
{
    VALUE arg[8];
#if SIZEOF_VOIDP == 8 &amp;&amp; defined(HAVE___SYSCALL) &amp;&amp; SIZEOF_INT != 8 /* mainly *BSD */
# define SYSCALL __syscall
# define NUM2SYSCALLID(x) NUM2LONG(x)
# define RETVAL2NUM(x) LONG2NUM(x)
# if SIZEOF_LONG == 8
    long num, retval = -1;
# elif SIZEOF_LONG_LONG == 8
    long long num, retval = -1;
# else
#  error ----&gt;&gt; it is asserted that __syscall takes the first argument and returns retval in 64bit signed integer. &lt;&lt;----
# endif
#elif defined(__linux__)
# define SYSCALL syscall
# define NUM2SYSCALLID(x) NUM2LONG(x)
# define RETVAL2NUM(x) LONG2NUM(x)
    /*
     * Linux man page says, syscall(2) function prototype is below.
     *
     *     int syscall(int number, ...);
     *
     * But, it&#39;s incorrect. Actual one takes and returned long. (see unistd.h)
     */
    long num, retval = -1;
#else
# define SYSCALL syscall
# define NUM2SYSCALLID(x) NUM2INT(x)
# define RETVAL2NUM(x) INT2NUM(x)
    int num, retval = -1;
#endif
    int i;

    if (RTEST(ruby_verbose)) {
	rb_warning(&quot;We plan to remove a syscall function at future release. DL(Fiddle) provides safer alternative.&quot;);
    }

    if (argc == 0)
	rb_raise(rb_eArgError, &quot;too few arguments for syscall&quot;);
    if (argc &gt; numberof(arg))
	rb_raise(rb_eArgError, &quot;too many arguments for syscall&quot;);
    num = NUM2SYSCALLID(argv[0]); ++argv;
    for (i = argc - 1; i--; ) {
	VALUE v = rb_check_string_type(argv[i]);

	if (!NIL_P(v)) {
	    SafeStringValue(v);
	    rb_str_modify(v);
	    arg[i] = (VALUE)StringValueCStr(v);
	}
	else {
	    arg[i] = (VALUE)NUM2LONG(argv[i]);
	}
    }

    switch (argc) {
      case 1:
	retval = SYSCALL(num);
	break;
      case 2:
	retval = SYSCALL(num, arg[0]);
	break;
      case 3:
	retval = SYSCALL(num, arg[0],arg[1]);
	break;
      case 4:
	retval = SYSCALL(num, arg[0],arg[1],arg[2]);
	break;
      case 5:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3]);
	break;
      case 6:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4]);
	break;
      case 7:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5]);
	break;
      case 8:
	retval = SYSCALL(num, arg[0],arg[1],arg[2],arg[3],arg[4],arg[5],arg[6]);
	break;
    }

    if (retval == -1)
	rb_sys_fail(0);
    return RETVAL2NUM(retval);
#undef SYSCALL
#undef NUM2SYSCALLID
#undef RETVAL2NUM
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="system-instance_method">
  
    #<strong>system</strong>([env,][,options])  &#x21d2; <tt>true</tt>, ... 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Executes <em>command…</em> in a subshell. <em>command…</em> is one of
following forms.</p>

<pre class="code"><code class="">commandline                 : command line string which is passed to the standard shell
cmdname, arg1, ...          : command name and one or more arguments (no shell)
[cmdname, argv0], arg1, ... : command name, argv[0] and zero or more arguments (no shell)</code></pre>

<p>system returns <code>true</code> if the command gives zero exit status,
<code>false</code> for non zero exit status. Returns <code>nil</code> if
command execution fails. An error status is available in <code>$?</code>.
The arguments are processed in the same way as for
<code>Kernel.spawn</code>.</p>

<p>The hash arguments, env and options, are same as <code>exec</code> and
<code>spawn</code>. See <code>Kernel.spawn</code> for details.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo *</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>echo</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">config.h main.rb
*</code></pre>

<p>See <code>Kernel.exec</code> for the standard shell.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4065
4066
4067
4068
4069
4070
4071
4072
4073
4074
4075
4076
4077
4078
4079
4080
4081
4082
4083
4084
4085
4086
4087
4088
4089
4090
4091
4092
4093
4094
4095
4096
4097
4098
4099
4100
4101
4102
4103
4104
4105
4106
4107
4108
4109
4110
4111
4112
4113
4114
4115
4116
4117
4118
4119
4120
4121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'process.c', line 4065</span>

static VALUE
rb_f_system(int argc, VALUE *argv)
{
    rb_pid_t pid;
    int status;
    VALUE execarg_obj;
    struct rb_execarg *eargp;

#if defined(SIGCLD) &amp;&amp; !defined(SIGCHLD)
# define SIGCHLD SIGCLD
#endif

#ifdef SIGCHLD
    RETSIGTYPE (*chfunc)(int);

    rb_last_status_clear();
    chfunc = signal(SIGCHLD, SIG_DFL);
#endif
    execarg_obj = rb_execarg_new(argc, argv, TRUE, TRUE);
    pid = rb_execarg_spawn(execarg_obj, NULL, 0);
#if defined(HAVE_WORKING_FORK) || defined(HAVE_SPAWNV)
    if (pid &gt; 0) {
        int ret, status;
        ret = rb_waitpid(pid, &amp;status, 0);
        if (ret == (rb_pid_t)-1)
            rb_sys_fail(&quot;Another thread waited the process started by system().&quot;);
    }
#endif
#ifdef SIGCHLD
    signal(SIGCHLD, chfunc);
#endif
    TypedData_Get_Struct(execarg_obj, struct rb_execarg, &amp;exec_arg_data_type, eargp);
    if (pid &lt; 0) {
        if (eargp-&gt;exception) {
            int err = errno;
            VALUE command = eargp-&gt;invoke.sh.shell_script;
            RB_GC_GUARD(execarg_obj);
            rb_syserr_fail_str(err, command);
        }
        else {
            return Qnil;
        }
    }
    status = PST2INT(rb_last_status_get());
    if (status == EXIT_SUCCESS) return Qtrue;
    if (eargp-&gt;exception) {
        VALUE command = eargp-&gt;invoke.sh.shell_script;
        VALUE str = rb_str_new_cstr(&quot;Command failed with&quot;);
        rb_str_cat_cstr(pst_message_status(str, status), &quot;: &quot;);
        rb_str_append(str, command);
        RB_GC_GUARD(execarg_obj);
        rb_exc_raise(rb_exc_new_str(rb_eRuntimeError, str));
    }
    else {
        return Qfalse;
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="test-instance_method">
  
    #<strong>test</strong>(cmd, file1[, file2])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Uses the character <code>cmd</code> to perform various tests on
<code>file1</code> (first table below) or on <code>file1</code> and
<code>file2</code> (second table).</p>

<p>File tests on a single file:</p>

<pre class="code"><code class="">Cmd    Returns   Meaning
&quot;A&quot;  | Time    | Last access time for file1
&quot;b&quot;  | boolean | True if file1 is a block device
&quot;c&quot;  | boolean | True if file1 is a character device
&quot;C&quot;  | Time    | Last change time for file1
&quot;d&quot;  | boolean | True if file1 exists and is a directory
&quot;e&quot;  | boolean | True if file1 exists
&quot;f&quot;  | boolean | True if file1 exists and is a regular file
&quot;g&quot;  | boolean | True if file1 has the \CF{setgid} bit
     |         | set (false under NT)
&quot;G&quot;  | boolean | True if file1 exists and has a group
     |         | ownership equal to the caller&#39;s group
&quot;k&quot;  | boolean | True if file1 exists and has the sticky bit set
&quot;l&quot;  | boolean | True if file1 exists and is a symbolic link
&quot;M&quot;  | Time    | Last modification time for file1
&quot;o&quot;  | boolean | True if file1 exists and is owned by
     |         | the caller&#39;s effective uid
&quot;O&quot;  | boolean | True if file1 exists and is owned by
     |         | the caller&#39;s real uid
&quot;p&quot;  | boolean | True if file1 exists and is a fifo
&quot;r&quot;  | boolean | True if file1 is readable by the effective
     |         | uid/gid of the caller
&quot;R&quot;  | boolean | True if file is readable by the real
     |         | uid/gid of the caller
&quot;s&quot;  | int/nil | If file1 has nonzero size, return the size,
     |         | otherwise return nil
&quot;S&quot;  | boolean | True if file1 exists and is a socket
&quot;u&quot;  | boolean | True if file1 has the setuid bit set
&quot;w&quot;  | boolean | True if file1 exists and is writable by
     |         | the effective uid/gid
&quot;W&quot;  | boolean | True if file1 exists and is writable by
     |         | the real uid/gid
&quot;x&quot;  | boolean | True if file1 exists and is executable by
     |         | the effective uid/gid
&quot;X&quot;  | boolean | True if file1 exists and is executable by
     |         | the real uid/gid
&quot;z&quot;  | boolean | True if file1 exists and has a zero length</code></pre>

<p>Tests that take two files:</p>

<pre class="code"><code class="">&quot;-&quot;  | boolean | True if file1 and file2 are identical
&quot;=&quot;  | boolean | True if the modification times of file1
     |         | and file2 are equal
&quot;&lt;&quot;  | boolean | True if the modification time of file1
     |         | is prior to that of file2
&quot;&gt;&quot;  | boolean | True if the modification time of file1
     |         | is after that of file2</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


4971
4972
4973
4974
4975
4976
4977
4978
4979
4980
4981
4982
4983
4984
4985
4986
4987
4988
4989
4990
4991
4992
4993
4994
4995
4996
4997
4998
4999
5000
5001
5002
5003
5004
5005
5006
5007
5008
5009
5010
5011
5012
5013
5014
5015
5016
5017
5018
5019
5020
5021
5022
5023
5024
5025
5026
5027
5028
5029
5030
5031
5032
5033
5034
5035
5036
5037
5038
5039
5040
5041
5042
5043
5044
5045
5046
5047
5048
5049
5050
5051
5052
5053
5054
5055
5056
5057
5058
5059
5060
5061
5062
5063
5064
5065
5066
5067
5068
5069
5070
5071
5072
5073
5074
5075
5076
5077
5078
5079
5080
5081
5082
5083
5084
5085
5086
5087
5088
5089
5090
5091
5092
5093
5094
5095
5096
5097
5098
5099
5100
5101
5102
5103
5104
5105
5106
5107
5108
5109
5110
5111
5112
5113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'file.c', line 4971</span>

static VALUE
rb_f_test(int argc, VALUE *argv)
{
    int cmd;

    if (argc == 0) rb_check_arity(argc, 2, 3);
    cmd = NUM2CHR(argv[0]);
    if (cmd == 0) {
      unknown:
	/* unknown command */
	if (ISPRINT(cmd)) {
	    rb_raise(rb_eArgError, &quot;unknown command &#39;%s%c&#39;&quot;, cmd == &#39;\&#39;&#39; || cmd == &#39;\\&#39; ? &quot;\\&quot; : &quot;&quot;, cmd);
	}
	else {
	    rb_raise(rb_eArgError, &quot;unknown command \&quot;\\x%02X\&quot;&quot;, cmd);
	}
    }
    if (strchr(&quot;bcdefgGkloOprRsSuwWxXz&quot;, cmd)) {
	CHECK(1);
	switch (cmd) {
	  case &#39;b&#39;:
	    return rb_file_blockdev_p(0, argv[1]);

	  case &#39;c&#39;:
	    return rb_file_chardev_p(0, argv[1]);

	  case &#39;d&#39;:
	    return rb_file_directory_p(0, argv[1]);

	  case &#39;e&#39;:
	    return rb_file_exist_p(0, argv[1]);

	  case &#39;f&#39;:
	    return rb_file_file_p(0, argv[1]);

	  case &#39;g&#39;:
	    return rb_file_sgid_p(0, argv[1]);

	  case &#39;G&#39;:
	    return rb_file_grpowned_p(0, argv[1]);

	  case &#39;k&#39;:
	    return rb_file_sticky_p(0, argv[1]);

	  case &#39;l&#39;:
	    return rb_file_symlink_p(0, argv[1]);

	  case &#39;o&#39;:
	    return rb_file_owned_p(0, argv[1]);

	  case &#39;O&#39;:
	    return rb_file_rowned_p(0, argv[1]);

	  case &#39;p&#39;:
	    return rb_file_pipe_p(0, argv[1]);

	  case &#39;r&#39;:
	    return rb_file_readable_p(0, argv[1]);

	  case &#39;R&#39;:
	    return rb_file_readable_real_p(0, argv[1]);

	  case &#39;s&#39;:
	    return rb_file_size_p(0, argv[1]);

	  case &#39;S&#39;:
	    return rb_file_socket_p(0, argv[1]);

	  case &#39;u&#39;:
	    return rb_file_suid_p(0, argv[1]);

	  case &#39;w&#39;:
	    return rb_file_writable_p(0, argv[1]);

	  case &#39;W&#39;:
	    return rb_file_writable_real_p(0, argv[1]);

	  case &#39;x&#39;:
	    return rb_file_executable_p(0, argv[1]);

	  case &#39;X&#39;:
	    return rb_file_executable_real_p(0, argv[1]);

	  case &#39;z&#39;:
	    return rb_file_zero_p(0, argv[1]);
	}
    }

    if (strchr(&quot;MAC&quot;, cmd)) {
	struct stat st;
	VALUE fname = argv[1];

	CHECK(1);
	if (rb_stat(fname, &amp;st) == -1) {
	    int e = errno;
	    FilePathValue(fname);
	    rb_syserr_fail_path(e, fname);
	}

	switch (cmd) {
	  case &#39;A&#39;:
	    return stat_atime(&amp;st);
	  case &#39;M&#39;:
	    return stat_mtime(&amp;st);
	  case &#39;C&#39;:
	    return stat_ctime(&amp;st);
	}
    }

    if (cmd == &#39;-&#39;) {
	CHECK(2);
	return rb_file_identical_p(0, argv[1], argv[2]);
    }

    if (strchr(&quot;=&lt;&gt;&quot;, cmd)) {
	struct stat st1, st2;
        struct timespec t1, t2;

	CHECK(2);
	if (rb_stat(argv[1], &amp;st1) &lt; 0) return Qfalse;
	if (rb_stat(argv[2], &amp;st2) &lt; 0) return Qfalse;

        t1 = stat_mtimespec(&amp;st1);
        t2 = stat_mtimespec(&amp;st2);

	switch (cmd) {
	  case &#39;=&#39;:
	    if (t1.tv_sec == t2.tv_sec &amp;&amp; t1.tv_nsec == t2.tv_nsec) return Qtrue;
	    return Qfalse;

	  case &#39;&gt;&#39;:
	    if (t1.tv_sec &gt; t2.tv_sec) return Qtrue;
	    if (t1.tv_sec == t2.tv_sec &amp;&amp; t1.tv_nsec &gt; t2.tv_nsec) return Qtrue;
	    return Qfalse;

	  case &#39;&lt;&#39;:
	    if (t1.tv_sec &lt; t2.tv_sec) return Qtrue;
	    if (t1.tv_sec == t2.tv_sec &amp;&amp; t1.tv_nsec &lt; t2.tv_nsec) return Qtrue;
	    return Qfalse;
	}
    }
    goto unknown;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="throw-instance_method">
  
    #<strong>throw</strong>(tag[, obj])  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Transfers control to the end of the active <code>catch</code> block waiting
for <em>tag</em>. Raises <code>UncaughtThrowError</code> if there is no
<code>catch</code> block for the <em>tag</em>. The optional second
parameter supplies a return value for the <code>catch</code> block, which
otherwise defaults to <code>nil</code>. For examples, see
<code>Kernel::catch</code>.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1849
1850
1851
1852
1853
1854
1855
1856
1857</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vm_eval.c', line 1849</span>

static VALUE
rb_f_throw(int argc, VALUE *argv)
{
    VALUE tag, value;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;tag, &amp;value);
    rb_throw_obj(tag, value);
    UNREACHABLE;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="trace_var-instance_method">
  
    
      <span class="overload">#<strong>trace_var</strong>(symbol, cmd)  &#x21d2; <tt>nil</tt> </span>
    
      <span class="overload">#<strong>trace_var</strong>(symbol) {|val| ... } &#x21d2; <tt>nil</tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Controls tracing of assignments to global variables. The parameter
<code>symbol</code> identifies the variable (as either a string name or a
symbol identifier). <em>cmd</em> (which may be a string or a
<code>Proc</code> object) or block is executed whenever the variable is
assigned. The block or <code>Proc</code> object receives the variable&#39;s
new value as a parameter. Also see <code>Kernel::untrace_var</code>.</p>

<pre class="code"><code class=""><span class='id identifier rubyid_trace_var'>trace_var</span> <span class='symbol'>:$_</span><span class='comma'>,</span> <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$_ is now &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='gvar'>$_</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hello</span><span class='tstring_end'>&quot;</span></span>
<span class='gvar'>$_</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'> there</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<p><em>produces:</em></p>

<pre class="code"><code class="">$_ is now &#39;hello&#39;
$_ is now &#39; there&#39;</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>trace_var</strong>(symbol, cmd)  &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>trace_var</strong>(symbol) {|val| ... } &#x21d2; <tt>nil</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>val</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'variable.c', line 689</span>

VALUE
rb_f_trace_var(int argc, const VALUE *argv)
{
    VALUE var, cmd;
    struct rb_global_entry *entry;
    struct trace_var *trace;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;var, &amp;cmd) == 1) {
	cmd = rb_block_proc();
    }
    if (NIL_P(cmd)) {
	return rb_f_untrace_var(argc, argv);
    }
    entry = rb_global_entry(rb_to_id(var));
    if (OBJ_TAINTED(cmd)) {
	rb_raise(rb_eSecurityError, &quot;Insecure: tainted variable trace&quot;);
    }
    trace = ALLOC(struct trace_var);
    trace-&gt;next = entry-&gt;var-&gt;trace;
    trace-&gt;func = rb_trace_eval;
    trace-&gt;data = cmd;
    trace-&gt;removed = 0;
    entry-&gt;var-&gt;trace = trace;

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="trap-instance_method">
  
    
      <span class="overload">#<strong>trap</strong>(signal, command)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>trap</strong>(signal) {|| ... } &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Specifies the handling of signals. The first parameter is a signal name (a
string such as “SIGALRM&#39;&#39;, “SIGUSR1&#39;&#39;, and so on) or a
signal number. The characters “SIG&#39;&#39; may be omitted from the signal
name. The command or block specifies code to be run when the signal is
raised. If the command is the string “IGNORE&#39;&#39; or
“SIG_IGN&#39;&#39;, the signal will be ignored. If the command is
“DEFAULT&#39;&#39; or “SIG_DFL&#39;&#39;, the Ruby&#39;s default handler
will be invoked. If the command is “EXIT&#39;&#39;, the script will be
terminated by the signal. If the command is “SYSTEM_DEFAULT&#39;&#39;, the
operating system&#39;s default handler will be invoked. Otherwise, the
given command or block will be run. The special signal name “EXIT&#39;&#39;
or signal number zero will be invoked just prior to program termination.
trap returns the previous handler for the given signal.</p>

<pre class="code"><code class=""><span class='const'><span class='object_link'><a href="Signal.html" title="Signal (module)">Signal</a></span></span><span class='period'>.</span><span class='id identifier rubyid_trap'><span class='object_link'><a href="Signal.html#trap-class_method" title="Signal.trap (method)">trap</a></span></span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Terminating: </span><span class='embexpr_beg'>#{</span><span class='gvar'>$$</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='const'><span class='object_link'><a href="Signal.html" title="Signal (module)">Signal</a></span></span><span class='period'>.</span><span class='id identifier rubyid_trap'><span class='object_link'><a href="Signal.html#trap-class_method" title="Signal.trap (method)">trap</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CLD</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Child died</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='id identifier rubyid_fork'>fork</span> <span class='op'>&amp;&amp;</span> <span class='const'><span class='object_link'><a href="Process.html" title="Process (module)">Process</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wait'><span class='object_link'><a href="Process.html#wait-class_method" title="Process.wait (method)">wait</a></span></span>
</code></pre>

<p>produces:</p>

<pre class="code"><code class="">Terminating: 27461
Child died
Terminating: 27460</code></pre>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>trap</strong>(signal, command)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>trap</strong>(signal) {|| ... } &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1340
1341
1342
1343
1344
1345
1346
1347
1348
1349
1350
1351
1352
1353
1354
1355
1356
1357
1358
1359
1360
1361
1362
1363
1364
1365
1366
1367
1368
1369
1370
1371
1372</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'signal.c', line 1340</span>

static VALUE
sig_trap(int argc, VALUE *argv)
{
    int sig;
    sighandler_t func;
    VALUE cmd;

    rb_check_arity(argc, 1, 2);

    sig = trap_signm(argv[0]);
    if (reserved_signal_p(sig)) {
        const char *name = signo2signm(sig);
        if (name)
            rb_raise(rb_eArgError, &quot;can&#39;t trap reserved signal: SIG%s&quot;, name);
        else
            rb_raise(rb_eArgError, &quot;can&#39;t trap reserved signal: %d&quot;, sig);
    }

    if (argc == 1) {
	cmd = rb_block_proc();
	func = sighandler;
    }
    else {
	cmd = argv[1];
	func = trap_handler(&amp;cmd, sig);
    }

    if (OBJ_TAINTED(cmd)) {
	rb_raise(rb_eSecurityError, &quot;Insecure: tainted signal trap&quot;);
    }

    return trap(sig, func, cmd);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="untrace_var-instance_method">
  
    #<strong>untrace_var</strong>(symbol[, cmd])  &#x21d2; <tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Removes tracing for the specified command on the given global variable and
returns <code>nil</code>. If no command is specified, removes all tracing
for that variable and returns an array containing the commands actually
removed.</p>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#Array-instance_method" title="Kernel#Array (method)">Array</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'variable.c', line 748</span>

VALUE
rb_f_untrace_var(int argc, const VALUE *argv)
{
    VALUE var, cmd;
    ID id;
    struct rb_global_entry *entry;
    struct trace_var *trace;
    VALUE data;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;var, &amp;cmd);
    id = rb_check_id(&amp;var);
    if (!id) {
	rb_name_error_str(var, &quot;undefined global variable %&quot;PRIsVALUE&quot;&quot;, QUOTE(var));
    }
    if (!rb_id_table_lookup(rb_global_tbl, id, &amp;data)) {
	rb_name_error(id, &quot;undefined global variable %&quot;PRIsVALUE&quot;&quot;, QUOTE_ID(id));
    }

    trace = (entry = (struct rb_global_entry *)data)-&gt;var-&gt;trace;
    if (NIL_P(cmd)) {
	VALUE ary = rb_ary_new();

	while (trace) {
	    struct trace_var *next = trace-&gt;next;
	    rb_ary_push(ary, (VALUE)trace-&gt;data);
	    trace-&gt;removed = 1;
	    trace = next;
	}

	if (!entry-&gt;var-&gt;block_trace) remove_trace(entry-&gt;var);
	return ary;
    }
    else {
	while (trace) {
	    if (trace-&gt;data == cmd) {
		trace-&gt;removed = 1;
		if (!entry-&gt;var-&gt;block_trace) remove_trace(entry-&gt;var);
		return rb_ary_new3(1, cmd);
	    }
	    trace = trace-&gt;next;
	}
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="warn-instance_method">
  
    #<strong>warn</strong>(msg, ...)  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>If warnings have been disabled (for example with the <code>-W0</code>
flag), does nothing.  Otherwise, converts each of the messages to strings,
appends a newline character to the string if the string does not end in a
newline, and calls <code>Warning.warn</code> with the string.</p>

<pre class="code"><code class="">  warn(&quot;warning 1&quot;, &quot;warning 2&quot;)

&lt;em&gt;produces:&lt;/em&gt;

  warning 1
  warning 2</code></pre>

<p>If the <code>:uplevel</code> keyword is given, the string will be prepended
with information for the given caller frame in the same format used by the
<code>rb_warn</code> C function.</p>

<pre class="code"><code class="">  # In baz.rb
  def foo
    warn(&quot;invalid call to foo&quot;, uplevel: 1)
  end

  def bar
    foo
  end

  bar

&lt;em&gt;produces:&lt;/em&gt;

  baz.rb:6: warning: invalid call to foo</code></pre>


  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'error.c', line 348</span>

static VALUE
rb_warn_m(int argc, VALUE *argv, VALUE exc)
{
    VALUE opts, uplevel = Qnil;

    if (!NIL_P(ruby_verbose) &amp;&amp; argc &gt; 0 &amp;&amp;
	    (argc = rb_scan_args(argc, argv, &quot;*:&quot;, NULL, &amp;opts)) &gt; 0) {
	VALUE str = argv[0];
	if (!NIL_P(opts)) {
	    static ID kwds[1];
	    if (!kwds[0]) {
		CONST_ID(kwds[0], &quot;uplevel&quot;);
	    }
	    rb_get_kwargs(opts, kwds, 0, 1, &amp;uplevel);
	    if (uplevel == Qundef) {
		uplevel = Qnil;
	    }
	    else if (!NIL_P(uplevel)) {
		VALUE args[2];
		long lev = NUM2LONG(uplevel);
		if (lev &lt; 0) {
		    rb_raise(rb_eArgError, &quot;negative level (%ld)&quot;, lev);
		}
		args[0] = LONG2NUM(lev + 1);
		args[1] = INT2FIX(1);
		uplevel = rb_vm_thread_backtrace_locations(2, args, GET_THREAD()-&gt;self);
		if (!NIL_P(uplevel)) {
		    uplevel = rb_ary_entry(uplevel, 0);
		}
	    }
	}
	if (argc &gt; 1 || !NIL_P(uplevel) || !end_with_asciichar(str, &#39;\n&#39;)) {
	    if (NIL_P(uplevel)) {
		str = rb_str_tmp_new(0);
	    }
	    else {
		VALUE path;
		path = rb_funcall(uplevel, rb_intern(&quot;path&quot;), 0);
		str = rb_sprintf(&quot;%s:%ld: warning: &quot;,
		    rb_string_value_ptr(&amp;path),
		    NUM2LONG(rb_funcall(uplevel, rb_intern(&quot;lineno&quot;), 0)));
	    }
	    RBASIC_SET_CLASS(str, rb_cWarningBuffer);
	    rb_io_puts(argc, argv, str);
	    RBASIC_SET_CLASS(str, rb_cString);
	}
	if (exc == rb_mWarning) {
	    rb_must_asciicompat(str);
	    rb_write_error_str(str);
	}
	else {
	    rb_write_warning_str(str);
	}
    }
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Feb 26 22:23:12 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.4.2).
</div>

    </div>
  </body>
</html>