<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Fiddle
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Fiddle";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (F)</a> &raquo;
    
    
    <span class="title">Fiddle</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Fiddle
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>ext/fiddle/fiddle.c<span class="defines">,<br />
  ext/fiddle/fiddle.c,<br /> ext/fiddle/closure.c</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A libffi wrapper for Ruby.</p>

<h2 id="label-Description">Description</h2>

<p>Fiddle is an extension to translate a foreign function interface (FFI) with
ruby.</p>

<p>It wraps <a href="http://sourceware.org/libffi/">libffi</a>, a popular C
library which provides a portable interface that allows code written in one
language to call code written in another language.</p>

<h2 id="label-Example">Example</h2>

<p>Here we will use Fiddle::Function to wrap <a
href="http://linux.die.net/man/3/floor">floor(3) from libm</a></p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fiddle</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_libm'>libm</span> <span class='op'>=</span> <span class='const'>Fiddle</span><span class='period'>.</span><span class='id identifier rubyid_dlopen'>dlopen</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/lib/libm.so.6</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

<span class='id identifier rubyid_floor'>floor</span> <span class='op'>=</span> <span class='const'>Fiddle</span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Fiddle/Function.html" title="Fiddle::Function (class)">Function</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Fiddle/Function.html#initialize-instance_method" title="Fiddle::Function#initialize (method)">new</a></span></span><span class='lparen'>(</span>
  <span class='id identifier rubyid_libm'>libm</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>floor</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='lbracket'>[</span><span class='const'>Fiddle</span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#TYPE_DOUBLE-constant" title="Fiddle::TYPE_DOUBLE (constant)">TYPE_DOUBLE</a></span></span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='const'>Fiddle</span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#TYPE_DOUBLE-constant" title="Fiddle::TYPE_DOUBLE (constant)">TYPE_DOUBLE</a></span></span>
<span class='rparen'>)</span>

<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_floor'>floor</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='float'>3.14159</span><span class='rparen'>)</span> <span class='comment'>#=&gt; 3.0
</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Fiddle/Closure.html" title="Fiddle::Closure (class)">Closure</a></span>, <span class='object_link'><a href="Fiddle/DLError.html" title="Fiddle::DLError (class)">DLError</a></span>, <span class='object_link'><a href="Fiddle/Function.html" title="Fiddle::Function (class)">Function</a></span>, <span class='object_link'><a href="Fiddle/Handle.html" title="Fiddle::Handle (class)">Handle</a></span>, <span class='object_link'><a href="Fiddle/Pointer.html" title="Fiddle::Pointer (class)">Pointer</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="TYPE_VOID-constant" class="">TYPE_VOID =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - void</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_VOID-constant" title="Fiddle::TYPE_VOID (constant)">TYPE_VOID</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_VOIDP-constant" class="">TYPE_VOIDP =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - void*</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_VOIDP-constant" title="Fiddle::TYPE_VOIDP (constant)">TYPE_VOIDP</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_CHAR-constant" class="">TYPE_CHAR =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - char</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_CHAR-constant" title="Fiddle::TYPE_CHAR (constant)">TYPE_CHAR</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_SHORT-constant" class="">TYPE_SHORT =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - short</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_SHORT-constant" title="Fiddle::TYPE_SHORT (constant)">TYPE_SHORT</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_INT-constant" class="">TYPE_INT =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - int</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_INT-constant" title="Fiddle::TYPE_INT (constant)">TYPE_INT</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_LONG-constant" class="">TYPE_LONG =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - long</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_LONG-constant" title="Fiddle::TYPE_LONG (constant)">TYPE_LONG</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_LONG_LONG-constant" class="">TYPE_LONG_LONG =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - long long</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_LONG_LONG-constant" title="Fiddle::TYPE_LONG_LONG (constant)">TYPE_LONG_LONG</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_FLOAT-constant" class="">TYPE_FLOAT =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - float</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_FLOAT-constant" title="Fiddle::TYPE_FLOAT (constant)">TYPE_FLOAT</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_DOUBLE-constant" class="">TYPE_DOUBLE =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - double</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_DOUBLE-constant" title="Fiddle::TYPE_DOUBLE (constant)">TYPE_DOUBLE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_SIZE_T-constant" class="">TYPE_SIZE_T =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - size_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_SIZE_T-constant" title="Fiddle::TYPE_SIZE_T (constant)">TYPE_SIZE_T</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_SSIZE_T-constant" class="">TYPE_SSIZE_T =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - ssize_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_SSIZE_T-constant" title="Fiddle::TYPE_SSIZE_T (constant)">TYPE_SSIZE_T</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_PTRDIFF_T-constant" class="">TYPE_PTRDIFF_T =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - ptrdiff_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_PTRDIFF_T-constant" title="Fiddle::TYPE_PTRDIFF_T (constant)">TYPE_PTRDIFF_T</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_INTPTR_T-constant" class="">TYPE_INTPTR_T =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - intptr_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_INTPTR_T-constant" title="Fiddle::TYPE_INTPTR_T (constant)">TYPE_INTPTR_T</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="TYPE_UINTPTR_T-constant" class="">TYPE_UINTPTR_T =
        <div class="docstring">
  <div class="discussion">
    
<p>C type - uintptr_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#TYPE_UINTPTR_T-constant" title="Fiddle::TYPE_UINTPTR_T (constant)">TYPE_UINTPTR_T</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_VOIDP-constant" class="">ALIGN_VOIDP =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a void*</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#ALIGN_VOIDP-constant" title="Fiddle::ALIGN_VOIDP (constant)">ALIGN_VOIDP</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_CHAR-constant" class="">ALIGN_CHAR =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a char</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#ALIGN_CHAR-constant" title="Fiddle::ALIGN_CHAR (constant)">ALIGN_CHAR</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_SHORT-constant" class="">ALIGN_SHORT =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a short</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#ALIGN_SHORT-constant" title="Fiddle::ALIGN_SHORT (constant)">ALIGN_SHORT</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_INT-constant" class="">ALIGN_INT =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of an int</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#ALIGN_INT-constant" title="Fiddle::ALIGN_INT (constant)">ALIGN_INT</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_LONG-constant" class="">ALIGN_LONG =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a long</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#ALIGN_LONG-constant" title="Fiddle::ALIGN_LONG (constant)">ALIGN_LONG</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_LONG_LONG-constant" class="">ALIGN_LONG_LONG =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a long long</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#ALIGN_LONG_LONG-constant" title="Fiddle::ALIGN_LONG_LONG (constant)">ALIGN_LONG_LONG</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_FLOAT-constant" class="">ALIGN_FLOAT =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a float</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#ALIGN_FLOAT-constant" title="Fiddle::ALIGN_FLOAT (constant)">ALIGN_FLOAT</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_DOUBLE-constant" class="">ALIGN_DOUBLE =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a double</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#ALIGN_DOUBLE-constant" title="Fiddle::ALIGN_DOUBLE (constant)">ALIGN_DOUBLE</a></span></span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_SIZE_T-constant" class="">ALIGN_SIZE_T =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a size_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>ALIGN_OF</span><span class='lparen'>(</span><span class='id identifier rubyid_size_t'>size_t</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_SSIZE_T-constant" class="">ALIGN_SSIZE_T =
        <div class="docstring">
  <div class="discussion">
    
<p>same as size_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>ALIGN_OF</span><span class='lparen'>(</span><span class='id identifier rubyid_size_t'>size_t</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_PTRDIFF_T-constant" class="">ALIGN_PTRDIFF_T =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a ptrdiff_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>ALIGN_OF</span><span class='lparen'>(</span><span class='id identifier rubyid_ptrdiff_t'>ptrdiff_t</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_INTPTR_T-constant" class="">ALIGN_INTPTR_T =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a intptr_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>ALIGN_OF</span><span class='lparen'>(</span><span class='id identifier rubyid_intptr_t'>intptr_t</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="ALIGN_UINTPTR_T-constant" class="">ALIGN_UINTPTR_T =
        <div class="docstring">
  <div class="discussion">
    
<p>The alignment size of a uintptr_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>ALIGN_OF</span><span class='lparen'>(</span><span class='id identifier rubyid_uintptr_t'>uintptr_t</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="WINDOWS-constant" class="">WINDOWS =
        
      </dt>
      <dd><pre class="code"><span class='const'>Qfalse</span></pre></dd>
    
      <dt id="SIZEOF_VOIDP-constant" class="">SIZEOF_VOIDP =
        <div class="docstring">
  <div class="discussion">
    
<p>size of a void*</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code">INT2NUM(sizeof(void*))</pre></dd>
    
      <dt id="SIZEOF_CHAR-constant" class="">SIZEOF_CHAR =
        <div class="docstring">
  <div class="discussion">
    
<p>size of a char</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='id identifier rubyid_char'>char</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="SIZEOF_SHORT-constant" class="">SIZEOF_SHORT =
        <div class="docstring">
  <div class="discussion">
    
<p>size of a short</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='id identifier rubyid_short'>short</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="SIZEOF_INT-constant" class="">SIZEOF_INT =
        <div class="docstring">
  <div class="discussion">
    
<p>size of an int</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='id identifier rubyid_int'>int</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="SIZEOF_LONG-constant" class="">SIZEOF_LONG =
        <div class="docstring">
  <div class="discussion">
    
<p>size of a long</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='id identifier rubyid_long'>long</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="SIZEOF_LONG_LONG-constant" class="">SIZEOF_LONG_LONG =
        <div class="docstring">
  <div class="discussion">
    
<p>size of a long long</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='const'>LONG_LONG</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="SIZEOF_FLOAT-constant" class="">SIZEOF_FLOAT =
        <div class="docstring">
  <div class="discussion">
    
<p>size of a float</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='id identifier rubyid_float'>float</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="SIZEOF_DOUBLE-constant" class="">SIZEOF_DOUBLE =
        <div class="docstring">
  <div class="discussion">
    
<p>size of a double</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='id identifier rubyid_double'>double</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="SIZEOF_SIZE_T-constant" class="">SIZEOF_SIZE_T =
        <div class="docstring">
  <div class="discussion">
    
<p>size of a size_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='id identifier rubyid_size_t'>size_t</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="SIZEOF_SSIZE_T-constant" class="">SIZEOF_SSIZE_T =
        <div class="docstring">
  <div class="discussion">
    
<p>same as size_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='id identifier rubyid_size_t'>size_t</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="SIZEOF_PTRDIFF_T-constant" class="">SIZEOF_PTRDIFF_T =
        <div class="docstring">
  <div class="discussion">
    
<p>size of a ptrdiff_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='id identifier rubyid_ptrdiff_t'>ptrdiff_t</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="SIZEOF_INTPTR_T-constant" class="">SIZEOF_INTPTR_T =
        <div class="docstring">
  <div class="discussion">
    
<p>size of a intptr_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='id identifier rubyid_intptr_t'>intptr_t</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="SIZEOF_UINTPTR_T-constant" class="">SIZEOF_UINTPTR_T =
        <div class="docstring">
  <div class="discussion">
    
<p>size of a uintptr_t</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_sizeof'>sizeof</span><span class='lparen'>(</span><span class='id identifier rubyid_uintptr_t'>uintptr_t</span><span class='rparen'>)</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="RUBY_FREE-constant" class="">RUBY_FREE =
        <div class="docstring">
  <div class="discussion">
    
<p>Address of the ruby_xfree() function</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='const'>PTR2NUM</span><span class='lparen'>(</span><span class='id identifier rubyid_ruby_xfree'>ruby_xfree</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="BUILD_RUBY_PLATFORM-constant" class="">BUILD_RUBY_PLATFORM =
        <div class="docstring">
  <div class="discussion">
    
<p>Platform built against (i.e. “x86_64-linux”, etc.)</p>

<p>See also RUBY_PLATFORM</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='id identifier rubyid_rb_str_new2'>rb_str_new2</span><span class='lparen'>(</span><span class='const'>RUBY_PLATFORM</span><span class='rparen'>)</span></pre></dd>
    
      <dt id="NULL-constant" class="">NULL =
        <div class="docstring">
  <div class="discussion">
    
<p>A NULL pointer</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='id identifier rubyid_rb_fiddle_ptr_new'>rb_fiddle_ptr_new</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span></pre></dd>
    
  </dl>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dlunwrap-class_method" title="dlunwrap (class method)">.<strong>dlunwrap</strong>(addr)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the hexadecimal representation of a memory pointer address
<code>addr</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dlwrap-class_method" title="dlwrap (class method)">.<strong>dlwrap</strong>(val)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a memory pointer of a function&#39;s hexadecimal address location
<code>val</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#free-class_method" title="free (class method)">.<strong>free</strong>(addr)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Free the memory at address <code>addr</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#malloc-class_method" title="malloc (class method)">.<strong>malloc</strong>(size)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Allocate <code>size</code> bytes of memory and return the integer memory
address for the allocated memory.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#realloc-class_method" title="realloc (class method)">.<strong>realloc</strong>(addr, size)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Change the size of the memory allocated at the memory location
<code>addr</code> to <code>size</code> bytes.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="dlunwrap-class_method">
  
    .<strong>dlunwrap</strong>(addr)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the hexadecimal representation of a memory pointer address
<code>addr</code></p>

<p>Example:</p>

<pre class="code"><code class="">lib = Fiddle.dlopen(&#39;/lib64/libc-2.15.so&#39;)
=&gt; #&lt;Fiddle::Handle:0x00000001342460&gt;

lib[&#39;strcpy&#39;].to_s(16)
=&gt; &quot;7f59de6dd240&quot;

Fiddle.dlunwrap(Fiddle.dlwrap(lib[&#39;strcpy&#39;].to_s(16)))
=&gt; &quot;7f59de6dd240&quot;</code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/fiddle/fiddle.c', line 101</span>

VALUE
rb_fiddle_ptr2value(VALUE self, VALUE addr)
{
    return (VALUE)NUM2PTR(addr);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dlwrap-class_method">
  
    .<strong>dlwrap</strong>(val)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a memory pointer of a function&#39;s hexadecimal address location
<code>val</code></p>

<p>Example:</p>

<pre class="code"><code class="">lib = Fiddle.dlopen(&#39;/lib64/libc-2.15.so&#39;)
=&gt; #&lt;Fiddle::Handle:0x00000001342460&gt;

Fiddle.dlwrap(lib[&#39;strcpy&#39;].to_s(16))
=&gt; 25522520</code></pre>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/fiddle/fiddle.c', line 120</span>

static VALUE
rb_fiddle_value2ptr(VALUE self, VALUE val)
{
    return PTR2NUM((void*)val);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="free-class_method">
  
    .<strong>free</strong>(addr)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Free the memory at address <code>addr</code></p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


76
77
78
79
80
81
82
83</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/fiddle/fiddle.c', line 76</span>

VALUE
rb_fiddle_free(VALUE self, VALUE addr)
{
    void *ptr = NUM2PTR(addr);

    ruby_xfree(ptr);
    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="malloc-class_method">
  
    .<strong>malloc</strong>(size)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Allocate <code>size</code> bytes of memory and return the integer memory
address for the allocated memory.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48
49
50
51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/fiddle/fiddle.c', line 46</span>

static VALUE
rb_fiddle_malloc(VALUE self, VALUE size)
{
    void *ptr;

    ptr = (void*)ruby_xmalloc(NUM2SIZET(size));
    return PTR2NUM(ptr);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="realloc-class_method">
  
    .<strong>realloc</strong>(addr, size)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Change the size of the memory allocated at the memory location
<code>addr</code> to <code>size</code> bytes.  Returns the memory address
of the reallocated memory, which may be different than the address passed
in.</p>


  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62
63
64
65
66
67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/fiddle/fiddle.c', line 62</span>

static VALUE
rb_fiddle_realloc(VALUE self, VALUE addr, VALUE size)
{
    void *ptr = NUM2PTR(addr);

    ptr = (void*)ruby_xrealloc(ptr, NUM2SIZET(size));
    return PTR2NUM(ptr);
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Feb 26 22:17:42 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.4.2).
</div>

    </div>
  </body>
</html>